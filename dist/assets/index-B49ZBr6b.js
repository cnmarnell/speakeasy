function hy(o,a){for(var i=0;i<a.length;i++){const l=a[i];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in o)){const d=Object.getOwnPropertyDescriptor(l,c);d&&Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function gy(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Qg(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var i=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var c=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:function(){return o[l]}})}),i}var yc={exports:{}},ri={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function my(){if(sg)return ri;sg=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:o,type:l,key:f,ref:c!==void 0?c:null,props:d}}return ri.Fragment=a,ri.jsx=i,ri.jsxs=i,ri}var ig;function vy(){return ig||(ig=1,yc.exports=my()),yc.exports}var g=vy(),pc={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function yy(){if(lg)return se;lg=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=j&&A[j]||A["@@iterator"],typeof A=="function"?A:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function H(A,q,K){this.props=A,this.context=q,this.refs=D,this.updater=K||O}H.prototype.isReactComponent={},H.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=H.prototype;function G(A,q,K){this.props=A,this.context=q,this.refs=D,this.updater=K||O}var Q=G.prototype=new L;Q.constructor=G,x(Q,H.prototype),Q.isPureReactComponent=!0;var V=Array.isArray;function $(){}var X={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function le(A,q,K){var P=K.ref;return{$$typeof:o,type:A,key:q,ref:P!==void 0?P:null,props:K}}function ke(A,q){return le(A.type,q,A.props)}function at(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function Qe(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return q[K]})}var Xt=/\/+/g;function Bt(A,q){return typeof A=="object"&&A!==null&&A.key!=null?Qe(""+A.key):q.toString(36)}function ht(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($,$):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function z(A,q,K,P,re){var ue=typeof A;(ue==="undefined"||ue==="boolean")&&(A=null);var Se=!1;if(A===null)Se=!0;else switch(ue){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(A.$$typeof){case o:case a:Se=!0;break;case b:return Se=A._init,z(Se(A._payload),q,K,P,re)}}if(Se)return re=re(A),Se=P===""?"."+Bt(A,0):P,V(re)?(K="",Se!=null&&(K=Se.replace(Xt,"$&/")+"/"),z(re,q,K,"",function(gs){return gs})):re!=null&&(at(re)&&(re=ke(re,K+(re.key==null||A&&A.key===re.key?"":(""+re.key).replace(Xt,"$&/")+"/")+Se)),q.push(re)),1;Se=0;var st=P===""?".":P+":";if(V(A))for(var Be=0;Be<A.length;Be++)P=A[Be],ue=st+Bt(P,Be),Se+=z(P,q,K,ue,re);else if(Be=_(A),typeof Be=="function")for(A=Be.call(A),Be=0;!(P=A.next()).done;)P=P.value,ue=st+Bt(P,Be++),Se+=z(P,q,K,ue,re);else if(ue==="object"){if(typeof A.then=="function")return z(ht(A),q,K,P,re);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(A,q,K){if(A==null)return A;var P=[],re=0;return z(A,P,"","",function(ue){return q.call(K,ue,re++)}),P}function Z(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var ye=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ve={map:Y,forEach:function(A,q,K){Y(A,function(){q.apply(this,arguments)},K)},count:function(A){var q=0;return Y(A,function(){q++}),q},toArray:function(A){return Y(A,function(q){return q})||[]},only:function(A){if(!at(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return se.Activity=w,se.Children=ve,se.Component=H,se.Fragment=i,se.Profiler=c,se.PureComponent=G,se.StrictMode=l,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,se.__COMPILER_RUNTIME={__proto__:null,c:function(A){return X.H.useMemoCache(A)}},se.cache=function(A){return function(){return A.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(A,q,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var P=x({},A.props),re=A.key;if(q!=null)for(ue in q.key!==void 0&&(re=""+q.key),q)!we.call(q,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&q.ref===void 0||(P[ue]=q[ue]);var ue=arguments.length-2;if(ue===1)P.children=K;else if(1<ue){for(var Se=Array(ue),st=0;st<ue;st++)Se[st]=arguments[st+2];P.children=Se}return le(A.type,re,P)},se.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},se.createElement=function(A,q,K){var P,re={},ue=null;if(q!=null)for(P in q.key!==void 0&&(ue=""+q.key),q)we.call(q,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(re[P]=q[P]);var Se=arguments.length-2;if(Se===1)re.children=K;else if(1<Se){for(var st=Array(Se),Be=0;Be<Se;Be++)st[Be]=arguments[Be+2];re.children=st}if(A&&A.defaultProps)for(P in Se=A.defaultProps,Se)re[P]===void 0&&(re[P]=Se[P]);return le(A,ue,re)},se.createRef=function(){return{current:null}},se.forwardRef=function(A){return{$$typeof:m,render:A}},se.isValidElement=at,se.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:Z}},se.memo=function(A,q){return{$$typeof:v,type:A,compare:q===void 0?null:q}},se.startTransition=function(A){var q=X.T,K={};X.T=K;try{var P=A(),re=X.S;re!==null&&re(K,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then($,ye)}catch(ue){ye(ue)}finally{q!==null&&K.types!==null&&(q.types=K.types),X.T=q}},se.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},se.use=function(A){return X.H.use(A)},se.useActionState=function(A,q,K){return X.H.useActionState(A,q,K)},se.useCallback=function(A,q){return X.H.useCallback(A,q)},se.useContext=function(A){return X.H.useContext(A)},se.useDebugValue=function(){},se.useDeferredValue=function(A,q){return X.H.useDeferredValue(A,q)},se.useEffect=function(A,q){return X.H.useEffect(A,q)},se.useEffectEvent=function(A){return X.H.useEffectEvent(A)},se.useId=function(){return X.H.useId()},se.useImperativeHandle=function(A,q,K){return X.H.useImperativeHandle(A,q,K)},se.useInsertionEffect=function(A,q){return X.H.useInsertionEffect(A,q)},se.useLayoutEffect=function(A,q){return X.H.useLayoutEffect(A,q)},se.useMemo=function(A,q){return X.H.useMemo(A,q)},se.useOptimistic=function(A,q){return X.H.useOptimistic(A,q)},se.useReducer=function(A,q,K){return X.H.useReducer(A,q,K)},se.useRef=function(A){return X.H.useRef(A)},se.useState=function(A){return X.H.useState(A)},se.useSyncExternalStore=function(A,q,K){return X.H.useSyncExternalStore(A,q,K)},se.useTransition=function(){return X.H.useTransition()},se.version="19.2.0",se}var rg;function Jc(){return rg||(rg=1,pc.exports=yy()),pc.exports}var J=Jc(),bc={exports:{}},oi={},_c={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function py(){return og||(og=1,(function(o){function a(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var ye=Z-1>>>1,ve=z[ye];if(0<c(ve,Y))z[ye]=Y,z[Z]=ve,Z=ye;else break e}}function i(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var ye=0,ve=z.length,A=ve>>>1;ye<A;){var q=2*(ye+1)-1,K=z[q],P=q+1,re=z[P];if(0>c(K,Z))P<ve&&0>c(re,K)?(z[ye]=re,z[P]=Z,ye=P):(z[ye]=K,z[q]=Z,ye=q);else if(P<ve&&0>c(re,Z))z[ye]=re,z[P]=Z,ye=P;else break e}}return Y}function c(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();o.unstable_now=function(){return f.now()-m}}var y=[],v=[],b=1,w=null,j=3,_=!1,O=!1,x=!1,D=!1,H=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(z){for(var Y=i(v);Y!==null;){if(Y.callback===null)l(v);else if(Y.startTime<=z)l(v),Y.sortIndex=Y.expirationTime,a(y,Y);else break;Y=i(v)}}function V(z){if(x=!1,Q(z),!O)if(i(y)!==null)O=!0,$||($=!0,Qe());else{var Y=i(v);Y!==null&&ht(V,Y.startTime-z)}}var $=!1,X=-1,we=5,le=-1;function ke(){return D?!0:!(o.unstable_now()-le<we)}function at(){if(D=!1,$){var z=o.unstable_now();le=z;var Y=!0;try{e:{O=!1,x&&(x=!1,L(X),X=-1),_=!0;var Z=j;try{t:{for(Q(z),w=i(y);w!==null&&!(w.expirationTime>z&&ke());){var ye=w.callback;if(typeof ye=="function"){w.callback=null,j=w.priorityLevel;var ve=ye(w.expirationTime<=z);if(z=o.unstable_now(),typeof ve=="function"){w.callback=ve,Q(z),Y=!0;break t}w===i(y)&&l(y),Q(z)}else l(y);w=i(y)}if(w!==null)Y=!0;else{var A=i(v);A!==null&&ht(V,A.startTime-z),Y=!1}}break e}finally{w=null,j=Z,_=!1}Y=void 0}}finally{Y?Qe():$=!1}}}var Qe;if(typeof G=="function")Qe=function(){G(at)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,Bt=Xt.port2;Xt.port1.onmessage=at,Qe=function(){Bt.postMessage(null)}}else Qe=function(){H(at,0)};function ht(z,Y){X=H(function(){z(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(z){z.callback=null},o.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<z?Math.floor(1e3/z):5},o.unstable_getCurrentPriorityLevel=function(){return j},o.unstable_next=function(z){switch(j){case 1:case 2:case 3:var Y=3;break;default:Y=j}var Z=j;j=Y;try{return z()}finally{j=Z}},o.unstable_requestPaint=function(){D=!0},o.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=j;j=z;try{return Y()}finally{j=Z}},o.unstable_scheduleCallback=function(z,Y,Z){var ye=o.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ye+Z:ye):Z=ye,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Z+ve,z={id:b++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:ve,sortIndex:-1},Z>ye?(z.sortIndex=Z,a(v,z),i(y)===null&&z===i(v)&&(x?(L(X),X=-1):x=!0,ht(V,Z-ye))):(z.sortIndex=ve,a(y,z),O||_||(O=!0,$||($=!0,Qe()))),z},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(z){var Y=j;return function(){var Z=j;j=Y;try{return z.apply(this,arguments)}finally{j=Z}}}})(wc)),wc}var cg;function by(){return cg||(cg=1,_c.exports=py()),_c.exports}var Sc={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function _y(){if(ug)return tt;ug=1;var o=Jc();function a(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:y,containerInfo:v,implementation:b}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,tt.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return d(y,v,null,b)},tt.flushSync=function(y){var v=f.T,b=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=v,l.p=b,l.d.f()}},tt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},tt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},tt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin),j=typeof v.integrity=="string"?v.integrity:void 0,_=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:_}):b==="script"&&l.d.X(y,{crossOrigin:w,integrity:j,fetchPriority:_,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},tt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},tt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin);l.d.L(y,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},tt.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=m(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},tt.requestFormReset=function(y){l.d.r(y)},tt.unstable_batchedUpdates=function(y,v){return y(v)},tt.useFormState=function(y,v,b){return f.H.useFormState(y,v,b)},tt.useFormStatus=function(){return f.H.useHostTransitionStatus()},tt.version="19.2.0",tt}var dg;function wy(){if(dg)return Sc.exports;dg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),Sc.exports=_y(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Sy(){if(fg)return oi;fg=1;var o=by(),a=Jc(),i=wy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return y(r),e;if(u===s)return y(r),t;u=u.sibling}throw Error(l(188))}if(n.return!==s.return)n=r,s=u;else{for(var h=!1,p=r.child;p;){if(p===n){h=!0,n=r,s=u;break}if(p===s){h=!0,s=r,n=u;break}p=p.sibling}if(!h){for(p=u.child;p;){if(p===n){h=!0,n=u,s=r;break}if(p===s){h=!0,s=u,n=r;break}p=p.sibling}if(!h)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function Qe(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case H:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case G:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Bt(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return Bt(e(t))}catch{}}return null}var ht=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ye=[],ve=-1;function A(e){return{current:e}}function q(e){0>ve||(e.current=ye[ve],ye[ve]=null,ve--)}function K(e,t){ve++,ye[ve]=e.current,e.current=t}var P=A(null),re=A(null),ue=A(null),Se=A(null);function st(e,t){switch(K(ue,t),K(re,e),K(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xh(t),e=Oh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(P),K(P,e)}function Be(){q(P),q(re),q(ue)}function gs(e){e.memoizedState!==null&&K(Se,e);var t=P.current,n=Oh(t,e.type);t!==n&&(K(re,e),K(P,n))}function yi(e){re.current===e&&(q(P),q(re)),Se.current===e&&(q(Se),ai._currentValue=Z)}var Wl,nu;function Yn(e){if(Wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wl=t&&t[1]||"",nu=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+e+nu}var Fl=!1;function er(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(k){var R=k}Reflect.construct(e,[],B)}else{try{B.call()}catch(k){R=k}e.call(B.prototype)}}else{try{throw Error()}catch(k){R=k}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(k){if(k&&R&&typeof k.stack=="string")return[k.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),h=u[0],p=u[1];if(h&&p){var S=h.split(`
`),C=p.split(`
`);for(r=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;if(s===S.length||r===C.length)for(s=S.length-1,r=C.length-1;1<=s&&0<=r&&S[s]!==C[r];)r--;for(;1<=s&&0<=r;s--,r--)if(S[s]!==C[r]){if(s!==1||r!==1)do if(s--,r--,0>r||S[s]!==C[r]){var U=`
`+S[s].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=s&&0<=r);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yn(n):""}function Ym(e,t){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==t&&t!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Yn("Activity");default:return""}}function au(e){try{var t="",n=null;do t+=Ym(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tr=Object.prototype.hasOwnProperty,nr=o.unstable_scheduleCallback,ar=o.unstable_cancelCallback,Km=o.unstable_shouldYield,Jm=o.unstable_requestPaint,gt=o.unstable_now,Qm=o.unstable_getCurrentPriorityLevel,su=o.unstable_ImmediatePriority,iu=o.unstable_UserBlockingPriority,pi=o.unstable_NormalPriority,Xm=o.unstable_LowPriority,lu=o.unstable_IdlePriority,Zm=o.log,Im=o.unstable_setDisableYieldValue,ms=null,mt=null;function mn(e){if(typeof Zm=="function"&&Im(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(ms,e)}catch{}}var vt=Math.clz32?Math.clz32:Fm,Pm=Math.log,Wm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Pm(e)/Wm|0)|0}var bi=256,_i=262144,wi=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Kn(s):(h&=p,h!==0?r=Kn(h):n||(n=p&~e,n!==0&&(r=Kn(n))))):(p=s&~u,p!==0?r=Kn(p):h!==0?r=Kn(h):n||(n=s&~e,n!==0&&(r=Kn(n)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:r}function vs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function e0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),e}function sr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function t0(e,t,n,s,r,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,C=e.hiddenUpdates;for(n=h&~n;0<n;){var U=31-vt(n),B=1<<U;p[U]=0,S[U]=-1;var R=C[U];if(R!==null)for(C[U]=null,U=0;U<R.length;U++){var k=R[U];k!==null&&(k.lane&=-536870913)}n&=~B}s!==0&&ou(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function ou(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-vt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function uu(e,t){var n=t&-t;return n=(n&42)!==0?1:ir(n),(n&(e.suspendedLanes|t))!==0?0:n}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Ph(e.type))}function fu(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var vn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+vn,lt="__reactProps$"+vn,pa="__reactContainer$"+vn,rr="__reactEvents$"+vn,n0="__reactListeners$"+vn,a0="__reactHandles$"+vn,hu="__reactResources$"+vn,ps="__reactMarker$"+vn;function or(e){delete e[Ie],delete e[lt],delete e[rr],delete e[n0],delete e[a0]}function ba(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[Ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zh(e);e!==null;){if(n=e[Ie])return n;e=zh(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Ie]||e[pa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function bs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function wa(e){var t=e[hu];return t||(t=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[ps]=!0}var gu=new Set,mu={};function Jn(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(mu[e]=t,e=0;e<t.length;e++)gu.add(t[e])}var s0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},yu={};function i0(e){return tr.call(yu,e)?!0:tr.call(vu,e)?!1:s0.test(e)?yu[e]=!0:(vu[e]=!0,!1)}function Ei(e,t,n){if(i0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ji(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Zt(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l0(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cr(e){if(!e._valueTracker){var t=pu(e)?"checked":"value";e._valueTracker=l0(e,t,""+e[t])}}function bu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=pu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var r0=/[\n"\\]/g;function Ot(e){return e.replace(r0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ur(e,t,n,s,r,u,h,p){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xt(t)):e.value!==""+xt(t)&&(e.value=""+xt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?dr(e,h,xt(t)):n!=null?dr(e,h,xt(n)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+xt(p):e.removeAttribute("name")}function _u(e,t,n,s,r,u,h,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){cr(e);return}n=n!=null?""+xt(n):"",t=t!=null?""+xt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),cr(e)}function dr(e,t,n){t==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ea(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+xt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function wu(e,t,n){if(t!=null&&(t=""+xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xt(n):""}function Su(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(ht(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=xt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),cr(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var o0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||o0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ju(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Eu(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Eu(e,u,t[u])}function fr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return u0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var hr=null;function gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,Ta=null;function Au(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ur(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[lt]||null;if(!r)throw Error(l(90));ur(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&bu(s)}break e;case"textarea":wu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ea(e,!!n.multiple,t,!1)}}}var mr=!1;function Tu(e,t,n){if(mr)return e(t,n);mr=!0;try{var s=e(t);return s}finally{if(mr=!1,(Aa!==null||Ta!==null)&&(hl(),Aa&&(t=Aa,e=Ta,Ta=Aa=null,Au(t),e)))for(t=0;t<e.length;t++)Au(e[t])}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var s=n[lt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Pt)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){vr=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{vr=!1}var yn=null,yr=null,xi=null;function xu(){if(xi)return xi;var e,t=yr,n=t.length,s,r="value"in yn?yn.value:yn.textContent,u=r.length;for(e=0;e<n&&t[e]===r[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===r[u-s];s++);return xi=r.slice(e,1<s?1-s:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Ou(){return!1}function rt(e){function t(n,s,r,u,h){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ni:Ou,this.isPropagationStopped=Ou,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=rt(Qn),Ss=w({},Qn,{view:0,detail:0}),d0=rt(Ss),pr,br,Es,Ri=w({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(pr=e.screenX-Es.screenX,br=e.screenY-Es.screenY):br=pr=0,Es=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:br}}),Nu=rt(Ri),f0=w({},Ri,{dataTransfer:0}),h0=rt(f0),g0=w({},Ss,{relatedTarget:0}),_r=rt(g0),m0=w({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=rt(m0),y0=w({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p0=rt(y0),b0=w({},Qn,{data:0}),Cu=rt(b0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S0[e])?!!t[e]:!1}function wr(){return E0}var j0=w({},Ss,{key:function(e){if(e.key){var t=_0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A0=rt(j0),T0=w({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=rt(T0),x0=w({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),O0=rt(x0),N0=w({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0=rt(N0),R0=w({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=rt(R0),k0=w({},Qn,{newState:0,oldState:0}),U0=rt(k0),z0=[9,13,27,32],Sr=Pt&&"CompositionEvent"in window,js=null;Pt&&"documentMode"in document&&(js=document.documentMode);var M0=Pt&&"TextEvent"in window&&!js,Du=Pt&&(!Sr||js&&8<js&&11>=js),ku=" ",Uu=!1;function zu(e,t){switch(e){case"keyup":return z0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function B0(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Uu=!0,ku);case"textInput":return e=t.data,e===ku&&Uu?null:e;default:return null}}function L0(e,t){if(xa)return e==="compositionend"||!Sr&&zu(e,t)?(e=xu(),xi=yr=yn=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Du&&t.locale!=="ko"?null:t.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q0[e.type]:t==="textarea"}function Lu(e,t,n,s){Aa?Ta?Ta.push(s):Ta=[s]:Aa=s,t=_l(t,"onChange"),0<t.length&&(n=new Ci("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var As=null,Ts=null;function H0(e){wh(e,0)}function Di(e){var t=bs(e);if(bu(t))return e}function qu(e,t){if(e==="change")return t}var Hu=!1;if(Pt){var Er;if(Pt){var jr="oninput"in document;if(!jr){var Gu=document.createElement("div");Gu.setAttribute("oninput","return;"),jr=typeof Gu.oninput=="function"}Er=jr}else Er=!1;Hu=Er&&(!document.documentMode||9<document.documentMode)}function $u(){As&&(As.detachEvent("onpropertychange",Vu),Ts=As=null)}function Vu(e){if(e.propertyName==="value"&&Di(Ts)){var t=[];Lu(t,Ts,e,gr(e)),Tu(H0,t)}}function G0(e,t,n){e==="focusin"?($u(),As=t,Ts=n,As.attachEvent("onpropertychange",Vu)):e==="focusout"&&$u()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(Ts)}function V0(e,t){if(e==="click")return Di(t)}function Y0(e,t){if(e==="input"||e==="change")return Di(t)}function K0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:K0;function xs(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!tr.call(t,r)||!yt(e[r],t[r]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var n=Yu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yu(n)}}function Ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ai(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var J0=Pt&&"documentMode"in document&&11>=document.documentMode,Oa=null,Tr=null,Os=null,xr=!1;function Xu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xr||Oa==null||Oa!==Ai(s)||(s=Oa,"selectionStart"in s&&Ar(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Os&&xs(Os,s)||(Os=s,s=_l(Tr,"onSelect"),0<s.length&&(t=new Ci("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Oa)))}function Xn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},Or={},Zu={};Pt&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Zn(e){if(Or[e])return Or[e];if(!Na[e])return e;var t=Na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zu)return Or[e]=t[n];return e}var Iu=Zn("animationend"),Pu=Zn("animationiteration"),Wu=Zn("animationstart"),Q0=Zn("transitionrun"),X0=Zn("transitionstart"),Z0=Zn("transitioncancel"),Fu=Zn("transitionend"),ed=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Lt(e,t){ed.set(e,t),Jn(t,[e])}var ki=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],Ca=0,Cr=0;function Ui(){for(var e=Ca,t=Cr=Ca=0;t<e;){var n=Nt[t];Nt[t++]=null;var s=Nt[t];Nt[t++]=null;var r=Nt[t];Nt[t++]=null;var u=Nt[t];if(Nt[t++]=null,s!==null&&r!==null){var h=s.pending;h===null?r.next=r:(r.next=h.next,h.next=r),s.pending=r}u!==0&&td(n,r,u)}}function zi(e,t,n,s){Nt[Ca++]=e,Nt[Ca++]=t,Nt[Ca++]=n,Nt[Ca++]=s,Cr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rr(e,t,n,s){return zi(e,t,n,s),Mi(e)}function In(e,t){return zi(e,null,null,t),Mi(e)}function td(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-vt(n),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),u):null}function Mi(e){if(50<Is)throw Is=0,Go=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ra={};function I0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,s){return new I0(e,t,n,s)}function Dr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,n,s,r,u){var h=0;if(s=e,typeof e=="function")Dr(e)&&(h=1);else if(typeof e=="string")h=ty(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=pt(31,n,t,r),e.elementType=le,e.lanes=u,e;case x:return Pn(n.children,r,u,t);case D:h=8,r|=24;break;case H:return e=pt(12,n,t,r|2),e.elementType=H,e.lanes=u,e;case V:return e=pt(13,n,t,r),e.elementType=V,e.lanes=u,e;case $:return e=pt(19,n,t,r),e.elementType=$,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:h=10;break e;case L:h=9;break e;case Q:h=11;break e;case X:h=14;break e;case we:h=16,s=null;break e}h=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=pt(h,n,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function Pn(e,t,n,s){return e=pt(7,e,s,t),e.lanes=n,e}function kr(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function ad(e){var t=pt(18,null,null,0);return t.stateNode=e,t}function Ur(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sd=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var n=sd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:au(t)},sd.set(e,t),t)}return{value:e,source:t,stack:au(t)}}var Da=[],ka=0,Li=null,Ns=0,Rt=[],Dt=0,pn=null,Yt=1,Kt="";function Ft(e,t){Da[ka++]=Ns,Da[ka++]=Li,Li=e,Ns=t}function id(e,t,n){Rt[Dt++]=Yt,Rt[Dt++]=Kt,Rt[Dt++]=pn,pn=e;var s=Yt;e=Kt;var r=32-vt(s)-1;s&=~(1<<r),n+=1;var u=32-vt(t)+r;if(30<u){var h=r-r%5;u=(s&(1<<h)-1).toString(32),s>>=h,r-=h,Yt=1<<32-vt(t)+r|n<<r|s,Kt=u+e}else Yt=1<<u|n<<r|s,Kt=e}function zr(e){e.return!==null&&(Ft(e,1),id(e,1,0))}function Mr(e){for(;e===Li;)Li=Da[--ka],Da[ka]=null,Ns=Da[--ka],Da[ka]=null;for(;e===pn;)pn=Rt[--Dt],Rt[Dt]=null,Kt=Rt[--Dt],Rt[Dt]=null,Yt=Rt[--Dt],Rt[Dt]=null}function ld(e,t){Rt[Dt++]=Yt,Rt[Dt++]=Kt,Rt[Dt++]=pn,Yt=t.id,Kt=t.overflow,pn=e}var Pe=null,Ce=null,me=!1,bn=null,kt=!1,Br=Error(l(519));function _n(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs(Ct(t,e)),Br}function rd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Ie]=e,t[lt]=s,n){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(n=0;n<Ws.length;n++)fe(Ws[n],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),_u(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),Su(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Ah(t.textContent,n)?(s.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),s.onScroll!=null&&fe("scroll",t),s.onScrollEnd!=null&&fe("scrollend",t),s.onClick!=null&&(t.onclick=It),t=!0):t=!1,t||_n(e,!0)}function od(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:Pe=Pe.return}}function Ua(e){if(e!==Pe)return!1;if(!me)return od(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nc(e.type,e.memoizedProps)),n=!n),n&&Ce&&_n(e),od(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ce=Uh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ce=Uh(e)}else t===27?(t=Ce,Un(e.type)?(e=rc,rc=null,Ce=e):Ce=t):Ce=Pe?zt(e.stateNode.nextSibling):null;return!0}function Wn(){Ce=Pe=null,me=!1}function Lr(){var e=bn;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),bn=null),e}function Cs(e){bn===null?bn=[e]:bn.push(e)}var qr=A(null),Fn=null,en=null;function wn(e,t,n){K(qr,t._currentValue),t._currentValue=n}function tn(e){e._currentValue=qr.current,q(qr)}function Hr(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var h=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var S=0;S<t.length;S++)if(p.context===t[S]){u.lanes|=n,p=u.alternate,p!==null&&(p.lanes|=n),Hr(u.return,n,e),s||(h=null);break e}u=p.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(l(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),Hr(h,n,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function za(e,t,n,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var p=r.type;yt(r.pendingProps.value,h.value)||(e!==null?e.push(p):e=[p])}}else if(r===Se.current){if(h=r.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ai):e=[ai])}r=r.return}e!==null&&Gr(t,e,n,s),t.flags|=262144}function qi(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){Fn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return cd(Fn,e)}function Hi(e,t){return Fn===null&&ea(e),cd(e,t)}function cd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},en===null){if(e===null)throw Error(l(308));en=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else en=en.next=t;return n}var P0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W0=o.unstable_scheduleCallback,F0=o.unstable_NormalPriority,He={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $r(){return{controller:new P0,data:new Map,refCount:0}}function Rs(e){e.refCount--,e.refCount===0&&W0(F0,function(){e.controller.abort()})}var Ds=null,Vr=0,Ma=0,Ba=null;function ev(e,t){if(Ds===null){var n=Ds=[];Vr=0,Ma=Qo(),Ba={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Vr++,t.then(ud,ud),t}function ud(){if(--Vr===0&&Ds!==null){Ba!==null&&(Ba.status="fulfilled");var e=Ds;Ds=null,Ma=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tv(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var dd=z.S;z.S=function(e,t){Zf=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ev(e,t),dd!==null&&dd(e,t)};var ta=A(null);function Yr(){var e=ta.current;return e!==null?e:Oe.pooledCache}function Gi(e,t){t===null?K(ta,ta.current):K(ta,t.pool)}function fd(){var e=Yr();return e===null?null:{parent:He._currentValue,pool:e}}var La=Error(l(460)),Kr=Error(l(474)),$i=Error(l(542)),Vi={then:function(){}};function hd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e;default:if(typeof t.status=="string")t.then(It,It);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e}throw aa=t,La}}function na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,La):n}}var aa=null;function md(){if(aa===null)throw Error(l(459));var e=aa;return aa=null,e}function vd(e){if(e===La||e===$i)throw Error(l(483))}var qa=null,ks=0;function Yi(e){var t=ks;return ks+=1,qa===null&&(qa=[]),gd(qa,e,t)}function Us(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ki(e,t){throw t.$$typeof===j?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yd(e){function t(T,E){if(e){var N=T.deletions;N===null?(T.deletions=[E],T.flags|=16):N.push(E)}}function n(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function s(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function r(T,E){return T=Wt(T,E),T.index=0,T.sibling=null,T}function u(T,E,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<E?(T.flags|=67108866,E):N):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,E,N,M){return E===null||E.tag!==6?(E=kr(N,T.mode,M),E.return=T,E):(E=r(E,N),E.return=T,E)}function S(T,E,N,M){var ee=N.type;return ee===x?U(T,E,N.props.children,M,N.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&na(ee)===E.type)?(E=r(E,N.props),Us(E,N),E.return=T,E):(E=Bi(N.type,N.key,N.props,null,T.mode,M),Us(E,N),E.return=T,E)}function C(T,E,N,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=Ur(N,T.mode,M),E.return=T,E):(E=r(E,N.children||[]),E.return=T,E)}function U(T,E,N,M,ee){return E===null||E.tag!==7?(E=Pn(N,T.mode,M,ee),E.return=T,E):(E=r(E,N),E.return=T,E)}function B(T,E,N){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=kr(""+E,T.mode,N),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _:return N=Bi(E.type,E.key,E.props,null,T.mode,N),Us(N,E),N.return=T,N;case O:return E=Ur(E,T.mode,N),E.return=T,E;case we:return E=na(E),B(T,E,N)}if(ht(E)||Qe(E))return E=Pn(E,T.mode,N,null),E.return=T,E;if(typeof E.then=="function")return B(T,Yi(E),N);if(E.$$typeof===G)return B(T,Hi(T,E),N);Ki(T,E)}return null}function R(T,E,N,M){var ee=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ee!==null?null:p(T,E,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return N.key===ee?S(T,E,N,M):null;case O:return N.key===ee?C(T,E,N,M):null;case we:return N=na(N),R(T,E,N,M)}if(ht(N)||Qe(N))return ee!==null?null:U(T,E,N,M,null);if(typeof N.then=="function")return R(T,E,Yi(N),M);if(N.$$typeof===G)return R(T,E,Hi(T,N),M);Ki(T,N)}return null}function k(T,E,N,M,ee){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return T=T.get(N)||null,p(E,T,""+M,ee);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return T=T.get(M.key===null?N:M.key)||null,S(E,T,M,ee);case O:return T=T.get(M.key===null?N:M.key)||null,C(E,T,M,ee);case we:return M=na(M),k(T,E,N,M,ee)}if(ht(M)||Qe(M))return T=T.get(N)||null,U(E,T,M,ee,null);if(typeof M.then=="function")return k(T,E,N,Yi(M),ee);if(M.$$typeof===G)return k(T,E,N,Hi(E,M),ee);Ki(E,M)}return null}function I(T,E,N,M){for(var ee=null,pe=null,W=E,ce=E=0,ge=null;W!==null&&ce<N.length;ce++){W.index>ce?(ge=W,W=null):ge=W.sibling;var be=R(T,W,N[ce],M);if(be===null){W===null&&(W=ge);break}e&&W&&be.alternate===null&&t(T,W),E=u(be,E,ce),pe===null?ee=be:pe.sibling=be,pe=be,W=ge}if(ce===N.length)return n(T,W),me&&Ft(T,ce),ee;if(W===null){for(;ce<N.length;ce++)W=B(T,N[ce],M),W!==null&&(E=u(W,E,ce),pe===null?ee=W:pe.sibling=W,pe=W);return me&&Ft(T,ce),ee}for(W=s(W);ce<N.length;ce++)ge=k(W,T,ce,N[ce],M),ge!==null&&(e&&ge.alternate!==null&&W.delete(ge.key===null?ce:ge.key),E=u(ge,E,ce),pe===null?ee=ge:pe.sibling=ge,pe=ge);return e&&W.forEach(function(qn){return t(T,qn)}),me&&Ft(T,ce),ee}function ne(T,E,N,M){if(N==null)throw Error(l(151));for(var ee=null,pe=null,W=E,ce=E=0,ge=null,be=N.next();W!==null&&!be.done;ce++,be=N.next()){W.index>ce?(ge=W,W=null):ge=W.sibling;var qn=R(T,W,be.value,M);if(qn===null){W===null&&(W=ge);break}e&&W&&qn.alternate===null&&t(T,W),E=u(qn,E,ce),pe===null?ee=qn:pe.sibling=qn,pe=qn,W=ge}if(be.done)return n(T,W),me&&Ft(T,ce),ee;if(W===null){for(;!be.done;ce++,be=N.next())be=B(T,be.value,M),be!==null&&(E=u(be,E,ce),pe===null?ee=be:pe.sibling=be,pe=be);return me&&Ft(T,ce),ee}for(W=s(W);!be.done;ce++,be=N.next())be=k(W,T,ce,be.value,M),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?ce:be.key),E=u(be,E,ce),pe===null?ee=be:pe.sibling=be,pe=be);return e&&W.forEach(function(fy){return t(T,fy)}),me&&Ft(T,ce),ee}function xe(T,E,N,M){if(typeof N=="object"&&N!==null&&N.type===x&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _:e:{for(var ee=N.key;E!==null;){if(E.key===ee){if(ee=N.type,ee===x){if(E.tag===7){n(T,E.sibling),M=r(E,N.props.children),M.return=T,T=M;break e}}else if(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&na(ee)===E.type){n(T,E.sibling),M=r(E,N.props),Us(M,N),M.return=T,T=M;break e}n(T,E);break}else t(T,E);E=E.sibling}N.type===x?(M=Pn(N.props.children,T.mode,M,N.key),M.return=T,T=M):(M=Bi(N.type,N.key,N.props,null,T.mode,M),Us(M,N),M.return=T,T=M)}return h(T);case O:e:{for(ee=N.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){n(T,E.sibling),M=r(E,N.children||[]),M.return=T,T=M;break e}else{n(T,E);break}else t(T,E);E=E.sibling}M=Ur(N,T.mode,M),M.return=T,T=M}return h(T);case we:return N=na(N),xe(T,E,N,M)}if(ht(N))return I(T,E,N,M);if(Qe(N)){if(ee=Qe(N),typeof ee!="function")throw Error(l(150));return N=ee.call(N),ne(T,E,N,M)}if(typeof N.then=="function")return xe(T,E,Yi(N),M);if(N.$$typeof===G)return xe(T,E,Hi(T,N),M);Ki(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,E!==null&&E.tag===6?(n(T,E.sibling),M=r(E,N),M.return=T,T=M):(n(T,E),M=kr(N,T.mode,M),M.return=T,T=M),h(T)):n(T,E)}return function(T,E,N,M){try{ks=0;var ee=xe(T,E,N,M);return qa=null,ee}catch(W){if(W===La||W===$i)throw W;var pe=pt(29,W,null,T.mode);return pe.lanes=M,pe.return=T,pe}finally{}}}var sa=yd(!0),pd=yd(!1),Sn=!1;function Jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Mi(e),td(e,null,n),t}return zi(e,s,t,n),Mi(e)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,cu(e,n)}}function Xr(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?r=u=t:u=u.next=t}else r=u=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Zr=!1;function Ms(){if(Zr){var e=Ba;if(e!==null)throw e}}function Bs(e,t,n,s){Zr=!1;var r=e.updateQueue;Sn=!1;var u=r.firstBaseUpdate,h=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var S=p,C=S.next;S.next=null,h===null?u=C:h.next=C,h=S;var U=e.alternate;U!==null&&(U=U.updateQueue,p=U.lastBaseUpdate,p!==h&&(p===null?U.firstBaseUpdate=C:p.next=C,U.lastBaseUpdate=S))}if(u!==null){var B=r.baseState;h=0,U=C=S=null,p=u;do{var R=p.lane&-536870913,k=R!==p.lane;if(k?(he&R)===R:(s&R)===R){R!==0&&R===Ma&&(Zr=!0),U!==null&&(U=U.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var I=e,ne=p;R=t;var xe=n;switch(ne.tag){case 1:if(I=ne.payload,typeof I=="function"){B=I.call(xe,B,R);break e}B=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=ne.payload,R=typeof I=="function"?I.call(xe,B,R):I,R==null)break e;B=w({},B,R);break e;case 2:Sn=!0}}R=p.callback,R!==null&&(e.flags|=64,k&&(e.flags|=8192),k=r.callbacks,k===null?r.callbacks=[R]:k.push(R))}else k={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},U===null?(C=U=k,S=B):U=U.next=k,h|=R;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;k=p,p=k.next,k.next=null,r.lastBaseUpdate=k,r.shared.pending=null}}while(!0);U===null&&(S=B),r.baseState=S,r.firstBaseUpdate=C,r.lastBaseUpdate=U,u===null&&(r.shared.lanes=0),Nn|=h,e.lanes=h,e.memoizedState=B}}function bd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function _d(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bd(n[e],t)}var Ha=A(null),Ji=A(0);function wd(e,t){e=dn,K(Ji,e),K(Ha,t),dn=e|t.baseLanes}function Ir(){K(Ji,dn),K(Ha,Ha.current)}function Pr(){dn=Ji.current,q(Ha),q(Ji)}var bt=A(null),Ut=null;function An(e){var t=e.alternate;K(Le,Le.current&1),K(bt,e),Ut===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(Ut=e)}function Wr(e){K(Le,Le.current),K(bt,e),Ut===null&&(Ut=e)}function Sd(e){e.tag===22?(K(Le,Le.current),K(bt,e),Ut===null&&(Ut=e)):Tn()}function Tn(){K(Le,Le.current),K(bt,bt.current)}function _t(e){q(bt),Ut===e&&(Ut=null),q(Le)}var Le=A(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ic(n)||lc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=0,oe=null,Ae=null,Ge=null,Xi=!1,Ga=!1,ia=!1,Zi=0,Ls=0,$a=null,nv=0;function ze(){throw Error(l(321))}function Fr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function eo(e,t,n,s,r,u){return nn=u,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?lf:vo,ia=!1,u=n(s,r),ia=!1,Ga&&(u=jd(t,n,s,r)),Ed(e),u}function Ed(e){z.H=Gs;var t=Ae!==null&&Ae.next!==null;if(nn=0,Ge=Ae=oe=null,Xi=!1,Ls=0,$a=null,t)throw Error(l(300));e===null||$e||(e=e.dependencies,e!==null&&qi(e)&&($e=!0))}function jd(e,t,n,s){oe=e;var r=0;do{if(Ga&&($a=null),Ls=0,Ga=!1,25<=r)throw Error(l(301));if(r+=1,Ge=Ae=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=rf,u=t(n,s)}while(Ga);return u}function av(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?qs(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(oe.flags|=1024),t}function to(){var e=Zi!==0;return Zi=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Xi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xi=!1}nn=0,Ge=Ae=oe=null,Ga=!1,Ls=Zi=0,$a=null}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?oe.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function qe(){if(Ae===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ge===null?oe.memoizedState:Ge.next;if(t!==null)Ge=t,Ae=e;else{if(e===null)throw oe.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ge===null?oe.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(e){var t=Ls;return Ls+=1,$a===null&&($a=[]),e=gd($a,e,t),t=oe,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?lf:vo),e}function Pi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qs(e);if(e.$$typeof===G)return We(e)}throw Error(l(438,String(e)))}function so(e){var t=null,n=oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=oe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ii(),oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ke;return t.index++,n}function an(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=qe();return io(t,Ae,e)}function io(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var h=r.next;r.next=u.next,u.next=h}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=h=null,S=null,C=t,U=!1;do{var B=C.lane&-536870913;if(B!==C.lane?(he&B)===B:(nn&B)===B){var R=C.revertLane;if(R===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),B===Ma&&(U=!0);else if((nn&R)===R){C=C.next,R===Ma&&(U=!0);continue}else B={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(p=S=B,h=u):S=S.next=B,oe.lanes|=R,Nn|=R;B=C.action,ia&&n(u,B),u=C.hasEagerState?C.eagerState:n(u,B)}else R={lane:B,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(p=S=R,h=u):S=S.next=R,oe.lanes|=B,Nn|=B;C=C.next}while(C!==null&&C!==t);if(S===null?h=u:S.next=p,!yt(u,e.memoizedState)&&($e=!0,U&&(n=Ba,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=S,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function lo(e){var t=qe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,u=t.memoizedState;if(r!==null){n.pending=null;var h=r=r.next;do u=e(u,h.action),h=h.next;while(h!==r);yt(u,t.memoizedState)||($e=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Ad(e,t,n){var s=oe,r=qe(),u=me;if(u){if(n===void 0)throw Error(l(407));n=n()}else n=t();var h=!yt((Ae||r).memoizedState,n);if(h&&(r.memoizedState=n,$e=!0),r=r.queue,co(Od.bind(null,s,r,e),[e]),r.getSnapshot!==t||h||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,Va(9,{destroy:void 0},xd.bind(null,s,r,n,t),null),Oe===null)throw Error(l(349));u||(nn&127)!==0||Td(s,t,n)}return n}function Td(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t=Ii(),oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,s){t.value=n,t.getSnapshot=s,Nd(t)&&Cd(e)}function Od(e,t,n){return n(function(){Nd(t)&&Cd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Cd(e){var t=In(e,2);t!==null&&ft(t,e,2)}function ro(e){var t=it();if(typeof e=="function"){var n=e;if(e=n(),ia){mn(!0);try{n()}finally{mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function Rd(e,t,n,s){return e.baseState=n,io(e,Ae,typeof s=="function"?s:an)}function sv(e,t,n,s,r){if(tl(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};z.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,Dd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Dd(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=z.T,h={};z.T=h;try{var p=n(r,s),S=z.S;S!==null&&S(h,p),kd(e,t,p)}catch(C){oo(e,t,C)}finally{u!==null&&h.types!==null&&(u.types=h.types),z.T=u}}else try{u=n(r,s),kd(e,t,u)}catch(C){oo(e,t,C)}}function kd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Ud(e,t,s)},function(s){return oo(e,t,s)}):Ud(e,t,n)}function Ud(e,t,n){t.status="fulfilled",t.value=n,zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Dd(e,n)))}function oo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,zd(t),t=t.next;while(t!==s)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Md(e,t){return t}function Bd(e,t){if(me){var n=Oe.formState;if(n!==null){e:{var s=oe;if(me){if(Ce){t:{for(var r=Ce,u=kt;r.nodeType!==8;){if(!u){r=null;break t}if(r=zt(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Ce=zt(r.nextSibling),s=r.data==="F!";break e}}_n(s)}s=!1}s&&(t=n[0])}}return n=it(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},n.queue=s,n=nf.bind(null,oe,s),s.dispatch=n,s=ro(!1),u=mo.bind(null,oe,!1,s.queue),s=it(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=sv.bind(null,oe,r,u,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function Ld(e){var t=qe();return qd(t,Ae,e)}function qd(e,t,n){if(t=io(e,t,Md)[0],e=Wi(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=qs(t)}catch(h){throw h===La?$i:h}else s=t;t=qe();var r=t.queue,u=r.dispatch;return n!==t.memoizedState&&(oe.flags|=2048,Va(9,{destroy:void 0},iv.bind(null,r,n),null)),[s,u,e]}function iv(e,t){e.action=t}function Hd(e){var t=qe(),n=Ae;if(n!==null)return qd(t,n,e);qe(),t=t.memoizedState,n=qe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Va(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=oe.updateQueue,t===null&&(t=Ii(),oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Gd(){return qe().memoizedState}function Fi(e,t,n,s){var r=it();oe.flags|=e,r.memoizedState=Va(1|t,{destroy:void 0},n,s===void 0?null:s)}function el(e,t,n,s){var r=qe();s=s===void 0?null:s;var u=r.memoizedState.inst;Ae!==null&&s!==null&&Fr(s,Ae.memoizedState.deps)?r.memoizedState=Va(t,u,n,s):(oe.flags|=e,r.memoizedState=Va(1|t,u,n,s))}function $d(e,t){Fi(8390656,8,e,t)}function co(e,t){el(2048,8,e,t)}function lv(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=Ii(),oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Vd(e){var t=qe().memoizedState;return lv({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return el(4,2,e,t)}function Kd(e,t){return el(4,4,e,t)}function Jd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,n){n=n!=null?n.concat([e]):null,el(4,4,Jd.bind(null,t,e),n)}function uo(){}function Xd(e,t){var n=qe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Fr(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Zd(e,t){var n=qe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Fr(t,s[1]))return s[0];if(s=e(),ia){mn(!0);try{e()}finally{mn(!1)}}return n.memoizedState=[s,t],s}function fo(e,t,n){return n===void 0||(nn&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Pf(),oe.lanes|=e,Nn|=e,n)}function Id(e,t,n,s){return yt(n,t)?n:Ha.current!==null?(e=fo(e,n,s),yt(e,t)||($e=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(he&261930)===0?($e=!0,e.memoizedState=n):(e=Pf(),oe.lanes|=e,Nn|=e,t)}function Pd(e,t,n,s,r){var u=Y.p;Y.p=u!==0&&8>u?u:8;var h=z.T,p={};z.T=p,mo(e,!1,t,n);try{var S=r(),C=z.S;if(C!==null&&C(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=tv(S,s);Hs(e,t,U,Et(e))}else Hs(e,t,s,Et(e))}catch(B){Hs(e,t,{then:function(){},status:"rejected",reason:B},Et())}finally{Y.p=u,h!==null&&p.types!==null&&(h.types=p.types),z.T=h}}function rv(){}function ho(e,t,n,s){if(e.tag!==5)throw Error(l(476));var r=Wd(e).queue;Pd(e,r,t,Z,n===null?rv:function(){return Fd(e),n(s)})}function Wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:Z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fd(e){var t=Wd(e);t.next===null&&(t=e.alternate.memoizedState),Hs(e,t.next.queue,{},Et())}function go(){return We(ai)}function ef(){return qe().memoizedState}function tf(){return qe().memoizedState}function ov(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Et();e=En(n);var s=jn(t,e,n);s!==null&&(ft(s,t,n),zs(s,t,n)),t={cache:$r()},e.payload=t;return}t=t.return}}function cv(e,t,n){var s=Et();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},tl(e)?af(t,n):(n=Rr(e,t,n,s),n!==null&&(ft(n,e,s),sf(n,t,s)))}function nf(e,t,n){var s=Et();Hs(e,t,n,s)}function Hs(e,t,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(tl(e))af(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,p=u(h,n);if(r.hasEagerState=!0,r.eagerState=p,yt(p,h))return zi(e,t,r,0),Oe===null&&Ui(),!1}catch{}finally{}if(n=Rr(e,t,r,s),n!==null)return ft(n,e,s),sf(n,t,s),!0}return!1}function mo(e,t,n,s){if(s={lane:2,revertLane:Qo(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},tl(e)){if(t)throw Error(l(479))}else t=Rr(e,n,s,2),t!==null&&ft(t,e,2)}function tl(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function af(e,t){Ga=Xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,cu(e,n)}}var Gs={readContext:We,use:Pi,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Gs.useEffectEvent=ze;var lf={readContext:We,use:Pi,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:$d,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fi(4194308,4,Jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){Fi(4,2,e,t)},useMemo:function(e,t){var n=it();t=t===void 0?null:t;var s=e();if(ia){mn(!0);try{e()}finally{mn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=it();if(n!==void 0){var r=n(t);if(ia){mn(!0);try{n(t)}finally{mn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=cv.bind(null,oe,e),[s.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:function(e){e=ro(e);var t=e.queue,n=nf.bind(null,oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uo,useDeferredValue:function(e,t){var n=it();return fo(n,e,t)},useTransition:function(){var e=ro(!1);return e=Pd.bind(null,oe,e.queue,!0,!1),it().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=oe,r=it();if(me){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Oe===null)throw Error(l(349));(he&127)!==0||Td(s,t,n)}r.memoizedState=n;var u={value:n,getSnapshot:t};return r.queue=u,$d(Od.bind(null,s,u,e),[e]),s.flags|=2048,Va(9,{destroy:void 0},xd.bind(null,s,u,n,t),null),n},useId:function(){var e=it(),t=Oe.identifierPrefix;if(me){var n=Kt,s=Yt;n=(s&~(1<<32-vt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Zi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:go,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var t=it();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mo.bind(null,oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:so,useCacheRefresh:function(){return it().memoizedState=ov.bind(null,oe)},useEffectEvent:function(e){var t=it(),n={impl:e};return t.memoizedState=n,function(){if((_e&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:We,use:Pi,useCallback:Xd,useContext:We,useEffect:co,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Zd,useReducer:Wi,useRef:Gd,useState:function(){return Wi(an)},useDebugValue:uo,useDeferredValue:function(e,t){var n=qe();return Id(n,Ae.memoizedState,e,t)},useTransition:function(){var e=Wi(an)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:Ad,useId:ef,useHostTransitionStatus:go,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var n=qe();return Rd(n,Ae,e,t)},useMemoCache:so,useCacheRefresh:tf};vo.useEffectEvent=Vd;var rf={readContext:We,use:Pi,useCallback:Xd,useContext:We,useEffect:co,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Zd,useReducer:lo,useRef:Gd,useState:function(){return lo(an)},useDebugValue:uo,useDeferredValue:function(e,t){var n=qe();return Ae===null?fo(n,e,t):Id(n,Ae.memoizedState,e,t)},useTransition:function(){var e=lo(an)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:Ad,useId:ef,useHostTransitionStatus:go,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var n=qe();return Ae!==null?Rd(n,Ae,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:so,useCacheRefresh:tf};rf.useEffectEvent=Vd;function yo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Et(),r=En(s);r.payload=t,n!=null&&(r.callback=n),t=jn(e,r,s),t!==null&&(ft(t,e,s),zs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Et(),r=En(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=jn(e,r,s),t!==null&&(ft(t,e,s),zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),s=En(n);s.tag=2,t!=null&&(s.callback=t),t=jn(e,s,n),t!==null&&(ft(t,e,n),zs(t,e,n))}};function of(e,t,n,s,r,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!xs(n,s)||!xs(r,u):!0}function cf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function uf(e){ki(e)}function df(e){console.error(e)}function ff(e){ki(e)}function nl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function bo(e,t,n){return n=En(n),n.tag=3,n.payload={element:null},n.callback=function(){nl(e,t)},n}function gf(e){return e=En(e),e.tag=3,e}function mf(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){hf(t,n,s)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){hf(t,n,s),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function uv(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&za(t,n,r,!0),n=bt.current,n!==null){switch(n.tag){case 31:case 13:return Ut===null?gl():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Vi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Yo(e,s,r)),!1;case 22:return n.flags|=65536,s===Vi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Yo(e,s,r)),!1}throw Error(l(435,n.tag))}return Yo(e,s,r),gl(),!1}if(me)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Br&&(e=Error(l(422),{cause:s}),Cs(Ct(e,n)))):(s!==Br&&(t=Error(l(423),{cause:s}),Cs(Ct(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Ct(s,n),r=bo(e.stateNode,s,r),Xr(e,r),Me!==4&&(Me=2)),!1;var u=Error(l(520),{cause:s});if(u=Ct(u,n),Zs===null?Zs=[u]:Zs.push(u),Me!==4&&(Me=2),t===null)return!0;s=Ct(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=bo(n.stateNode,s,e),Xr(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Cn===null||!Cn.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=gf(r),mf(r,e,n,s),Xr(n,r),!1}n=n.return}while(n!==null);return!1}var _o=Error(l(461)),$e=!1;function Fe(e,t,n,s){t.child=e===null?pd(t,null,n,s):sa(t,e.child,n,s)}function vf(e,t,n,s,r){n=n.render;var u=t.ref;if("ref"in s){var h={};for(var p in s)p!=="ref"&&(h[p]=s[p])}else h=s;return ea(t),s=eo(e,t,n,h,u,r),p=to(),e!==null&&!$e?(no(e,t,r),sn(e,t,r)):(me&&p&&zr(t),t.flags|=1,Fe(e,t,s,r),t.child)}function yf(e,t,n,s,r){if(e===null){var u=n.type;return typeof u=="function"&&!Dr(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,pf(e,t,u,s,r)):(e=Bi(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Oo(e,r)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(h,s)&&e.ref===t.ref)return sn(e,t,r)}return t.flags|=1,e=Wt(u,s),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,n,s,r){if(e!==null){var u=e.memoizedProps;if(xs(u,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=u,Oo(e,r))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,sn(e,t,r)}return wo(e,t,n,s,r)}function bf(e,t,n,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return _f(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,u!==null?u.cachePool:null),u!==null?wd(t,u):Ir(),Sd(t);else return s=t.lanes=536870912,_f(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(Gi(t,u.cachePool),wd(t,u),Tn(),t.memoizedState=null):(e!==null&&Gi(t,null),Ir(),Tn());return Fe(e,t,r,n),t.child}function $s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _f(e,t,n,s,r){var u=Yr();return u=u===null?null:{parent:He._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Gi(t,null),Ir(),Sd(t),e!==null&&za(e,t,s,!0),t.childLanes=r,null}function al(e,t){return t=il({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wf(e,t,n){return sa(t,e.child,null,n),e=al(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function dv(e,t,n){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=al(t,s),t.lanes=536870912,$s(null,e);if(Wr(t),(e=Ce)?(e=kh(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pn!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=ad(e),n.return=t,t.child=n,Pe=t,Ce=null)):e=null,e===null)throw _n(t);return t.lanes=536870912,null}return al(t,s)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(Wr(t),r)if(t.flags&256)t.flags&=-257,t=wf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if($e||za(e,t,n,!1),r=(n&e.childLanes)!==0,$e||r){if(s=Oe,s!==null&&(h=uu(s,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,In(e,h),ft(s,e,h),_o;gl(),t=wf(e,t,n)}else e=u.treeContext,Ce=zt(h.nextSibling),Pe=t,me=!0,bn=null,kt=!1,e!==null&&ld(t,e),t=al(t,s),t.flags|=4096;return t}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wo(e,t,n,s,r){return ea(t),n=eo(e,t,n,s,void 0,r),s=to(),e!==null&&!$e?(no(e,t,r),sn(e,t,r)):(me&&s&&zr(t),t.flags|=1,Fe(e,t,n,r),t.child)}function Sf(e,t,n,s,r,u){return ea(t),t.updateQueue=null,n=jd(t,s,n,r),Ed(e),s=to(),e!==null&&!$e?(no(e,t,u),sn(e,t,u)):(me&&s&&zr(t),t.flags|=1,Fe(e,t,n,u),t.child)}function Ef(e,t,n,s,r){if(ea(t),t.stateNode===null){var u=Ra,h=n.contextType;typeof h=="object"&&h!==null&&(u=We(h)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=po,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Jr(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?We(h):Ra,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(yo(t,n,h,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&po.enqueueReplaceState(u,u.state,null),Bs(t,s,u,r),Ms(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,S=la(n,p);u.props=S;var C=u.context,U=n.contextType;h=Ra,typeof U=="object"&&U!==null&&(h=We(U));var B=n.getDerivedStateFromProps;U=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,U||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||C!==h)&&cf(t,u,s,h),Sn=!1;var R=t.memoizedState;u.state=R,Bs(t,s,u,r),Ms(),C=t.memoizedState,p||R!==C||Sn?(typeof B=="function"&&(yo(t,n,B,s),C=t.memoizedState),(S=Sn||of(t,n,S,s,R,C,h))?(U||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),u.props=s,u.state=C,u.context=h,s=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Qr(e,t),h=t.memoizedProps,U=la(n,h),u.props=U,B=t.pendingProps,R=u.context,C=n.contextType,S=Ra,typeof C=="object"&&C!==null&&(S=We(C)),p=n.getDerivedStateFromProps,(C=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==B||R!==S)&&cf(t,u,s,S),Sn=!1,R=t.memoizedState,u.state=R,Bs(t,s,u,r),Ms();var k=t.memoizedState;h!==B||R!==k||Sn||e!==null&&e.dependencies!==null&&qi(e.dependencies)?(typeof p=="function"&&(yo(t,n,p,s),k=t.memoizedState),(U=Sn||of(t,n,U,s,R,k,S)||e!==null&&e.dependencies!==null&&qi(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,k,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,k,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=k),u.props=s,u.state=k,u.context=S,s=U):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,sl(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=sa(t,e.child,null,r),t.child=sa(t,null,n,r)):Fe(e,t,n,r),t.memoizedState=u.state,e=t.child):e=sn(e,t,r),e}function jf(e,t,n,s){return Wn(),t.flags|=256,Fe(e,t,n,s),t.child}var So={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(e){return{baseLanes:e,cachePool:fd()}}function jo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=St),e}function Af(e,t,n){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?An(t):Tn(),(e=Ce)?(e=kh(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pn!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=ad(e),n.return=t,t.child=n,Pe=t,Ce=null)):e=null,e===null)throw _n(t);return lc(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(Tn(),r=t.mode,p=il({mode:"hidden",children:p},r),s=Pn(s,r,n,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=Eo(n),s.childLanes=jo(e,h,n),t.memoizedState=So,$s(null,s)):(An(t),Ao(t,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(u)t.flags&256?(An(t),t.flags&=-257,t=To(e,t,n)):t.memoizedState!==null?(Tn(),t.child=e.child,t.flags|=128,t=null):(Tn(),p=s.fallback,r=t.mode,s=il({mode:"visible",children:s.children},r),p=Pn(p,r,n,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,sa(t,e.child,null,n),s=t.child,s.memoizedState=Eo(n),s.childLanes=jo(e,h,n),t.memoizedState=So,t=$s(null,s));else if(An(t),lc(p)){if(h=p.nextSibling&&p.nextSibling.dataset,h)var C=h.dgst;h=C,s=Error(l(419)),s.stack="",s.digest=h,Cs({value:s,source:null,stack:null}),t=To(e,t,n)}else if($e||za(e,t,n,!1),h=(n&e.childLanes)!==0,$e||h){if(h=Oe,h!==null&&(s=uu(h,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,In(e,s),ft(h,e,s),_o;ic(p)||gl(),t=To(e,t,n)}else ic(p)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ce=zt(p.nextSibling),Pe=t,me=!0,bn=null,kt=!1,e!==null&&ld(t,e),t=Ao(t,s.children),t.flags|=4096);return t}return r?(Tn(),p=s.fallback,r=t.mode,S=e.child,C=S.sibling,s=Wt(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,C!==null?p=Wt(C,p):(p=Pn(p,r,n,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,$s(null,s),s=t.child,p=e.child.memoizedState,p===null?p=Eo(n):(r=p.cachePool,r!==null?(S=He._currentValue,r=r.parent!==S?{parent:S,pool:S}:r):r=fd(),p={baseLanes:p.baseLanes|n,cachePool:r}),s.memoizedState=p,s.childLanes=jo(e,h,n),t.memoizedState=So,$s(e.child,s)):(An(t),n=e.child,e=n.sibling,n=Wt(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Ao(e,t){return t=il({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function il(e,t){return e=pt(22,e,null,t),e.lanes=0,e}function To(e,t,n){return sa(t,e.child,null,n),e=Ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Hr(e.return,t,n)}function xo(e,t,n,s,r,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=r,h.treeForkCount=u)}function xf(e,t,n){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var h=Le.current,p=(h&2)!==0;if(p?(h=h&1|2,t.flags|=128):h&=1,K(Le,h),Fe(e,t,s,n),s=me?Ns:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,n,t);else if(e.tag===19)Tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Qi(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),xo(t,!1,r,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Qi(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}xo(t,!0,n,null,u,s);break;case"together":xo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Wt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Oo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qi(e)))}function fv(e,t,n){switch(t.tag){case 3:st(t,t.stateNode.containerInfo),wn(t,He,e.memoizedState.cache),Wn();break;case 27:case 5:gs(t);break;case 4:st(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(An(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Af(e,t,n):(An(t),e=sn(e,t,n),e!==null?e.sibling:null);An(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(za(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return xf(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(Le,Le.current),s)break;return null;case 22:return t.lanes=0,bf(e,t,n,t.pendingProps);case 24:wn(t,He,e.memoizedState.cache)}return sn(e,t,n)}function Of(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Oo(e,n)&&(t.flags&128)===0)return $e=!1,fv(e,t,n);$e=(e.flags&131072)!==0}else $e=!1,me&&(t.flags&1048576)!==0&&id(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")Dr(e)?(s=la(e,s),t.tag=1,t=Ef(null,t,e,s,n)):(t.tag=0,t=wo(null,t,e,s,n));else{if(e!=null){var r=e.$$typeof;if(r===Q){t.tag=11,t=vf(null,t,e,s,n);break e}else if(r===X){t.tag=14,t=yf(null,t,e,s,n);break e}}throw t=Bt(e)||e,Error(l(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=la(s,t.pendingProps),Ef(e,t,s,r,n);case 3:e:{if(st(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,Qr(e,t),Bs(t,s,null,n);var h=t.memoizedState;if(s=h.cache,wn(t,He,s),s!==u.cache&&Gr(t,[He],n,!0),Ms(),s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=jf(e,t,s,n);break e}else if(s!==r){r=Ct(Error(l(424)),t),Cs(r),t=jf(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=zt(e.firstChild),Pe=t,me=!0,bn=null,kt=!0,n=pd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wn(),s===r){t=sn(e,t,n);break e}Fe(e,t,s,n)}t=t.child}return t;case 26:return sl(e,t),e===null?(n=qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,s=wl(ue.current).createElement(n),s[Ie]=t,s[lt]=e,et(s,n,e),Xe(s),t.stateNode=s):t.memoizedState=qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gs(t),e===null&&me&&(s=t.stateNode=Mh(t.type,t.pendingProps,ue.current),Pe=t,kt=!0,r=Ce,Un(t.type)?(rc=r,Ce=zt(s.firstChild)):Ce=r),Fe(e,t,t.pendingProps.children,n),sl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=s=Ce)&&(s=$v(s,t.type,t.pendingProps,kt),s!==null?(t.stateNode=s,Pe=t,Ce=zt(s.firstChild),kt=!1,r=!0):r=!1),r||_n(t)),gs(t),r=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,s=u.children,nc(r,u)?s=null:h!==null&&nc(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=eo(e,t,av,null,null,n),ai._currentValue=r),sl(e,t),Fe(e,t,s,n),t.child;case 6:return e===null&&me&&((e=n=Ce)&&(n=Vv(n,t.pendingProps,kt),n!==null?(t.stateNode=n,Pe=t,Ce=null,e=!0):e=!1),e||_n(t)),null;case 13:return Af(e,t,n);case 4:return st(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=sa(t,null,s,n):Fe(e,t,s,n),t.child;case 11:return vf(e,t,t.type,t.pendingProps,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,wn(t,t.type,s.value),Fe(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,ea(t),r=We(r),s=s(r),t.flags|=1,Fe(e,t,s,n),t.child;case 14:return yf(e,t,t.type,t.pendingProps,n);case 15:return pf(e,t,t.type,t.pendingProps,n);case 19:return xf(e,t,n);case 31:return dv(e,t,n);case 22:return bf(e,t,n,t.pendingProps);case 24:return ea(t),s=We(He),e===null?(r=Yr(),r===null&&(r=Oe,u=$r(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),t.memoizedState={parent:s,cache:r},Jr(t),wn(t,He,r)):((e.lanes&n)!==0&&(Qr(e,t),Bs(t,null,null,n),Ms()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wn(t,He,s)):(s=u.cache,wn(t,He,s),s!==r.cache&&Gr(t,[He],n,!0))),Fe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ln(e){e.flags|=4}function No(e,t,n,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(th())e.flags|=8192;else throw aa=Vi,Kr}else e.flags&=-16777217}function Nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yh(t))if(th())e.flags|=8192;else throw aa=Vi,Kr}function ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ru():536870912,e.lanes|=t,Qa|=t)}function Vs(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function hv(e,t,n){var s=t.pendingProps;switch(Mr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),tn(He),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ua(t)?ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lr())),Re(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(ln(t),u!==null?(Re(t),Nf(t,u)):(Re(t),No(t,r,null,s,n))):u?u!==e.memoizedState?(ln(t),Re(t),Nf(t,u)):(Re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ln(t),Re(t),No(t,r,e,s,n)),null;case 27:if(yi(t),n=ue.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ln(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Re(t),null}e=P.current,Ua(t)?rd(t):(e=Mh(r,s,n),t.stateNode=e,ln(t))}return Re(t),null;case 5:if(yi(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ln(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Re(t),null}if(u=P.current,Ua(t))rd(t);else{var h=wl(ue.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?h.createElement(r,{is:s.is}):h.createElement(r)}}u[Ie]=t,u[lt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(et(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ln(t)}}return Re(t),No(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ln(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ue.current,Ua(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=Pe,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Ie]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Ah(e.nodeValue,n)),e||_n(t,!0)}else e=wl(e).createTextNode(s),e[Ie]=t,t.stateNode=e}return Re(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ua(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ie]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else n=Lr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Re(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ua(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(l(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));r[Ie]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),r=!1}else r=Lr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ll(t,t.updateQueue),Re(t),null);case 4:return Be(),e===null&&Po(t.stateNode.containerInfo),Re(t),null;case 10:return tn(t.type),Re(t),null;case 19:if(q(Le),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Vs(s,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Qi(e),u!==null){for(t.flags|=128,Vs(s,!1),e=u.updateQueue,t.updateQueue=e,ll(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nd(n,e),n=n.sibling;return K(Le,Le.current&1|2),me&&Ft(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&gt()>dl&&(t.flags|=128,r=!0,Vs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qi(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ll(t,e),Vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!me)return Re(t),null}else 2*gt()-s.renderingStartTime>dl&&n!==536870912&&(t.flags|=128,r=!0,Vs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=Le.current,K(Le,r?n&1|2:n&1),me&&Ft(t,s.treeForkCount),e):(Re(t),null);case 22:case 23:return _t(t),Pr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),n=t.updateQueue,n!==null&&ll(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&q(ta),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),tn(He),Re(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function gv(e,t){switch(Mr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(He),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return yi(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(l(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Le),null;case 4:return Be(),null;case 10:return tn(t.type),null;case 22:case 23:return _t(t),Pr(),e!==null&&q(ta),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tn(He),null;case 25:return null;default:return null}}function Cf(e,t){switch(Mr(t),t.tag){case 3:tn(He),Be();break;case 26:case 27:case 5:yi(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:q(Le);break;case 10:tn(t.type);break;case 22:case 23:_t(t),Pr(),e!==null&&q(ta);break;case 24:tn(He)}}function Ys(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var u=n.create,h=n.inst;s=u(),h.destroy=s}n=n.next}while(n!==r)}}catch(p){je(t,t.return,p)}}function xn(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var h=s.inst,p=h.destroy;if(p!==void 0){h.destroy=void 0,r=t;var S=n,C=p;try{C()}catch(U){je(r,S,U)}}}s=s.next}while(s!==u)}}catch(U){je(t,t.return,U)}}function Rf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_d(t,n)}catch(s){je(e,e.return,s)}}}function Df(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){je(e,t,s)}}function Ks(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){je(e,t,r)}}function Jt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){je(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function kf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){je(e,e.return,r)}}function Co(e,t,n){try{var s=e.stateNode;Mv(s,e.type,n,t),s[lt]=t}catch(r){je(e,e.return,r)}}function Uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Un(e.type)||e.tag===4}function Ro(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=It));else if(s!==4&&(s===27&&Un(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Do(e,t,n),e=e.sibling;e!==null;)Do(e,t,n),e=e.sibling}function rl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Un(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function zf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);et(t,s,n),t[Ie]=e,t[lt]=n}catch(u){je(e,e.return,u)}}var rn=!1,Ve=!1,ko=!1,Mf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function mv(e,t){if(e=e.containerInfo,ec=Ol,e=Qu(e),Ar(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,p=-1,S=-1,C=0,U=0,B=e,R=null;t:for(;;){for(var k;B!==n||r!==0&&B.nodeType!==3||(p=h+r),B!==u||s!==0&&B.nodeType!==3||(S=h+s),B.nodeType===3&&(h+=B.nodeValue.length),(k=B.firstChild)!==null;)R=B,B=k;for(;;){if(B===e)break t;if(R===n&&++C===r&&(p=h),R===u&&++U===s&&(S=h),(k=B.nextSibling)!==null)break;B=R,R=B.parentNode}B=k}n=p===-1||S===-1?null:{start:p,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:e,selectionRange:n},Ol=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,r=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var I=la(n.type,r);e=s.getSnapshotBeforeUpdate(I,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){je(n,n.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)sc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Bf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),s&4&&Ys(5,n);break;case 1:if(cn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){je(n,n.return,h)}else{var r=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){je(n,n.return,h)}}s&64&&Rf(n),s&512&&Ks(n,n.return);break;case 3:if(cn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_d(e,t)}catch(h){je(n,n.return,h)}}break;case 27:t===null&&s&4&&zf(n);case 26:case 5:cn(e,n),t===null&&s&4&&kf(n),s&512&&Ks(n,n.return);break;case 12:cn(e,n);break;case 31:cn(e,n),s&4&&Hf(e,n);break;case 13:cn(e,n),s&4&&Gf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=jv.bind(null,n),Yv(e,n))));break;case 22:if(s=n.memoizedState!==null||rn,!s){t=t!==null&&t.memoizedState!==null||Ve,r=rn;var u=Ve;rn=s,(Ve=t)&&!u?un(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),rn=r,Ve=u}break;case 30:break;default:cn(e,n)}}function Lf(e){var t=e.alternate;t!==null&&(e.alternate=null,Lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&or(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,ot=!1;function on(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(ms,n)}catch{}switch(n.tag){case 26:Ve||Jt(n,t),on(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||Jt(n,t);var s=De,r=ot;Un(n.type)&&(De=n.stateNode,ot=!1),on(e,t,n),ei(n.stateNode),De=s,ot=r;break;case 5:Ve||Jt(n,t);case 6:if(s=De,r=ot,De=null,on(e,t,n),De=s,ot=r,De!==null)if(ot)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(n.stateNode)}catch(u){je(n,t,u)}else try{De.removeChild(n.stateNode)}catch(u){je(n,t,u)}break;case 18:De!==null&&(ot?(e=De,Rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ts(e)):Rh(De,n.stateNode));break;case 4:s=De,r=ot,De=n.stateNode.containerInfo,ot=!0,on(e,t,n),De=s,ot=r;break;case 0:case 11:case 14:case 15:xn(2,n,t),Ve||xn(4,n,t),on(e,t,n);break;case 1:Ve||(Jt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Df(n,t,s)),on(e,t,n);break;case 21:on(e,t,n);break;case 22:Ve=(s=Ve)||n.memoizedState!==null,on(e,t,n),Ve=s;break;default:on(e,t,n)}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ts(e)}catch(n){je(t,t.return,n)}}}function Gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ts(e)}catch(n){je(t,t.return,n)}}function vv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mf),t;default:throw Error(l(435,e.tag))}}function ol(e,t){var n=vv(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var r=Av.bind(null,e,s);s.then(r,r)}})}function ct(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],u=e,h=t,p=h;e:for(;p!==null;){switch(p.tag){case 27:if(Un(p.type)){De=p.stateNode,ot=!1;break e}break;case 5:De=p.stateNode,ot=!1;break e;case 3:case 4:De=p.stateNode.containerInfo,ot=!0;break e}p=p.return}if(De===null)throw Error(l(160));qf(u,h,r),De=null,ot=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var qt=null;function $f(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ut(e),s&4&&(xn(3,e,e.return),Ys(3,e),xn(5,e,e.return));break;case 1:ct(t,e),ut(e),s&512&&(Ve||n===null||Jt(n,n.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=qt;if(ct(t,e),ut(e),s&512&&(Ve||n===null||Jt(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[ps]||u[Ie]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),et(u,s,n),u[Ie]=e,Xe(u),s=u;break e;case"link":var h=$h("link","href",r).get(s+(n.href||""));if(h){for(var p=0;p<h.length;p++)if(u=h[p],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(p,1);break t}}u=r.createElement(s),et(u,s,n),r.head.appendChild(u);break;case"meta":if(h=$h("meta","content",r).get(s+(n.content||""))){for(p=0;p<h.length;p++)if(u=h[p],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(p,1);break t}}u=r.createElement(s),et(u,s,n),r.head.appendChild(u);break;default:throw Error(l(468,s))}u[Ie]=e,Xe(u),s=u}e.stateNode=s}else Vh(r,e.type,e.stateNode);else e.stateNode=Gh(r,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?Vh(r,e.type,e.stateNode):Gh(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Co(e,e.memoizedProps,n.memoizedProps)}break;case 27:ct(t,e),ut(e),s&512&&(Ve||n===null||Jt(n,n.return)),n!==null&&s&4&&Co(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ct(t,e),ut(e),s&512&&(Ve||n===null||Jt(n,n.return)),e.flags&32){r=e.stateNode;try{ja(r,"")}catch(I){je(e,e.return,I)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Co(e,r,n!==null?n.memoizedProps:r)),s&1024&&(ko=!0);break;case 6:if(ct(t,e),ut(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(I){je(e,e.return,I)}}break;case 3:if(jl=null,r=qt,qt=Sl(t.containerInfo),ct(t,e),qt=r,ut(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(I){je(e,e.return,I)}ko&&(ko=!1,Vf(e));break;case 4:s=qt,qt=Sl(e.stateNode.containerInfo),ct(t,e),ut(e),qt=s;break;case 12:ct(t,e),ut(e);break;case 31:ct(t,e),ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ol(e,s)));break;case 13:ct(t,e),ut(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ul=gt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ol(e,s)));break;case 22:r=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,C=rn,U=Ve;if(rn=C||r,Ve=U||S,ct(t,e),Ve=U,rn=C,ut(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||S||rn||Ve||ra(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(u=S.stateNode,r)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=S.stateNode;var B=S.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null;p.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(I){je(S,S.return,I)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=r?"":S.memoizedProps}catch(I){je(S,S.return,I)}}}else if(t.tag===18){if(n===null){S=t;try{var k=S.stateNode;r?Dh(k,!0):Dh(S.stateNode,!1)}catch(I){je(S,S.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ol(e,n))));break;case 19:ct(t,e),ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ol(e,s)));break;case 30:break;case 21:break;default:ct(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Uf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var r=n.stateNode,u=Ro(e);rl(e,u,r);break;case 5:var h=n.stateNode;n.flags&32&&(ja(h,""),n.flags&=-33);var p=Ro(e);rl(e,p,h);break;case 3:case 4:var S=n.stateNode.containerInfo,C=Ro(e);Do(e,C,S);break;default:throw Error(l(161))}}catch(U){je(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bf(e,t.alternate,t),t=t.sibling}function ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xn(4,t,t.return),ra(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Df(t,t.return,n),ra(t);break;case 27:ei(t.stateNode);case 26:case 5:Jt(t,t.return),ra(t);break;case 22:t.memoizedState===null&&ra(t);break;case 30:ra(t);break;default:ra(t)}e=e.sibling}}function un(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:un(r,u,n),Ys(4,u);break;case 1:if(un(r,u,n),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(C){je(s,s.return,C)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var S=r.shared.hiddenCallbacks;if(S!==null)for(r.shared.hiddenCallbacks=null,r=0;r<S.length;r++)bd(S[r],p)}catch(C){je(s,s.return,C)}}n&&h&64&&Rf(u),Ks(u,u.return);break;case 27:zf(u);case 26:case 5:un(r,u,n),n&&s===null&&h&4&&kf(u),Ks(u,u.return);break;case 12:un(r,u,n);break;case 31:un(r,u,n),n&&h&4&&Hf(r,u);break;case 13:un(r,u,n),n&&h&4&&Gf(r,u);break;case 22:u.memoizedState===null&&un(r,u,n),Ks(u,u.return);break;case 30:break;default:un(r,u,n)}t=t.sibling}}function Uo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Rs(n))}function zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rs(e))}function Ht(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yf(e,t,n,s),t=t.sibling}function Yf(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,n,s),r&2048&&Ys(9,t);break;case 1:Ht(e,t,n,s);break;case 3:Ht(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rs(e)));break;case 12:if(r&2048){Ht(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,p=u.onPostCommit;typeof p=="function"&&p(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){je(t,t.return,S)}}else Ht(e,t,n,s);break;case 31:Ht(e,t,n,s);break;case 13:Ht(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?Ht(e,t,n,s):Js(e,t):u._visibility&2?Ht(e,t,n,s):(u._visibility|=2,Ya(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Uo(h,t);break;case 24:Ht(e,t,n,s),r&2048&&zo(t.alternate,t);break;default:Ht(e,t,n,s)}}function Ya(e,t,n,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,p=n,S=s,C=h.flags;switch(h.tag){case 0:case 11:case 15:Ya(u,h,p,S,r),Ys(8,h);break;case 23:break;case 22:var U=h.stateNode;h.memoizedState!==null?U._visibility&2?Ya(u,h,p,S,r):Js(u,h):(U._visibility|=2,Ya(u,h,p,S,r)),r&&C&2048&&Uo(h.alternate,h);break;case 24:Ya(u,h,p,S,r),r&&C&2048&&zo(h.alternate,h);break;default:Ya(u,h,p,S,r)}t=t.sibling}}function Js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:Js(n,s),r&2048&&Uo(s.alternate,s);break;case 24:Js(n,s),r&2048&&zo(s.alternate,s);break;default:Js(n,s)}t=t.sibling}}var Qs=8192;function Ka(e,t,n){if(e.subtreeFlags&Qs)for(e=e.child;e!==null;)Kf(e,t,n),e=e.sibling}function Kf(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&Qs&&e.memoizedState!==null&&ny(n,qt,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var s=qt;qt=Sl(e.stateNode.containerInfo),Ka(e,t,n),qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Qs,Qs=16777216,Ka(e,t,n),Qs=s):Ka(e,t,n));break;default:Ka(e,t,n)}}function Jf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ze=s,Xf(s,e)}Jf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 0:case 11:case 15:Xs(e),e.flags&2048&&xn(9,e,e.return);break;case 3:Xs(e);break;case 12:Xs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cl(e)):Xs(e);break;default:Xs(e)}}function cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ze=s,Xf(s,e)}Jf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xn(8,t,t.return),cl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,cl(t));break;default:cl(t)}e=e.sibling}}function Xf(e,t){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:xn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Rs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ze=s;else e:for(n=e;Ze!==null;){s=Ze;var r=s.sibling,u=s.return;if(Lf(s),s===n){Ze=null;break e}if(r!==null){r.return=u,Ze=r;break e}Ze=u}}}var yv={getCacheForType:function(e){var t=We(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return We(He).controller.signal}},pv=typeof WeakMap=="function"?WeakMap:Map,_e=0,Oe=null,de=null,he=0,Ee=0,wt=null,On=!1,Ja=!1,Mo=!1,dn=0,Me=0,Nn=0,oa=0,Bo=0,St=0,Qa=0,Zs=null,dt=null,Lo=!1,ul=0,Zf=0,dl=1/0,fl=null,Cn=null,Ke=0,Rn=null,Xa=null,fn=0,qo=0,Ho=null,If=null,Is=0,Go=null;function Et(){return(_e&2)!==0&&he!==0?he&-he:z.T!==null?Qo():du()}function Pf(){if(St===0)if((he&536870912)===0||me){var e=_i;_i<<=1,(_i&3932160)===0&&(_i=262144),St=e}else St=536870912;return e=bt.current,e!==null&&(e.flags|=32),St}function ft(e,t,n){(e===Oe&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Za(e,0),Dn(e,he,St,!1)),ys(e,n),((_e&2)===0||e!==Oe)&&(e===Oe&&((_e&2)===0&&(oa|=n),Me===4&&Dn(e,he,St,!1)),Qt(e))}function Wf(e,t,n){if((_e&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vs(e,t),r=s?wv(e,t):Vo(e,t,!0),u=s;do{if(r===0){Ja&&!s&&Dn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!bv(n)){r=Vo(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var p=e;r=Zs;var S=p.current.memoizedState.isDehydrated;if(S&&(Za(p,h).flags|=256),h=Vo(p,h,!1),h!==2){if(Mo&&!S){p.errorRecoveryDisabledLanes|=u,oa|=u,r=4;break e}u=dt,dt=r,u!==null&&(dt===null?dt=u:dt.push.apply(dt,u))}r=h}if(u=!1,r!==2)continue}}if(r===1){Za(e,0),Dn(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Dn(s,t,St,!On);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(r=ul+300-gt(),10<r)){if(Dn(s,t,St,!On),Si(s,0,!0)!==0)break e;fn=t,s.timeoutHandle=Nh(Ff.bind(null,s,n,dt,fl,Lo,t,St,oa,Qa,On,u,"Throttled",-0,0),r);break e}Ff(s,n,dt,fl,Lo,t,St,oa,Qa,On,u,null,-0,0)}}break}while(!0);Qt(e)}function Ff(e,t,n,s,r,u,h,p,S,C,U,B,R,k){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},Kf(t,u,B);var I=(u&62914560)===u?ul-gt():(u&4194048)===u?Zf-gt():0;if(I=ay(B,I),I!==null){fn=u,e.cancelPendingCommit=I(rh.bind(null,e,t,u,n,s,r,h,p,S,U,B,null,R,k)),Dn(e,u,h,!C);return}}rh(e,t,u,n,s,r,h,p,S)}function bv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],u=r.getSnapshot;r=r.value;try{if(!yt(u(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t,n,s){t&=~Bo,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-vt(r),h=1<<u;s[u]=-1,r&=~h}n!==0&&ou(e,n,t)}function hl(){return(_e&6)===0?(Ps(0),!1):!0}function $o(){if(de!==null){if(Ee===0)var e=de.return;else e=de,en=Fn=null,ao(e),qa=null,ks=0,e=de;for(;e!==null;)Cf(e.alternate,e),e=e.return;de=null}}function Za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fn=0,$o(),Oe=e,de=n=Wt(e.current,null),he=t,Ee=0,wt=null,On=!1,Ja=vs(e,t),Mo=!1,Qa=St=Bo=oa=Nn=Me=0,dt=Zs=null,Lo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-vt(s),u=1<<r;t|=e[r],s&=~u}return dn=t,Ui(),n}function eh(e,t){oe=null,z.H=Gs,t===La||t===$i?(t=md(),Ee=3):t===Kr?(t=md(),Ee=4):Ee=t===_o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,de===null&&(Me=1,nl(e,Ct(t,e.current)))}function th(){var e=bt.current;return e===null?!0:(he&4194048)===he?Ut===null:(he&62914560)===he||(he&536870912)!==0?e===Ut:!1}function nh(){var e=z.H;return z.H=Gs,e===null?Gs:e}function ah(){var e=z.A;return z.A=yv,e}function gl(){Me=4,On||(he&4194048)!==he&&bt.current!==null||(Ja=!0),(Nn&134217727)===0&&(oa&134217727)===0||Oe===null||Dn(Oe,he,St,!1)}function Vo(e,t,n){var s=_e;_e|=2;var r=nh(),u=ah();(Oe!==e||he!==t)&&(fl=null,Za(e,t)),t=!1;var h=Me;e:do try{if(Ee!==0&&de!==null){var p=de,S=wt;switch(Ee){case 8:$o(),h=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var C=Ee;if(Ee=0,wt=null,Ia(e,p,S,C),n&&Ja){h=0;break e}break;default:C=Ee,Ee=0,wt=null,Ia(e,p,S,C)}}_v(),h=Me;break}catch(U){eh(e,U)}while(!0);return t&&e.shellSuspendCounter++,en=Fn=null,_e=s,z.H=r,z.A=u,de===null&&(Oe=null,he=0,Ui()),h}function _v(){for(;de!==null;)sh(de)}function wv(e,t){var n=_e;_e|=2;var s=nh(),r=ah();Oe!==e||he!==t?(fl=null,dl=gt()+500,Za(e,t)):Ja=vs(e,t);e:do try{if(Ee!==0&&de!==null){t=de;var u=wt;t:switch(Ee){case 1:Ee=0,wt=null,Ia(e,t,u,1);break;case 2:case 9:if(hd(u)){Ee=0,wt=null,ih(t);break}t=function(){Ee!==2&&Ee!==9||Oe!==e||(Ee=7),Qt(e)},u.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:hd(u)?(Ee=0,wt=null,ih(t)):(Ee=0,wt=null,Ia(e,t,u,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var p=de;if(h?Yh(h):p.stateNode.complete){Ee=0,wt=null;var S=p.sibling;if(S!==null)de=S;else{var C=p.return;C!==null?(de=C,ml(C)):de=null}break t}}Ee=0,wt=null,Ia(e,t,u,5);break;case 6:Ee=0,wt=null,Ia(e,t,u,6);break;case 8:$o(),Me=6;break e;default:throw Error(l(462))}}Sv();break}catch(U){eh(e,U)}while(!0);return en=Fn=null,z.H=s,z.A=r,_e=n,de!==null?0:(Oe=null,he=0,Ui(),Me)}function Sv(){for(;de!==null&&!Km();)sh(de)}function sh(e){var t=Of(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?ml(e):de=t}function ih(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sf(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Sf(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:ao(t);default:Cf(n,t),t=de=nd(t,dn),t=Of(n,t,dn)}e.memoizedProps=e.pendingProps,t===null?ml(e):de=t}function Ia(e,t,n,s){en=Fn=null,ao(t),qa=null,ks=0;var r=t.return;try{if(uv(e,r,t,n,he)){Me=1,nl(e,Ct(n,e.current)),de=null;return}}catch(u){if(r!==null)throw de=r,u;Me=1,nl(e,Ct(n,e.current)),de=null;return}t.flags&32768?(me||s===1?e=!0:Ja||(he&536870912)!==0?e=!1:(On=e=!0,(s===2||s===9||s===3||s===6)&&(s=bt.current,s!==null&&s.tag===13&&(s.flags|=16384))),lh(t,e)):ml(t)}function ml(e){var t=e;do{if((t.flags&32768)!==0){lh(t,On);return}e=t.return;var n=hv(t.alternate,t,dn);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Me===0&&(Me=5)}function lh(e,t){do{var n=gv(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);Me=6,de=null}function rh(e,t,n,s,r,u,h,p,S){e.cancelPendingCommit=null;do vl();while(Ke!==0);if((_e&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Cr,t0(e,n,u,h,p,S),e===Oe&&(de=Oe=null,he=0),Xa=t,Rn=e,fn=n,qo=u,Ho=r,If=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tv(pi,function(){return fh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,r=Y.p,Y.p=2,h=_e,_e|=4;try{mv(e,t,n)}finally{_e=h,Y.p=r,z.T=s}}Ke=1,oh(),ch(),uh()}}function oh(){if(Ke===1){Ke=0;var e=Rn,t=Xa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var s=Y.p;Y.p=2;var r=_e;_e|=4;try{$f(t,e);var u=tc,h=Qu(e.containerInfo),p=u.focusedElem,S=u.selectionRange;if(h!==p&&p&&p.ownerDocument&&Ju(p.ownerDocument.documentElement,p)){if(S!==null&&Ar(p)){var C=S.start,U=S.end;if(U===void 0&&(U=C),"selectionStart"in p)p.selectionStart=C,p.selectionEnd=Math.min(U,p.value.length);else{var B=p.ownerDocument||document,R=B&&B.defaultView||window;if(R.getSelection){var k=R.getSelection(),I=p.textContent.length,ne=Math.min(S.start,I),xe=S.end===void 0?ne:Math.min(S.end,I);!k.extend&&ne>xe&&(h=xe,xe=ne,ne=h);var T=Ku(p,ne),E=Ku(p,xe);if(T&&E&&(k.rangeCount!==1||k.anchorNode!==T.node||k.anchorOffset!==T.offset||k.focusNode!==E.node||k.focusOffset!==E.offset)){var N=B.createRange();N.setStart(T.node,T.offset),k.removeAllRanges(),ne>xe?(k.addRange(N),k.extend(E.node,E.offset)):(N.setEnd(E.node,E.offset),k.addRange(N))}}}}for(B=[],k=p;k=k.parentNode;)k.nodeType===1&&B.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<B.length;p++){var M=B[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Ol=!!ec,tc=ec=null}finally{_e=r,Y.p=s,z.T=n}}e.current=t,Ke=2}}function ch(){if(Ke===2){Ke=0;var e=Rn,t=Xa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var s=Y.p;Y.p=2;var r=_e;_e|=4;try{Bf(e,t.alternate,t)}finally{_e=r,Y.p=s,z.T=n}}Ke=3}}function uh(){if(Ke===4||Ke===3){Ke=0,Jm();var e=Rn,t=Xa,n=fn,s=If;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,Xa=Rn=null,dh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Cn=null),lr(n),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(ms,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,r=Y.p,Y.p=2,z.T=null;try{for(var u=e.onRecoverableError,h=0;h<s.length;h++){var p=s[h];u(p.value,{componentStack:p.stack})}}finally{z.T=t,Y.p=r}}(fn&3)!==0&&vl(),Qt(e),r=e.pendingLanes,(n&261930)!==0&&(r&42)!==0?e===Go?Is++:(Is=0,Go=e):Is=0,Ps(0)}}function dh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rs(t)))}function vl(){return oh(),ch(),uh(),fh()}function fh(){if(Ke!==5)return!1;var e=Rn,t=qo;qo=0;var n=lr(fn),s=z.T,r=Y.p;try{Y.p=32>n?32:n,z.T=null,n=Ho,Ho=null;var u=Rn,h=fn;if(Ke=0,Xa=Rn=null,fn=0,(_e&6)!==0)throw Error(l(331));var p=_e;if(_e|=4,Qf(u.current),Yf(u,u.current,h,n),_e=p,Ps(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(ms,u)}catch{}return!0}finally{Y.p=r,z.T=s,dh(e,t)}}function hh(e,t,n){t=Ct(n,t),t=bo(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(ys(e,2),Qt(e))}function je(e,t,n){if(e.tag===3)hh(e,e,n);else for(;t!==null;){if(t.tag===3){hh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cn===null||!Cn.has(s))){e=Ct(n,e),n=gf(2),s=jn(t,n,2),s!==null&&(mf(n,s,t,e),ys(s,2),Qt(s));break}}t=t.return}}function Yo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new pv;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(Mo=!0,r.add(n),e=Ev.bind(null,e,t,n),t.then(e,e))}function Ev(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Oe===e&&(he&n)===n&&(Me===4||Me===3&&(he&62914560)===he&&300>gt()-ul?(_e&2)===0&&Za(e,0):Bo|=n,Qa===he&&(Qa=0)),Qt(e)}function gh(e,t){t===0&&(t=ru()),e=In(e,t),e!==null&&(ys(e,t),Qt(e))}function jv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gh(e,n)}function Av(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),gh(e,n)}function Tv(e,t){return nr(e,t)}var yl=null,Pa=null,Ko=!1,pl=!1,Jo=!1,kn=0;function Qt(e){e!==Pa&&e.next===null&&(Pa===null?yl=Pa=e:Pa=Pa.next=e),pl=!0,Ko||(Ko=!0,Ov())}function Ps(e,t){if(!Jo&&pl){Jo=!0;do for(var n=!1,s=yl;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var h=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-vt(42|e)+1)-1,u&=r&~(h&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,ph(s,u))}else u=he,u=Si(s,s===Oe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||vs(s,u)||(n=!0,ph(s,u));s=s.next}while(n);Jo=!1}}function xv(){mh()}function mh(){pl=Ko=!1;var e=0;kn!==0&&Lv()&&(e=kn);for(var t=gt(),n=null,s=yl;s!==null;){var r=s.next,u=vh(s,t);u===0?(s.next=null,n===null?yl=r:n.next=r,r===null&&(Pa=n)):(n=s,(e!==0||(u&3)!==0)&&(pl=!0)),s=r}Ke!==0&&Ke!==5||Ps(e),kn!==0&&(kn=0)}function vh(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-vt(u),p=1<<h,S=r[h];S===-1?((p&n)===0||(p&s)!==0)&&(r[h]=e0(p,t)):S<=t&&(e.expiredLanes|=p),u&=~p}if(t=Oe,n=he,n=Si(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ar(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&ar(s),lr(n)){case 2:case 8:n=iu;break;case 32:n=pi;break;case 268435456:n=lu;break;default:n=pi}return s=yh.bind(null,e),n=nr(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&ar(s),e.callbackPriority=2,e.callbackNode=null,2}function yh(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vl()&&e.callbackNode!==n)return null;var s=he;return s=Si(e,e===Oe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wf(e,s,t),vh(e,gt()),e.callbackNode!=null&&e.callbackNode===n?yh.bind(null,e):null)}function ph(e,t){if(vl())return null;Wf(e,t,!0)}function Ov(){Hv(function(){(_e&6)!==0?nr(su,xv):mh()})}function Qo(){if(kn===0){var e=Ma;e===0&&(e=bi,bi<<=1,(bi&261888)===0&&(bi=256)),kn=e}return kn}function bh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function _h(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nv(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var u=bh((r[lt]||null).action),h=s.submitter;h&&(t=(t=h[lt]||null)?bh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var p=new Ci("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(kn!==0){var S=h?_h(r,h):new FormData(r);ho(n,{pending:!0,data:S,method:r.method,action:u},null,S)}}else typeof u=="function"&&(p.preventDefault(),S=h?_h(r,h):new FormData(r),ho(n,{pending:!0,data:S,method:r.method,action:u},u,S))},currentTarget:r}]})}}for(var Xo=0;Xo<Nr.length;Xo++){var Zo=Nr[Xo],Cv=Zo.toLowerCase(),Rv=Zo[0].toUpperCase()+Zo.slice(1);Lt(Cv,"on"+Rv)}Lt(Iu,"onAnimationEnd"),Lt(Pu,"onAnimationIteration"),Lt(Wu,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Q0,"onTransitionRun"),Lt(X0,"onTransitionStart"),Lt(Z0,"onTransitionCancel"),Lt(Fu,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function wh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var p=s[h],S=p.instance,C=p.currentTarget;if(p=p.listener,S!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=C;try{u(r)}catch(U){ki(U)}r.currentTarget=null,u=S}else for(h=0;h<s.length;h++){if(p=s[h],S=p.instance,C=p.currentTarget,p=p.listener,S!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=C;try{u(r)}catch(U){ki(U)}r.currentTarget=null,u=S}}}}function fe(e,t){var n=t[rr];n===void 0&&(n=t[rr]=new Set);var s=e+"__bubble";n.has(s)||(Sh(t,e,2,!1),n.add(s))}function Io(e,t,n){var s=0;t&&(s|=4),Sh(n,e,s,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Po(e){if(!e[bl]){e[bl]=!0,gu.forEach(function(n){n!=="selectionchange"&&(Dv.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Io("selectionchange",!1,t))}}function Sh(e,t,n,s){switch(Ph(t)){case 2:var r=ly;break;case 8:r=ry;break;default:r=fc}n=r.bind(null,t,n,e),r=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wo(e,t,n,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var p=s.stateNode.containerInfo;if(p===r)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;p!==null;){if(h=ba(p),h===null)return;if(S=h.tag,S===5||S===6||S===26||S===27){s=u=h;continue e}p=p.parentNode}}s=s.return}Tu(function(){var C=u,U=gr(n),B=[];e:{var R=ed.get(e);if(R!==void 0){var k=Ci,I=e;switch(e){case"keypress":if(Oi(n)===0)break e;case"keydown":case"keyup":k=A0;break;case"focusin":I="focus",k=_r;break;case"focusout":I="blur",k=_r;break;case"beforeblur":case"afterblur":k=_r;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=O0;break;case Iu:case Pu:case Wu:k=v0;break;case Fu:k=C0;break;case"scroll":case"scrollend":k=d0;break;case"wheel":k=D0;break;case"copy":case"cut":case"paste":k=p0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ru;break;case"toggle":case"beforetoggle":k=U0}var ne=(t&4)!==0,xe=!ne&&(e==="scroll"||e==="scrollend"),T=ne?R!==null?R+"Capture":null:R;ne=[];for(var E=C,N;E!==null;){var M=E;if(N=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||N===null||T===null||(M=_s(E,T),M!=null&&ne.push(Fs(E,M,N))),xe)break;E=E.return}0<ne.length&&(R=new k(R,I,null,n,U),B.push({event:R,listeners:ne}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",R&&n!==hr&&(I=n.relatedTarget||n.fromElement)&&(ba(I)||I[pa]))break e;if((k||R)&&(R=U.window===U?U:(R=U.ownerDocument)?R.defaultView||R.parentWindow:window,k?(I=n.relatedTarget||n.toElement,k=C,I=I?ba(I):null,I!==null&&(xe=d(I),ne=I.tag,I!==xe||ne!==5&&ne!==27&&ne!==6)&&(I=null)):(k=null,I=C),k!==I)){if(ne=Nu,M="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Ru,M="onPointerLeave",T="onPointerEnter",E="pointer"),xe=k==null?R:bs(k),N=I==null?R:bs(I),R=new ne(M,E+"leave",k,n,U),R.target=xe,R.relatedTarget=N,M=null,ba(U)===C&&(ne=new ne(T,E+"enter",I,n,U),ne.target=N,ne.relatedTarget=xe,M=ne),xe=M,k&&I)t:{for(ne=kv,T=k,E=I,N=0,M=T;M;M=ne(M))N++;M=0;for(var ee=E;ee;ee=ne(ee))M++;for(;0<N-M;)T=ne(T),N--;for(;0<M-N;)E=ne(E),M--;for(;N--;){if(T===E||E!==null&&T===E.alternate){ne=T;break t}T=ne(T),E=ne(E)}ne=null}else ne=null;k!==null&&Eh(B,R,k,ne,!1),I!==null&&xe!==null&&Eh(B,xe,I,ne,!0)}}e:{if(R=C?bs(C):window,k=R.nodeName&&R.nodeName.toLowerCase(),k==="select"||k==="input"&&R.type==="file")var pe=qu;else if(Bu(R))if(Hu)pe=Y0;else{pe=$0;var W=G0}else k=R.nodeName,!k||k.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?C&&fr(C.elementType)&&(pe=qu):pe=V0;if(pe&&(pe=pe(e,C))){Lu(B,pe,n,U);break e}W&&W(e,R,C),e==="focusout"&&C&&R.type==="number"&&C.memoizedProps.value!=null&&dr(R,"number",R.value)}switch(W=C?bs(C):window,e){case"focusin":(Bu(W)||W.contentEditable==="true")&&(Oa=W,Tr=C,Os=null);break;case"focusout":Os=Tr=Oa=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Xu(B,n,U);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":Xu(B,n,U)}var ce;if(Sr)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else xa?zu(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(Du&&n.locale!=="ko"&&(xa||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&xa&&(ce=xu()):(yn=U,yr="value"in yn?yn.value:yn.textContent,xa=!0)),W=_l(C,ge),0<W.length&&(ge=new Cu(ge,e,null,n,U),B.push({event:ge,listeners:W}),ce?ge.data=ce:(ce=Mu(n),ce!==null&&(ge.data=ce)))),(ce=M0?B0(e,n):L0(e,n))&&(ge=_l(C,"onBeforeInput"),0<ge.length&&(W=new Cu("onBeforeInput","beforeinput",null,n,U),B.push({event:W,listeners:ge}),W.data=ce)),Nv(B,e,C,n,U)}wh(B,t)})}function Fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _l(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=_s(e,n),r!=null&&s.unshift(Fs(e,r,u)),r=_s(e,t),r!=null&&s.push(Fs(e,r,u))),e.tag===3)return s;e=e.return}return[]}function kv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eh(e,t,n,s,r){for(var u=t._reactName,h=[];n!==null&&n!==s;){var p=n,S=p.alternate,C=p.stateNode;if(p=p.tag,S!==null&&S===s)break;p!==5&&p!==26&&p!==27||C===null||(S=C,r?(C=_s(n,u),C!=null&&h.unshift(Fs(n,C,S))):r||(C=_s(n,u),C!=null&&h.push(Fs(n,C,S)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Uv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(Uv,`
`).replace(zv,"")}function Ah(e,t){return t=jh(t),jh(e)===t}function Te(e,t,n,s,r,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ja(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ja(e,""+s);break;case"className":ji(e,"class",s);break;case"tabIndex":ji(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,n,s);break;case"style":ju(e,s,u);break;case"data":if(t!=="object"){ji(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ti(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",r.name,r,null),Te(e,t,"formEncType",r.formEncType,r,null),Te(e,t,"formMethod",r.formMethod,r,null),Te(e,t,"formTarget",r.formTarget,r,null)):(Te(e,t,"encType",r.encType,r,null),Te(e,t,"method",r.method,r,null),Te(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ti(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=It);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Ti(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Ei(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ei(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=c0.get(n)||n,Ei(e,n,s))}}function Fo(e,t,n,s,r,u){switch(n){case"style":ju(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?ja(e,s):(typeof s=="number"||typeof s=="bigint")&&ja(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),u=e[lt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ei(e,n,s)}}}function et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Te(e,t,u,h,n,null)}}r&&Te(e,t,"srcSet",n.srcSet,n,null),s&&Te(e,t,"src",n.src,n,null);return;case"input":fe("invalid",e);var p=u=h=r=null,S=null,C=null;for(s in n)if(n.hasOwnProperty(s)){var U=n[s];if(U!=null)switch(s){case"name":r=U;break;case"type":h=U;break;case"checked":S=U;break;case"defaultChecked":C=U;break;case"value":u=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:Te(e,t,s,U,n,null)}}_u(e,u,p,S,C,h,r,!1);return;case"select":fe("invalid",e),s=h=u=null;for(r in n)if(n.hasOwnProperty(r)&&(p=n[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":h=p;break;case"multiple":s=p;default:Te(e,t,r,p,n,null)}t=u,n=h,e.multiple=!!s,t!=null?Ea(e,!!s,t,!1):n!=null&&Ea(e,!!s,n,!0);return;case"textarea":fe("invalid",e),u=r=s=null;for(h in n)if(n.hasOwnProperty(h)&&(p=n[h],p!=null))switch(h){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:Te(e,t,h,p,n,null)}Su(e,s,r,u);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(s=n[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Te(e,t,S,s,n,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<Ws.length;s++)fe(Ws[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(s=n[C],s!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Te(e,t,C,s,n,null)}return;default:if(fr(t)){for(U in n)n.hasOwnProperty(U)&&(s=n[U],s!==void 0&&Fo(e,t,U,s,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(s=n[p],s!=null&&Te(e,t,p,s,n,null))}function Mv(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,h=null,p=null,S=null,C=null,U=null;for(k in n){var B=n[k];if(n.hasOwnProperty(k)&&B!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=B;default:s.hasOwnProperty(k)||Te(e,t,k,null,s,B)}}for(var R in s){var k=s[R];if(B=n[R],s.hasOwnProperty(R)&&(k!=null||B!=null))switch(R){case"type":u=k;break;case"name":r=k;break;case"checked":C=k;break;case"defaultChecked":U=k;break;case"value":h=k;break;case"defaultValue":p=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:k!==B&&Te(e,t,R,k,s,B)}}ur(e,h,p,S,C,U,u,r);return;case"select":k=h=p=R=null;for(u in n)if(S=n[u],n.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":k=S;default:s.hasOwnProperty(u)||Te(e,t,u,null,s,S)}for(r in s)if(u=s[r],S=n[r],s.hasOwnProperty(r)&&(u!=null||S!=null))switch(r){case"value":R=u;break;case"defaultValue":p=u;break;case"multiple":h=u;default:u!==S&&Te(e,t,r,u,s,S)}t=p,n=h,s=k,R!=null?Ea(e,!!n,R,!1):!!s!=!!n&&(t!=null?Ea(e,!!n,t,!0):Ea(e,!!n,n?[]:"",!1));return;case"textarea":k=R=null;for(p in n)if(r=n[p],n.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Te(e,t,p,null,s,r)}for(h in s)if(r=s[h],u=n[h],s.hasOwnProperty(h)&&(r!=null||u!=null))switch(h){case"value":R=r;break;case"defaultValue":k=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(l(91));break;default:r!==u&&Te(e,t,h,r,s,u)}wu(e,R,k);return;case"option":for(var I in n)if(R=n[I],n.hasOwnProperty(I)&&R!=null&&!s.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Te(e,t,I,null,s,R)}for(S in s)if(R=s[S],k=n[S],s.hasOwnProperty(S)&&R!==k&&(R!=null||k!=null))switch(S){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Te(e,t,S,R,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in n)R=n[ne],n.hasOwnProperty(ne)&&R!=null&&!s.hasOwnProperty(ne)&&Te(e,t,ne,null,s,R);for(C in s)if(R=s[C],k=n[C],s.hasOwnProperty(C)&&R!==k&&(R!=null||k!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:Te(e,t,C,R,s,k)}return;default:if(fr(t)){for(var xe in n)R=n[xe],n.hasOwnProperty(xe)&&R!==void 0&&!s.hasOwnProperty(xe)&&Fo(e,t,xe,void 0,s,R);for(U in s)R=s[U],k=n[U],!s.hasOwnProperty(U)||R===k||R===void 0&&k===void 0||Fo(e,t,U,R,s,k);return}}for(var T in n)R=n[T],n.hasOwnProperty(T)&&R!=null&&!s.hasOwnProperty(T)&&Te(e,t,T,null,s,R);for(B in s)R=s[B],k=n[B],!s.hasOwnProperty(B)||R===k||R==null&&k==null||Te(e,t,B,R,s,k)}function Th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],u=r.transferSize,h=r.initiatorType,p=r.duration;if(u&&p&&Th(h)){for(h=0,p=r.responseEnd,s+=1;s<n.length;s++){var S=n[s],C=S.startTime;if(C>p)break;var U=S.transferSize,B=S.initiatorType;U&&Th(B)&&(S=S.responseEnd,h+=U*(S<p?1:(p-C)/(S-C)))}if(--s,t+=8*(u+h)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ec=null,tc=null;function wl(e){return e.nodeType===9?e:e.ownerDocument}function xh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=null;function Lv(){var e=window.event;return e&&e.type==="popstate"?e===ac?!1:(ac=e,!0):(ac=null,!1)}var Nh=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(Gv)}:Nh;function Gv(e){setTimeout(function(){throw e})}function Un(e){return e==="head"}function Rh(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(r),ts(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")ei(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ei(n);for(var u=n.firstChild;u;){var h=u.nextSibling,p=u.nodeName;u[ps]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&ei(e.ownerDocument.body);n=r}while(n);ts(t)}function Dh(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function sc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sc(n),or(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $v(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ps])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function Vv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zt(e.nextSibling),e===null))return null;return e}function kh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=zt(e.nextSibling),e===null))return null;return e}function ic(e){return e.data==="$?"||e.data==="$~"}function lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rc=null;function Uh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Mh(e,t,n){switch(t=wl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ei(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);or(e)}var Mt=new Map,Bh=new Set;function Sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=Y.d;Y.d={f:Kv,r:Jv,D:Qv,C:Xv,L:Zv,m:Iv,X:Wv,S:Pv,M:Fv};function Kv(){var e=hn.f(),t=hl();return e||t}function Jv(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?Fd(t):hn.r(e)}var Wa=typeof document>"u"?null:document;function Lh(e,t,n){var s=Wa;if(s&&typeof t=="string"&&t){var r=Ot(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Bh.has(r)||(Bh.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),et(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Qv(e){hn.D(e),Lh("dns-prefetch",e,null)}function Xv(e,t){hn.C(e,t),Lh("preconnect",e,t)}function Zv(e,t,n){hn.L(e,t,n);var s=Wa;if(s&&e&&t){var r='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ot(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ot(n.imageSizes)+'"]')):r+='[href="'+Ot(e)+'"]';var u=r;switch(t){case"style":u=Fa(e);break;case"script":u=es(e)}Mt.has(u)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mt.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(ti(u))||t==="script"&&s.querySelector(ni(u))||(t=s.createElement("link"),et(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Iv(e,t){hn.m(e,t);var n=Wa;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=es(e)}if(!Mt.has(u)&&(e=w({rel:"modulepreload",href:e},t),Mt.set(u,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ni(u)))return}s=n.createElement("link"),et(s,"link",e),Xe(s),n.head.appendChild(s)}}}function Pv(e,t,n){hn.S(e,t,n);var s=Wa;if(s&&e){var r=wa(s).hoistableStyles,u=Fa(e);t=t||"default";var h=r.get(u);if(!h){var p={loading:0,preload:null};if(h=s.querySelector(ti(u)))p.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mt.get(u))&&oc(e,n);var S=h=s.createElement("link");Xe(S),et(S,"link",e),S._p=new Promise(function(C,U){S.onload=C,S.onerror=U}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,El(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:p},r.set(u,h)}}}function Wv(e,t){hn.X(e,t);var n=Wa;if(n&&e){var s=wa(n).hoistableScripts,r=es(e),u=s.get(r);u||(u=n.querySelector(ni(r)),u||(e=w({src:e,async:!0},t),(t=Mt.get(r))&&cc(e,t),u=n.createElement("script"),Xe(u),et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function Fv(e,t){hn.M(e,t);var n=Wa;if(n&&e){var s=wa(n).hoistableScripts,r=es(e),u=s.get(r);u||(u=n.querySelector(ni(r)),u||(e=w({src:e,async:!0,type:"module"},t),(t=Mt.get(r))&&cc(e,t),u=n.createElement("script"),Xe(u),et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function qh(e,t,n,s){var r=(r=ue.current)?Sl(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=wa(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var u=wa(r).hoistableStyles,h=u.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=r.querySelector(ti(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Mt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mt.set(e,n),u||ey(r,e,n,h.state))),t&&s===null)throw Error(l(528,""));return h}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=es(n),n=wa(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Fa(e){return'href="'+Ot(e)+'"'}function ti(e){return'link[rel="stylesheet"]['+e+"]"}function Hh(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ey(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),et(t,"link",n),Xe(t),e.head.appendChild(t))}function es(e){return'[src="'+Ot(e)+'"]'}function ni(e){return"script[async]"+e}function Gh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(n.href)+'"]');if(s)return t.instance=s,Xe(s),s;var r=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Xe(s),et(s,"style",r),El(s,n.precedence,e),t.instance=s;case"stylesheet":r=Fa(n.href);var u=e.querySelector(ti(r));if(u)return t.state.loading|=4,t.instance=u,Xe(u),u;s=Hh(n),(r=Mt.get(r))&&oc(s,r),u=(e.ownerDocument||e).createElement("link"),Xe(u);var h=u;return h._p=new Promise(function(p,S){h.onload=p,h.onerror=S}),et(u,"link",s),t.state.loading|=4,El(u,n.precedence,e),t.instance=u;case"script":return u=es(n.src),(r=e.querySelector(ni(u)))?(t.instance=r,Xe(r),r):(s=n,(r=Mt.get(u))&&(s=w({},n),cc(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Xe(r),et(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,El(s,n.precedence,e));return t.instance}function El(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,h=0;h<s.length;h++){var p=s[h];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jl=null;function $h(e,t,n){if(jl===null){var s=new Map,r=jl=new Map;r.set(n,s)}else r=jl,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var u=n[r];if(!(u[ps]||u[Ie]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var p=s.get(h);p?p.push(u):s.set(h,[u])}}return s}function Vh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ty(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ny(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=Fa(s.href),u=t.querySelector(ti(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Al.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Xe(u);return}u=t.ownerDocument||t,s=Hh(s),(r=Mt.get(r))&&oc(s,r),u=u.createElement("link"),Xe(u);var h=u;h._p=new Promise(function(p,S){h.onload=p,h.onerror=S}),et(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Al.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var uc=0;function ay(e,t){return e.stylesheets&&e.count===0&&xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&xl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&uc===0&&(uc=62500*Bv());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>uc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Al(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,t.forEach(sy,e),Tl=null,Al.call(e))}function sy(e,t){if(!(t.state.loading&4)){var n=Tl.get(e);if(n)var s=n.get(null);else{n=new Map,Tl.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var h=r[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),s=h)}s&&n.set(null,s)}r=t.instance,h=r.getAttribute("data-precedence"),u=n.get(h)||s,u===s&&n.set(null,r),n.set(h,r),this.count++,s=Al.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ai={$$typeof:G,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function iy(e,t,n,s,r,u,h,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Kh(e,t,n,s,r,u,h,p,S,C,U,B){return e=new iy(e,t,n,h,S,C,U,B,p),t=1,u===!0&&(t|=24),u=pt(3,null,null,t),e.current=u,u.stateNode=e,t=$r(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},Jr(u),e}function Jh(e){return e?(e=Ra,e):Ra}function Qh(e,t,n,s,r,u){r=Jh(r),s.context===null?s.context=r:s.pendingContext=r,s=En(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=jn(e,s,t),n!==null&&(ft(n,e,t),zs(n,e,t))}function Xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dc(e,t){Xh(e,t),(e=e.alternate)&&Xh(e,t)}function Zh(e){if(e.tag===13||e.tag===31){var t=In(e,67108864);t!==null&&ft(t,e,67108864),dc(e,67108864)}}function Ih(e){if(e.tag===13||e.tag===31){var t=Et();t=ir(t);var n=In(e,t);n!==null&&ft(n,e,t),dc(e,t)}}var Ol=!0;function ly(e,t,n,s){var r=z.T;z.T=null;var u=Y.p;try{Y.p=2,fc(e,t,n,s)}finally{Y.p=u,z.T=r}}function ry(e,t,n,s){var r=z.T;z.T=null;var u=Y.p;try{Y.p=8,fc(e,t,n,s)}finally{Y.p=u,z.T=r}}function fc(e,t,n,s){if(Ol){var r=hc(s);if(r===null)Wo(e,t,s,Nl,n),Wh(e,s);else if(cy(r,e,t,n,s))s.stopPropagation();else if(Wh(e,s),t&4&&-1<oy.indexOf(e)){for(;r!==null;){var u=_a(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=Kn(u.pendingLanes);if(h!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;h;){var S=1<<31-vt(h);p.entanglements[1]|=S,h&=~S}Qt(u),(_e&6)===0&&(dl=gt()+500,Ps(0))}}break;case 31:case 13:p=In(u,2),p!==null&&ft(p,u,2),hl(),dc(u,2)}if(u=hc(s),u===null&&Wo(e,t,s,Nl,n),u===r)break;r=u}r!==null&&s.stopPropagation()}else Wo(e,t,s,null,n)}}function hc(e){return e=gr(e),gc(e)}var Nl=null;function gc(e){if(Nl=null,e=ba(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nl=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qm()){case su:return 2;case iu:return 8;case pi:case Xm:return 32;case lu:return 268435456;default:return 32}default:return 32}}var mc=!1,zn=null,Mn=null,Bn=null,si=new Map,ii=new Map,Ln=[],oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wh(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function li(e,t,n,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=_a(t),t!==null&&Zh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function cy(e,t,n,s,r){switch(t){case"focusin":return zn=li(zn,e,t,n,s,r),!0;case"dragenter":return Mn=li(Mn,e,t,n,s,r),!0;case"mouseover":return Bn=li(Bn,e,t,n,s,r),!0;case"pointerover":var u=r.pointerId;return si.set(u,li(si.get(u)||null,e,t,n,s,r)),!0;case"gotpointercapture":return u=r.pointerId,ii.set(u,li(ii.get(u)||null,e,t,n,s,r)),!0}return!1}function Fh(e){var t=ba(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,fu(e.priority,function(){Ih(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,fu(e.priority,function(){Ih(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);hr=s,n.target.dispatchEvent(s),hr=null}else return t=_a(n),t!==null&&Zh(t),e.blockedOn=n,!1;t.shift()}return!0}function eg(e,t,n){Cl(e)&&n.delete(t)}function uy(){mc=!1,zn!==null&&Cl(zn)&&(zn=null),Mn!==null&&Cl(Mn)&&(Mn=null),Bn!==null&&Cl(Bn)&&(Bn=null),si.forEach(eg),ii.forEach(eg)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,mc||(mc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,uy)))}var Dl=null;function tg(e){Dl!==e&&(Dl=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Dl===e&&(Dl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(gc(s||n)===null)continue;break}var u=_a(n);u!==null&&(e.splice(t,3),t-=3,ho(u,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function ts(e){function t(S){return Rl(S,e)}zn!==null&&Rl(zn,e),Mn!==null&&Rl(Mn,e),Bn!==null&&Rl(Bn,e),si.forEach(t),ii.forEach(t);for(var n=0;n<Ln.length;n++){var s=Ln[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&Ln.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],h=r[lt]||null;if(typeof u=="function")h||tg(n);else if(h){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,h=u[lt]||null)p=h.formAction;else if(gc(r)!==null)continue}else p=h.action;typeof p=="function"?n[s+1]=p:(n.splice(s,3),s-=3),tg(n)}}}function ng(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return r=h})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function vc(e){this._internalRoot=e}kl.prototype.render=vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Et();Qh(n,s,e,t,null,null)},kl.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qh(e.current,2,null,e,null,null),hl(),t[pa]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=du();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Fh(e)}};var ag=a.version;if(ag!=="19.2.0")throw Error(l(527,ag,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var dy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{ms=Ul.inject(dy),mt=Ul}catch{}}return oi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,s="",r=uf,u=df,h=ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Kh(e,1,!1,null,null,n,s,null,r,u,h,ng),e[pa]=t.current,Po(e),new vc(t)},oi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var s=!1,r="",u=uf,h=df,p=ff,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Kh(e,1,!0,t,n??null,s,r,S,u,h,p,ng),t.context=Jh(null),n=t.current,s=Et(),s=ir(s),r=En(s),r.callback=null,jn(n,r,s),n=s,t.current.lanes=n,ys(t,n),Qt(t),e[pa]=t.current,Po(e),new kl(t)},oi.version="19.2.0",oi}var hg;function Ey(){if(hg)return bc.exports;hg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),bc.exports=Sy(),bc.exports}var jy=Ey(),kc=function(o,a){return kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])},kc(o,a)};function Xg(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");kc(o,a);function i(){this.constructor=o}o.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var Yl=function(){return Yl=Object.assign||function(a){for(var i,l=1,c=arguments.length;l<c;l++){i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},Yl.apply(this,arguments)};function fs(o,a){var i={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.indexOf(l)<0&&(i[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(o);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(o,l[c])&&(i[l[c]]=o[l[c]]);return i}function Zg(o,a,i,l){var c=arguments.length,d=c<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,i):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(o,a,i,l);else for(var m=o.length-1;m>=0;m--)(f=o[m])&&(d=(c<3?f(d):c>3?f(a,i,d):f(a,i))||d);return c>3&&d&&Object.defineProperty(a,i,d),d}function Ig(o,a){return function(i,l){a(i,l,o)}}function Pg(o,a,i,l,c,d){function f(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var m=l.kind,y=m==="getter"?"get":m==="setter"?"set":"value",v=!a&&o?l.static?o:o.prototype:null,b=a||(v?Object.getOwnPropertyDescriptor(v,l.name):{}),w,j=!1,_=i.length-1;_>=0;_--){var O={};for(var x in l)O[x]=x==="access"?{}:l[x];for(var x in l.access)O.access[x]=l.access[x];O.addInitializer=function(H){if(j)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(H||null))};var D=(0,i[_])(m==="accessor"?{get:b.get,set:b.set}:b[y],O);if(m==="accessor"){if(D===void 0)continue;if(D===null||typeof D!="object")throw new TypeError("Object expected");(w=f(D.get))&&(b.get=w),(w=f(D.set))&&(b.set=w),(w=f(D.init))&&c.unshift(w)}else(w=f(D))&&(m==="field"?c.unshift(w):b[y]=w)}v&&Object.defineProperty(v,l.name,b),j=!0}function Wg(o,a,i){for(var l=arguments.length>2,c=0;c<a.length;c++)i=l?a[c].call(o,i):a[c].call(o);return l?i:void 0}function Fg(o){return typeof o=="symbol"?o:"".concat(o)}function em(o,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function tm(o,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,a)}function F(o,a,i,l){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{v(l.next(b))}catch(w){f(w)}}function y(b){try{v(l.throw(b))}catch(w){f(w)}}function v(b){b.done?d(b.value):c(b.value).then(m,y)}v((l=l.apply(o,a||[])).next())})}function nm(o,a){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(v){return function(b){return y([v,b])}}function y(v){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(i=0)),i;)try{if(l=1,c&&(d=v[0]&2?c.return:v[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,v[1])).done)return d;switch(c=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,c=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=a.call(o,i)}catch(b){v=[6,b],c=0}finally{l=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Zl=Object.create?(function(o,a,i,l){l===void 0&&(l=i);var c=Object.getOwnPropertyDescriptor(a,i);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(o,l,c)}):(function(o,a,i,l){l===void 0&&(l=i),o[l]=a[i]});function am(o,a){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&Zl(a,o,i)}function Kl(o){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&o[a],l=0;if(i)return i.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qc(o,a){var i=typeof Symbol=="function"&&o[Symbol.iterator];if(!i)return o;var l=i.call(o),c,d=[],f;try{for(;(a===void 0||a-- >0)&&!(c=l.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(f)throw f.error}}return d}function sm(){for(var o=[],a=0;a<arguments.length;a++)o=o.concat(Qc(arguments[a]));return o}function im(){for(var o=0,a=0,i=arguments.length;a<i;a++)o+=arguments[a].length;for(var l=Array(o),c=0,a=0;a<i;a++)for(var d=arguments[a],f=0,m=d.length;f<m;f++,c++)l[c]=d[f];return l}function lm(o,a,i){if(i||arguments.length===2)for(var l=0,c=a.length,d;l<c;l++)(d||!(l in a))&&(d||(d=Array.prototype.slice.call(a,0,l)),d[l]=a[l]);return o.concat(d||Array.prototype.slice.call(a))}function us(o){return this instanceof us?(this.v=o,this):new us(o)}function rm(o,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(o,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(_){return function(O){return Promise.resolve(O).then(_,w)}}function m(_,O){l[_]&&(c[_]=function(x){return new Promise(function(D,H){d.push([_,x,D,H])>1||y(_,x)})},O&&(c[_]=O(c[_])))}function y(_,O){try{v(l[_](O))}catch(x){j(d[0][3],x)}}function v(_){_.value instanceof us?Promise.resolve(_.value.v).then(b,w):j(d[0][2],_)}function b(_){y("next",_)}function w(_){y("throw",_)}function j(_,O){_(O),d.shift(),d.length&&y(d[0][0],d[0][1])}}function om(o){var a,i;return a={},l("next"),l("throw",function(c){throw c}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(c,d){a[c]=o[c]?function(f){return(i=!i)?{value:us(o[c](f)),done:!1}:d?d(f):f}:d}}function cm(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o[Symbol.asyncIterator],i;return a?a.call(o):(o=typeof Kl=="function"?Kl(o):o[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(d){i[d]=o[d]&&function(f){return new Promise(function(m,y){f=o[d](f),c(m,y,f.done,f.value)})}}function c(d,f,m,y){Promise.resolve(y).then(function(v){d({value:v,done:m})},f)}}function um(o,a){return Object.defineProperty?Object.defineProperty(o,"raw",{value:a}):o.raw=a,o}var Ay=Object.create?(function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}):function(o,a){o.default=a},Uc=function(o){return Uc=Object.getOwnPropertyNames||function(a){var i=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[i.length]=l);return i},Uc(o)};function dm(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var i=Uc(o),l=0;l<i.length;l++)i[l]!=="default"&&Zl(a,o,i[l]);return Ay(a,o),a}function fm(o){return o&&o.__esModule?o:{default:o}}function hm(o,a,i,l){if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?o!==a||!l:!a.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?l:i==="a"?l.call(o):l?l.value:a.get(o)}function gm(o,a,i,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?o!==a||!c:!a.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(o,i):c?c.value=i:a.set(o,i),i}function mm(o,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?a===o:o.has(a)}function vm(o,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],i&&(c=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");c&&(l=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),o.stack.push({value:a,dispose:l,async:i})}else i&&o.stack.push({async:!0});return a}var Ty=typeof SuppressedError=="function"?SuppressedError:function(o,a,i){var l=new Error(i);return l.name="SuppressedError",l.error=o,l.suppressed=a,l};function ym(o){function a(d){o.error=o.hasError?new Ty(d,o.error,"An error was suppressed during disposal."):d,o.hasError=!0}var i,l=0;function c(){for(;i=o.stack.pop();)try{if(!i.async&&l===1)return l=0,o.stack.push(i),Promise.resolve().then(c);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return l|=2,Promise.resolve(d).then(c,function(f){return a(f),c()})}else l|=1}catch(f){a(f)}if(l===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return c()}function pm(o,a){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,l,c,d,f){return l?a?".jsx":".js":c&&(!d||!f)?i:c+d+"."+f.toLowerCase()+"js"}):o}const xy={__extends:Xg,__assign:Yl,__rest:fs,__decorate:Zg,__param:Ig,__esDecorate:Pg,__runInitializers:Wg,__propKey:Fg,__setFunctionName:em,__metadata:tm,__awaiter:F,__generator:nm,__createBinding:Zl,__exportStar:am,__values:Kl,__read:Qc,__spread:sm,__spreadArrays:im,__spreadArray:lm,__await:us,__asyncGenerator:rm,__asyncDelegator:om,__asyncValues:cm,__makeTemplateObject:um,__importStar:dm,__importDefault:fm,__classPrivateFieldGet:hm,__classPrivateFieldSet:gm,__classPrivateFieldIn:mm,__addDisposableResource:vm,__disposeResources:ym,__rewriteRelativeImportExtension:pm},Oy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:vm,get __assign(){return Yl},__asyncDelegator:om,__asyncGenerator:rm,__asyncValues:cm,__await:us,__awaiter:F,__classPrivateFieldGet:hm,__classPrivateFieldIn:mm,__classPrivateFieldSet:gm,__createBinding:Zl,__decorate:Zg,__disposeResources:ym,__esDecorate:Pg,__exportStar:am,__extends:Xg,__generator:nm,__importDefault:fm,__importStar:dm,__makeTemplateObject:um,__metadata:tm,__param:Ig,__propKey:Fg,__read:Qc,__rest:fs,__rewriteRelativeImportExtension:pm,__runInitializers:Wg,__setFunctionName:em,__spread:sm,__spreadArray:lm,__spreadArrays:im,__values:Kl,default:xy},Symbol.toStringTag,{value:"Module"})),Ny="modulepreload",Cy=function(o){return"/"+o},gg={},va=function(a,i,l){let c=Promise.resolve();if(i&&i.length>0){let v=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var f=v;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=m?.nonce||m?.getAttribute("nonce");c=v(i.map(b=>{if(b=Cy(b),b in gg)return;gg[b]=!0;const w=b.endsWith(".css"),j=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${j}`))return;const _=document.createElement("link");if(_.rel=w?"stylesheet":Ny,w||(_.as="script"),_.crossOrigin="",_.href=b,y&&_.setAttribute("nonce",y),document.head.appendChild(_),w)return new Promise((O,x)=>{_.addEventListener("load",O),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return c.then(m=>{for(const y of m||[])y.status==="rejected"&&d(y.reason);return a().catch(d)})},Ry=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>va(async()=>{const{default:l}=await Promise.resolve().then(()=>ya);return{default:l}},void 0).then(({default:l})=>l(...i)):a=fetch,(...i)=>a(...i)};class Xc extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class mg extends Xc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class vg extends Xc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class yg extends Xc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var zc;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(zc||(zc={}));class Dy{constructor(a,{headers:i={},customFetch:l,region:c=zc.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=Ry(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return F(this,arguments,void 0,function*(i,l={}){var c;try{const{headers:d,method:f,body:m,signal:y}=l;let v={},{region:b}=l;b||(b=this.region);const w=new URL(`${this.url}/${i}`);b&&b!=="any"&&(v["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let j;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(v["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(v["Content-Type"]="application/json",j=JSON.stringify(m)):j=m;const _=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),d),body:j,signal:y}).catch(H=>{throw H.name==="AbortError"?H:new mg(H)}),O=_.headers.get("x-relay-error");if(O&&O==="true")throw new vg(_);if(!_.ok)throw new yg(_);let x=((c=_.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),D;return x==="application/json"?D=yield _.json():x==="application/octet-stream"||x==="application/pdf"?D=yield _.blob():x==="text/event-stream"?D=_:x==="multipart/form-data"?D=yield _.formData():D=yield _.text(),{data:D,error:null,response:_}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new mg(d)}:{data:null,error:d,response:d instanceof yg||d instanceof vg?d.context:void 0}}})}}var nt={};const hs=Qg(Oy);var zl={},Ml={},Bl={},Ll={},ql={},ky=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=ky();const Uy=ds.fetch,bm=ds.fetch.bind(ds),_m=ds.Headers,zy=ds.Request,My=ds.Response,ya=Object.freeze(Object.defineProperty({__proto__:null,Headers:_m,Request:zy,Response:My,default:bm,fetch:Uy},Symbol.toStringTag,{value:"Module"})),By=Qg(ya);var Hl={},pg;function wm(){if(pg)return Hl;pg=1,Object.defineProperty(Hl,"__esModule",{value:!0});class o extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Hl.default=o,Hl}var bg;function Sm(){if(bg)return ql;bg=1,Object.defineProperty(ql,"__esModule",{value:!0});const o=hs,a=o.__importDefault(By),i=o.__importDefault(wm());class l{constructor(d){var f,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let y=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var b,w,j,_;let O=null,x=null,D=null,H=v.status,L=v.statusText;if(v.ok){if(this.method!=="HEAD"){const $=await v.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?x=$:x=JSON.parse($))}const Q=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),V=(j=v.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");Q&&V&&V.length>1&&(D=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(O={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,D=null,H=406,L="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const Q=await v.text();try{O=JSON.parse(Q),Array.isArray(O)&&v.status===404&&(x=[],O=null,H=200,L="OK")}catch{v.status===404&&Q===""?(H=204,L="No Content"):O={message:Q}}if(O&&this.isMaybeSingle&&(!((_=O?.details)===null||_===void 0)&&_.includes("0 rows"))&&(O=null,H=200,L="OK"),O&&this.shouldThrowOnError)throw new i.default(O)}return{error:O,data:x,count:D,status:H,statusText:L}});return this.shouldThrowOnError||(y=y.catch(v=>{var b,w,j;return{error:{message:`${(b=v?.name)!==null&&b!==void 0?b:"FetchError"}: ${v?.message}`,details:`${(w=v?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(j=v?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),y.then(d,f)}returns(){return this}overrideTypes(){return this}}return ql.default=l,ql}var _g;function Em(){if(_g)return Ll;_g=1,Object.defineProperty(Ll,"__esModule",{value:!0});const a=hs.__importDefault(Sm());class i extends a.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:y=m}={}){const v=y?`${y}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const y=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(y,`${c}`),this.url.searchParams.set(v,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:y=!1,format:v="text"}={}){var b;const w=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,y?"wal":null].filter(Boolean).join("|"),j=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${j}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Ll.default=i,Ll}var wg;function Zc(){if(wg)return Bl;wg=1,Object.defineProperty(Bl,"__esModule",{value:!0});const a=hs.__importDefault(Em()),i=new RegExp("[,()]");class l extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(y=>typeof y=="string"&&i.test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:y}={}){let v="";y==="plain"?v="pl":y==="phrase"?v="ph":y==="websearch"&&(v="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${v}fts${b}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const y=m?`${m}.or`:"or";return this.url.searchParams.append(y,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return Bl.default=l,Bl}var Sg;function jm(){if(Sg)return Ml;Sg=1,Object.defineProperty(Ml,"__esModule",{value:!0});const a=hs.__importDefault(Zc());class i{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},y=f?"HEAD":"GET";let v=!1;const b=(c??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const y="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const v=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:y=!0}={}){var v;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((j,_)=>j.concat(Object.keys(_)),[]);if(w.length>0){const j=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",j.join(","))}}return new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ml.default=i,Ml}var Eg;function Ly(){if(Eg)return zl;Eg=1,Object.defineProperty(zl,"__esModule",{value:!0});const o=hs,a=o.__importDefault(jm()),i=o.__importDefault(Zc());class l{constructor(d,{headers:f={},schema:m,fetch:y}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=y}from(d){const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:y=!1,count:v}={}){var b;let w;const j=new URL(`${this.url}/rpc/${d}`);let _;m||y?(w=m?"HEAD":"GET",Object.entries(f).filter(([x,D])=>D!==void 0).map(([x,D])=>[x,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([x,D])=>{j.searchParams.append(x,D)})):(w="POST",_=f);const O=new Headers(this.headers);return v&&O.set("Prefer",`count=${v}`),new i.default({method:w,url:j,headers:O,schema:this.schemaName,body:_,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return zl.default=l,zl}var jg;function qy(){if(jg)return nt;jg=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const o=hs,a=o.__importDefault(Ly());nt.PostgrestClient=a.default;const i=o.__importDefault(jm());nt.PostgrestQueryBuilder=i.default;const l=o.__importDefault(Zc());nt.PostgrestFilterBuilder=l.default;const c=o.__importDefault(Em());nt.PostgrestTransformBuilder=c.default;const d=o.__importDefault(Sm());nt.PostgrestBuilder=d.default;const f=o.__importDefault(wm());return nt.PostgrestError=f.default,nt.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},nt}var Am=qy();const Tm=gy(Am),Hy=hy({__proto__:null,default:Tm},[Am]),{PostgrestClient:Gy,PostgrestQueryBuilder:Y_,PostgrestFilterBuilder:K_,PostgrestTransformBuilder:J_,PostgrestBuilder:Q_,PostgrestError:X_}=Tm||Hy;class $y{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Vy="2.77.0",Yy=`realtime-js/${Vy}`,Ky="1.0.0",Mc=1e4,Jy=1e3,Qy=100;var ui;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(ui||(ui={}));var Je;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Je||(Je={}));var Vt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Vt||(Vt={}));var Bc;(function(o){o.websocket="websocket"})(Bc||(Bc={}));var fa;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(fa||(fa={}));class Xy{constructor(){this.HEADER_LENGTH=1}decode(a,i){return a.constructor===ArrayBuffer?i(this._binaryDecode(a)):i(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const i=new DataView(a),l=new TextDecoder;return this._decodeBroadcast(a,i,l)}_decodeBroadcast(a,i,l){const c=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const m=l.decode(a.slice(f,f+c));f=f+c;const y=l.decode(a.slice(f,f+d));f=f+d;const v=JSON.parse(l.decode(a.slice(f,a.byteLength)));return{ref:null,topic:m,event:y,payload:v}}}class xm{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Ne||(Ne={}));const Ag=(o,a,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Zy(f,o,a,c),d),{}):{}},Zy=(o,a,i,l)=>{const c=a.find(m=>m.name===o),d=c?.type,f=i[o];return d&&!l.includes(d)?Om(d,f):Lc(f)},Om=(o,a)=>{if(o.charAt(0)==="_"){const i=o.slice(1,o.length);return Fy(a,i)}switch(o){case Ne.bool:return Iy(a);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Py(a);case Ne.json:case Ne.jsonb:return Wy(a);case Ne.timestamp:return ep(a);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Lc(a);default:return Lc(a)}},Lc=o=>o,Iy=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Py=o=>{if(typeof o=="string"){const a=parseFloat(o);if(!Number.isNaN(a))return a}return o},Wy=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(a){return console.log(`JSON parse error: ${a}`),o}return o},Fy=(o,a)=>{if(typeof o!="string")return o;const i=o.length-1,l=o[i];if(o[0]==="{"&&l==="}"){let d;const f=o.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Om(a,m))}return o},ep=o=>typeof o=="string"?o.replace(" ","T"):o,Nm=o=>{const a=new URL(o);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Ec{constructor(a,i,l={},c=Mc){this.channel=a,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Tg;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Tg||(Tg={}));class di{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,c,d,f),this.pendingDiffs.forEach(y=>{this.state=di.syncDiff(this.state,y,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=di.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,c){const d=this.cloneDeep(a),f=this.transformState(i),m={},y={};return this.map(d,(v,b)=>{f[v]||(y[v]=b)}),this.map(f,(v,b)=>{const w=d[v];if(w){const j=b.map(D=>D.presence_ref),_=w.map(D=>D.presence_ref),O=b.filter(D=>_.indexOf(D.presence_ref)<0),x=w.filter(D=>j.indexOf(D.presence_ref)<0);O.length>0&&(m[v]=O),x.length>0&&(y[v]=x)}else m[v]=b}),this.syncDiff(d,{joins:m,leaves:y},l,c)}static syncDiff(a,i,l,c){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,y)=>{var v;const b=(v=a[m])!==null&&v!==void 0?v:[];if(a[m]=this.cloneDeep(y),b.length>0){const w=a[m].map(_=>_.presence_ref),j=b.filter(_=>w.indexOf(_.presence_ref)<0);a[m].unshift(...j)}l(m,b,y)}),this.map(f,(m,y)=>{let v=a[m];if(!v)return;const b=y.map(w=>w.presence_ref);v=v.filter(w=>b.indexOf(w.presence_ref)<0),a[m]=v,c(m,v,y),v.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const c=a[l];return"metas"in c?i[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(xg||(xg={}));var fi;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(fi||(fi={}));var gn;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class Ic{constructor(a,i={config:{}},l){var c,d;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ec(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new di(this),this.broadcastEndpointURL=Nm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:f,presence:m,private:y}}=this.params,v=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[fi.PRESENCE]&&this.bindings[fi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},j={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>a?.(gn.CHANNEL_ERROR,_)),this._onClose(()=>a?.(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var O;if(this.socket.setAuth(),_===void 0){a?.(gn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,D=(O=x?.length)!==null&&O!==void 0?O:0,H=[];for(let L=0;L<D;L++){const G=x[L],{filter:{event:Q,schema:V,table:$,filter:X}}=G,we=_&&_[L];if(we&&we.event===Q&&we.schema===V&&we.table===$&&we.filter===X)H.push(Object.assign(Object.assign({},G),{id:we.id}));else{this.unsubscribe(),this.state=Je.errored,a?.(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(gn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Je.errored,a?.(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{a?.(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===Je.joined&&a===fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const v=await m.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(a,i={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,y;const v=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Je.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Ec(this,Vt.leave,{},a),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),f}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ec(this,a,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Qy){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:y,leave:v,join:b}=Vt;if(l&&[m,y,v,b].indexOf(f)>=0&&l!==this._joinRef())return;let j=this._onMessage(f,i,l);if(i&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(_=>{var O,x,D;return((O=_.filter)===null||O===void 0?void 0:O.event)==="*"||((D=(x=_.filter)===null||x===void 0?void 0:x.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(_=>_.callback(j,l)):(d=this.bindings[f])===null||d===void 0||d.filter(_=>{var O,x,D,H,L,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const Q=_.id,V=(O=_.filter)===null||O===void 0?void 0:O.event;return Q&&((x=i.ids)===null||x===void 0?void 0:x.includes(Q))&&(V==="*"||V?.toLocaleLowerCase()===((D=i.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const Q=(L=(H=_?.filter)===null||H===void 0?void 0:H.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Q==="*"||Q===((G=i?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof j=="object"&&"ids"in j){const O=j.data,{schema:x,table:D,commit_timestamp:H,type:L,errors:G}=O;j=Object.assign(Object.assign({},{schema:x,table:D,commit_timestamp:H,eventType:L,new:{},old:{},errors:G}),this._getPayloadRecords(O))}_.callback(j,l)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Ic.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Vt.close,{},a)}_onError(a){this._on(Vt.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Ag(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Ag(a.columns,a.old_record)),i}}const jc=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tp=[1e3,2e3,5e3,1e4],np=1e4,ap=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sp{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jc,this.ref=0,this.reconnectTimer=null,this.logger=jc,this.conn=null,this.sendBuffer=[],this.serializer=new Xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...f)=>va(async()=>{const{default:m}=await Promise.resolve().then(()=>ya);return{default:m}},void 0).then(({default:m})=>m(...f)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Bc.websocket}`,this.httpEndpoint=Nm(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$y.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ky}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},a?this.conn.close(a,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return fa.Connecting;case ui.open:return fa.Open;case ui.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Ic(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:l,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${i} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Jy,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:f}=i,m=f?`(${f})`:"",y=d.status||"";this.log("receive",`${y} ${l} ${c} ${m}`.trim(),d),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(c,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Vt.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${l}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([ap],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i;a?i=a:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const c={access_token:i,version:Yy};i&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Vt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,c,d,f,m,y,v,b;if(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Mc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Gl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:jc,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(w=>tp[w-1]||np),this.encode=(v=a?.encode)!==null&&v!==void 0?v:((w,j)=>j(JSON.stringify(w))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Pc extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ue(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class ip extends Pc{constructor(a,i,l){super(a),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qc extends Pc{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const Wc=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>va(async()=>{const{default:l}=await Promise.resolve().then(()=>ya);return{default:l}},void 0).then(({default:l})=>l(...i)):a=fetch,(...i)=>a(...i)},lp=()=>F(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield va(()=>Promise.resolve().then(()=>ya),void 0)).Response:Response}),Hc=o=>{if(Array.isArray(o))return o.map(i=>Hc(i));if(typeof o=="function"||o!==Object(o))return o;const a={};return Object.entries(o).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Hc(l)}),a},rp=o=>{if(typeof o!="object"||o===null)return!1;const a=Object.getPrototypeOf(o);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Ac=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),op=(o,a,i)=>F(void 0,void 0,void 0,function*(){const l=yield lp();o instanceof l&&!i?.noResolveJson?o.json().then(c=>{const d=o.status||500,f=c?.statusCode||d+"";a(new ip(Ac(c),d,f))}).catch(c=>{a(new qc(Ac(c),c))}):a(new qc(Ac(o),o))}),cp=(o,a,i,l)=>{const c={method:o,headers:a?.headers||{}};return o==="GET"||!l?c:(rp(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),i))};function vi(o,a,i,l,c,d){return F(this,void 0,void 0,function*(){return new Promise((f,m)=>{o(i,cp(a,l,c,d)).then(y=>{if(!y.ok)throw y;return l?.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>op(y,m,l))})})}function hi(o,a,i,l){return F(this,void 0,void 0,function*(){return vi(o,"GET",a,i,l)})}function $t(o,a,i,l,c){return F(this,void 0,void 0,function*(){return vi(o,"POST",a,l,c,i)})}function Gc(o,a,i,l,c){return F(this,void 0,void 0,function*(){return vi(o,"PUT",a,l,c,i)})}function up(o,a,i,l){return F(this,void 0,void 0,function*(){return vi(o,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function Fc(o,a,i,l,c){return F(this,void 0,void 0,function*(){return vi(o,"DELETE",a,l,c,i)})}class dp{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}}var Cm;class fp{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Cm]="BlobDownloadBuilder",this.promise=null}asStream(){return new dp(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}}Cm=Symbol.toStringTag;const hp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(a,i={},l,c){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=l,this.fetch=Wc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,l,c){return F(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Og),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",this.encodeMetadata(y)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",this.encodeMetadata(y))):(d=l,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const v=this._removeEmptyFolders(i),b=this._getFinalPath(v),w=yield(a=="PUT"?Gc:$t)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}})}upload(a,i,l){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,l)})}uploadToSignedUrl(a,i,l,c){return F(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",i);try{let y;const v=Object.assign({upsert:Og.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",v.cacheControl)):(y=l,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const w=yield Gc(this.fetch,m.toString(),y,{headers:b});return{data:{path:d,fullPath:w.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(Ue(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(a,i){return F(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const c=Object.assign({},this.headers);i?.upsert&&(c["x-upsert"]="true");const d=yield $t(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new Pc("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}update(a,i,l){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,l)})}move(a,i,l){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}copy(a,i,l){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}createSignedUrl(a,i,l){return F(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield $t(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}createSignedUrls(a,i,l){return F(this,void 0,void 0,function*(){try{const c=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}download(a,i){const c=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"",m=this._getFinalPath(a),y=()=>hi(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new fp(y,this.shouldThrowOnError)}info(a){return F(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const l=yield hi(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Hc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}exists(a){return F(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield up(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l)&&l instanceof qc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,i){const l=this._getFinalPath(a),c=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const m=typeof i?.transform<"u"?"render/image":"object",y=this.transformOptsToQueryString(i?.transform||{});y!==""&&c.push(y);let v=c.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${v}`)}}}remove(a){return F(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}list(a,i,l){return F(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hp),i),{prefix:a||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}listV2(a,i){return F(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const Rm="2.77.0",Dm={"X-Client-Info":`storage-js/${Rm}`};class mp{constructor(a,i={},l,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=Wc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return F(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield hi(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}createBucket(a){return F(this,arguments,void 0,function*(i,l={public:!1}){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}updateBucket(a,i){return F(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}emptyBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class vp{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dm),i),this.fetch=Wc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}listBuckets(a){return F(this,void 0,void 0,function*(){try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const l=i.toString(),c=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield hi(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}}const eu={"X-Client-Info":`storage-js/${Rm}`,"Content-Type":"application/json"};class km extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function At(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class Tc extends km{constructor(a,i,l){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yp extends km{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var Ng;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ng||(Ng={}));const tu=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>va(async()=>{const{default:l}=await Promise.resolve().then(()=>ya);return{default:l}},void 0).then(({default:l})=>l(...i)):a=fetch,(...i)=>a(...i)},pp=o=>{if(typeof o!="object"||o===null)return!1;const a=Object.getPrototypeOf(o);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Cg=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),bp=(o,a,i)=>F(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!i?.noResolveJson){const c=o.status||500,d=o;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||c+"";a(new Tc(Cg(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Tc(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Tc(m,c,f))}}else a(new yp(Cg(o),o))}),_p=(o,a,i,l)=>{const c={method:o,headers:a?.headers||{}};return l?(pp(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),i)):c};function wp(o,a,i,l,c,d){return F(this,void 0,void 0,function*(){return new Promise((f,m)=>{o(i,_p(a,l,c,d)).then(y=>{if(!y.ok)throw y;if(l?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>f(y)).catch(y=>bp(y,m,l))})})}function Tt(o,a,i,l,c){return F(this,void 0,void 0,function*(){return wp(o,"POST",a,l,c,i)})}class Sp{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eu),i),this.fetch=tu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}getIndex(a,i){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(At(l))return{data:null,error:l};throw l}})}listIndexes(a){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return F(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(At(l))return{data:null,error:l};throw l}})}}class Ep{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eu),i),this.fetch=tu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return F(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}getVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}listVectors(a){return F(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Tt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}queryVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}deleteVectors(a){return F(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}}class jp{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eu),i),this.fetch=tu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}listBuckets(){return F(this,arguments,void 0,function*(a={}){try{return{data:yield Tt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}}class Ap extends jp{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new Tp(this.url,this.headers,a,this.fetch)}}class Tp extends Sp{constructor(a,i,l,c){super(a,i,c),this.vectorBucketName=l}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new xp(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class xp extends Ep{constructor(a,i,l,c,d){super(a,i,d),this.vectorBucketName=l,this.indexName=c}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Op extends mp{constructor(a,i={},l,c){super(a,i,l,c)}from(a){return new gp(this.url,this.headers,a,this.fetch)}get vectors(){return new Ap(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vp(this.url+"/iceberg",this.headers,this.fetch)}}const Np="2.77.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const Cp={"X-Client-Info":`supabase-js-${ci}/${Np}`},Rp={headers:Cp},Dp={schema:"public"},kp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Up={},zp=o=>{let a;return o?a=o:typeof fetch>"u"?a=bm:a=fetch,(...i)=>a(...i)},Mp=()=>typeof Headers>"u"?_m:Headers,Bp=(o,a,i)=>{const l=zp(i),c=Mp();return async(d,f)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:o;let v=new c(f?.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),l(d,Object.assign(Object.assign({},f),{headers:v}))}};function Lp(o){return o.endsWith("/")?o:o+"/"}function qp(o,a){var i,l;const{db:c,auth:d,realtime:f,global:m}=o,{db:y,auth:v,realtime:b,global:w}=a,j={db:Object.assign(Object.assign({},y),c),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},b),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(i=w?.headers)!==null&&i!==void 0?i:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return o.accessToken?j.accessToken=o.accessToken:delete j.accessToken,j}function Hp(o){const a=o?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lp(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Um="2.77.0",rs=30*1e3,$c=3,xc=$c*rs,Gp="http://localhost:9999",$p="supabase.auth.token",Vp={"X-Client-Info":`gotrue-js/${Um}`},Vc="X-Supabase-Api-Version",zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kp=600*1e3;class gi extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function te(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Jp extends gi{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Qp(o){return te(o)&&o.name==="AuthApiError"}class ha extends gi{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class Vn extends gi{constructor(a,i,l,c){super(a,l,c),this.name=i,this.status=l}}class Gn extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xp(o){return te(o)&&o.name==="AuthSessionMissingError"}class ns extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends Vn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends Vn{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zp(o){return te(o)&&o.name==="AuthImplicitGrantRedirectError"}class Rg extends Vn{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yc extends Vn{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function Oc(o){return te(o)&&o.name==="AuthRetryableFetchError"}class Dg extends Vn{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Kc extends Vn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kg=` 	
\r=`.split(""),Ip=(()=>{const o=new Array(128);for(let a=0;a<o.length;a+=1)o[a]=-1;for(let a=0;a<kg.length;a+=1)o[kg[a].charCodeAt(0)]=-2;for(let a=0;a<Jl.length;a+=1)o[Jl[a].charCodeAt(0)]=a;return o})();function Ug(o,a,i){if(o!==null)for(a.queue=a.queue<<8|o,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Jl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Jl[l]),a.queuedBits-=6}}function Mm(o,a,i){const l=Ip[o];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function zg(o){const a=[],i=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Fp(f,l,i)};for(let f=0;f<o.length;f+=1)Mm(o.charCodeAt(f),c,d);return a.join("")}function Pp(o,a){if(o<=127){a(o);return}else if(o<=2047){a(192|o>>6),a(128|o&63);return}else if(o<=65535){a(224|o>>12),a(128|o>>6&63),a(128|o&63);return}else if(o<=1114111){a(240|o>>18),a(128|o>>12&63),a(128|o>>6&63),a(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Wp(o,a){for(let i=0;i<o.length;i+=1){let l=o.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(o.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}Pp(l,a)}}function Fp(o,a,i){if(a.utf8seq===0){if(o<=127){i(o);return}for(let l=1;l<6;l+=1)if((o>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=o&31;else if(a.utf8seq===3)a.codepoint=o&15;else if(a.utf8seq===4)a.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|o&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function cs(o){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<o.length;c+=1)Mm(o.charCodeAt(c),i,l);return new Uint8Array(a)}function eb(o){const a=[];return Wp(o,i=>a.push(i)),new Uint8Array(a)}function ma(o){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};return o.forEach(c=>Ug(c,i,l)),Ug(null,i,l),a.join("")}function tb(o){return Math.round(Date.now()/1e3)+o}function nb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const a=Math.random()*16|0;return(o=="x"?a:a&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},Bm=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function ab(o){const a={},i=new URL(o);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((l,c)=>{a[c]=l}),a}const Lm=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>va(async()=>{const{default:l}=await Promise.resolve().then(()=>ya);return{default:l}},void 0).then(({default:l})=>l(...i)):a=fetch,(...i)=>a(...i)},sb=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",os=async(o,a,i)=>{await o.setItem(a,JSON.stringify(i))},ua=async(o,a)=>{const i=await o.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Hn=async(o,a)=>{await o.removeItem(a)};class Il{constructor(){this.promise=new Il.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Il.promiseConstructor=Promise;function Nc(o){const a=o.split(".");if(a.length!==3)throw new Kc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!Yp.test(a[l]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(zg(a[0])),payload:JSON.parse(zg(a[1])),signature:cs(a[2]),raw:{header:a[0],payload:a[1]}}}async function ib(o){return await new Promise(a=>{setTimeout(()=>a(null),o)})}function lb(o,a){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await o(d);if(!a(d,null,f)){l(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function rb(o){return("0"+o.toString(16)).substr(-2)}function ob(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,rb).join("")}async function cb(o){const i=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function ub(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const i=await cb(o);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(o,a,i=!1){const l=ob();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await os(o,`${a}-code-verifier`,c);const d=await ub(l);return[d,l===d?"plain":"s256"]}const db=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fb(o){const a=o.headers.get(Vc);if(!a||!a.match(db))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function hb(o){if(!o)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(o<=a)throw new Error("JWT has expired")}function gb(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ss(o){if(!mb.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cc(){const o={};return new Proxy(o,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mg(o){return JSON.parse(JSON.stringify(o))}const da=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),vb=[502,503,504];async function Bg(o){var a;if(!sb(o))throw new Yc(da(o),0);if(vb.includes(o.status))throw new Yc(da(o),o.status);let i;try{i=await o.json()}catch(d){throw new ha(da(d),d)}let l;const c=fb(o);if(c&&c.getTime()>=zm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Dg(da(i),o.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Gn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Dg(da(i),o.status,i.weak_password.reasons);throw new Jp(da(i),o.status||500,l)}const yb=(o,a,i,l)=>{const c={method:o,headers:a?.headers||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function ie(o,a,i,l){var c;const d=Object.assign({},l?.headers);d[Vc]||(d[Vc]=zm["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await pb(o,a,i+m,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function pb(o,a,i,l,c,d){const f=yb(a,l,c,d);let m;try{m=await o(i,Object.assign({},f))}catch(y){throw console.error(y),new Yc(da(y),0)}if(m.ok||await Bg(m),l?.noResolveJson)return m;try{return await m.json()}catch(y){await Bg(y)}}function Gt(o){var a;let i=null;wb(o)&&(i=Object.assign({},o),o.expires_at||(i.expires_at=tb(o.expires_in)));const l=(a=o.user)!==null&&a!==void 0?a:o;return{data:{session:i,user:l},error:null}}function Lg(o){const a=Gt(o);return!a.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=o.weak_password),a}function $n(o){var a;return{data:{user:(a=o.user)!==null&&a!==void 0?a:o},error:null}}function bb(o){return{data:o,error:null}}function _b(o){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d}=o,f=fs(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function qg(o){return o}function wb(o){return o.access_token&&o.refresh_token&&o.expires_in}const Rc=["global","local","others"];class Sb{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=Lm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=Rc[0]){if(Rc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:$n})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=fs(a,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:_b,redirectTo:i?.redirectTo})}catch(i){if(te(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:$n})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,c,d,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:qg});if(b.error)throw b.error;const w=await b.json(),j=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(y=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return _.length>0&&(_.forEach(O=>{const x=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);v[`${D}Page`]=x}),v.total=parseInt(j)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(te(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){ss(a);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:$n})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){ss(a);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:$n})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){ss(a);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:$n})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){ss(a.userId);try{const{data:i,error:l}=await ie(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(te(i))return{data:null,error:i};throw i}}async _deleteFactor(a){ss(a.userId),ss(a.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,c,d,f,m,y;try{const v={nextPage:null,lastPage:0,total:0},b=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:qg});if(b.error)throw b.error;const w=await b.json(),j=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(y=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return _.length>0&&(_.forEach(O=>{const x=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);v[`${D}Page`]=x}),v.total=parseInt(j)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(te(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}}function Hg(o={}){return{getItem:a=>o[a]||null,setItem:(a,i)=>{o[a]=i},removeItem:a=>{delete o[a]}}}const is={debug:!!(globalThis&&Bm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qm extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Eb extends qm{}async function jb(o,a,i){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await i()}finally{is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(a===0)throw is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Eb(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(is.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Ab(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hm(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function Tb(o){return parseInt(o,16)}function xb(o){const a=new TextEncoder().encode(o);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Ob(o){var a;const{chainId:i,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:y,resources:v,scheme:b,uri:w,version:j}=o;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((a=o.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const _=Hm(o.address),O=b?`${b}://${l}`:l,x=o.statement?`${o.statement}
`:"",D=`${O} wants you to sign in with your Ethereum account:
${_}

${x}`;let H=`URI: ${w}
Version: ${j}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),m&&(H+=`
Not Before: ${m.toISOString()}`),y&&(H+=`
Request ID: ${y}`),v){let L=`
Resources:`;for(const G of v){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);L+=`
- ${G}`}H+=L}return`${D}
${H}`}class Ye extends Error{constructor({message:a,code:i,cause:l,name:c}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Ql extends Ye{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Nb({error:o,options:a}){var i,l,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new Ye({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const f=window.location.hostname;if(Gm(f)){if(d.rp.id!==f)return new Ye({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function Cb({error:o,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new Ye({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const l=window.location.hostname;if(Gm(l)){if(i.rpId!==l)return new Ye({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class Rb{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Db=new Rb;function kb(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:a,user:i,excludeCredentials:l}=o,c=fs(o,["challenge","user","excludeCredentials"]),d=cs(a).buffer,f=Object.assign(Object.assign({},i),{id:cs(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const v=l[y];m.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:cs(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function Ub(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:a,allowCredentials:i}=o,l=fs(o,["challenge","allowCredentials"]),c=cs(a).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:cs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function zb(o){var a;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const i=o;return{id:o.id,rawId:o.id,response:{attestationObject:ma(new Uint8Array(o.response.attestationObject)),clientDataJSON:ma(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Mb(o){var a;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const i=o,l=o.getClientExtensionResults(),c=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:ma(new Uint8Array(c.authenticatorData)),clientDataJSON:ma(new Uint8Array(c.clientDataJSON)),signature:ma(new Uint8Array(c.signature)),userHandle:c.userHandle?ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gm(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function Gg(){var o,a;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Bb(o){try{const a=await navigator.credentials.create(o);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ql("Browser returned unexpected credential type",a)}:{data:null,error:new Ql("Empty credential response",a)}}catch(a){return{data:null,error:Nb({error:a,options:o})}}}async function Lb(o){try{const a=await navigator.credentials.get(o);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ql("Browser returned unexpected credential type",a)}:{data:null,error:new Ql("Empty credential response",a)}}catch(a){return{data:null,error:Cb({error:a,options:o})}}}const qb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Hb={userVerification:"preferred",hints:["security-key"]};function Xl(...o){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of o)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(i(f))l[d]=f;else if(a(f)){const m=l[d];a(m)?l[d]=Xl(m,f):l[d]=Xl(f)}else l[d]=f}return l}function Gb(o,a){return Xl(qb,o,a||{})}function $b(o,a){return Xl(Hb,o,a||{})}class Vb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:m};const y=c??Db.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=Gb(f.webauthn.credential_options.publicKey,d?.create),{data:b,error:w}=await Bb({publicKey:v,signal:y});return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const v=$b(f.webauthn.credential_options.publicKey,d?.request),{data:b,error:w}=await Lb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:y}));return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new ha("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}},d){if(!i)return{data:null,error:new gi("rpId is required for WebAuthn authentication")};try{if(!Gg())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:y}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:y.type,rpId:i,rpOrigins:l,credential_response:y.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new ha("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c},d){if(!i)return{data:null,error:new gi("rpId is required for WebAuthn registration")};try{if(!Gg())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===a&&j.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:y,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:d});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:i,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new ha("Unexpected error in register",f)}}}}Ab();const Yb={url:Gp,storageKey:$p,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $g(o,a,i){return await i()}const ls={};class mi{get jwks(){var a,i;return(i=(a=ls[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=ls[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ls[this.storageKey]=Object.assign(Object.assign({},ls[this.storageKey]),{cachedAt:a})}constructor(a){var i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mi.nextInstanceID,mi.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Yb),a);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Sb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Lm(c.fetch),this.lock=c.lock||$g,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:jt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=jb:this.lock=$g,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vb(this)},this.persistSession?(c.storage?this.storage=c.storage:Bm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Hg(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Um}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const i=ab(window.location.href);let l="none";if(this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce"),jt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Zp(d)){const y=(a=d.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return te(i)?{error:i}:{error:new ha("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,c;try{const d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Gt}),{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(d){if(te(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(a){var i,l,c;try{let d;if("email"in a){const{email:b,password:w,options:j}=a;let _=null,O=null;this.flowType==="pkce"&&([_,O]=await as(this.storage,this.storageKey)),d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:b,password:w,data:(i=j?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:_,code_challenge_method:O},xform:Gt})}else if("phone"in a){const{phone:b,password:w,options:j}=a;d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(l=j?.data)!==null&&l!==void 0?l:{},channel:(c=j?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Gt})}else throw new $l("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(d){if(te(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:f,options:m}=a;i=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Lg})}else if("phone"in a){const{phone:d,password:f,options:m}=a;i=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Lg})}else throw new $l("You must provide either an email or phone number and a password");const{data:l,error:c}=i;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ns}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(a){var i,l,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,c,d,f,m,y,v,b,w,j;let _,O;if("message"in a)_=a.message,O=a.signature;else{const{chain:x,wallet:D,statement:H,options:L}=a;let G;if(jt())if(typeof D=="object")G=D;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")G=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=D}const Q=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href),V=await G.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=Hm(V[0]);let X=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const le=await G.request({method:"eth_chainId"});X=Tb(le)}const we={domain:Q.host,address:$,statement:H,uri:Q.href,version:"1",chainId:X,nonce:(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=L?.signInWithEthereum)===null||b===void 0?void 0:b.resources};_=Ob(we),O=await G.request({method:"personal_sign",params:[xb(_),$]})}try{const{data:x,error:D}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:O},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Gt});if(D)throw D;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ns}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:D})}catch(x){if(te(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(a){var i,l,c,d,f,m,y,v,b,w,j,_;let O,x;if("message"in a)O=a.message,x=a.signature;else{const{chain:D,wallet:H,statement:L,options:G}=a;let Q;if(jt())if(typeof H=="object")Q=H;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))Q=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=H}const V=new URL((i=G?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const $=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),L?{statement:L}:null));let X;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")X=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)X=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),x=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${V.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(c=(l=G?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((m=G?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((v=G?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((w=(b=G?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...G.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const $=await Q.signMessage(new TextEncoder().encode(O),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=$}}try{const{data:D,error:H}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ma(x)},!((j=a.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Gt});if(H)throw H;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new ns}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:H})}catch(D){if(te(D))return{data:{user:null,session:null},error:D};throw D}}async _exchangeCodeForSession(a){const i=await ua(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{const{data:d,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Gt});if(await Hn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ns}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(te(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(a){try{const{options:i,provider:l,token:c,access_token:d,nonce:f}=a,m=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Gt}),{data:y,error:v}=m;return v?{data:{user:null,session:null},error:v}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new ns}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:v})}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(a){var i,l,c,d,f;try{if("email"in a){const{email:m,options:y}=a;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await as(this.storage,this.storageKey));const{error:w}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=y?.data)!==null&&i!==void 0?i:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:y?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in a){const{phone:m,options:y}=a,{data:v,error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(d=y?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:b}}throw new $l("You must provide either an email or phone number.")}catch(m){if(te(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(a){var i,l;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Gt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,v=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:v,session:y},error:null}}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(a){var i,l,c;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await as(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:bb})}catch(d){if(te(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new Gn;const{error:c}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:c}})}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:d}=a,{error:f}=await ie(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in a){const{phone:l,type:c,options:d}=a,{data:f,error:m}=await ie(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:m}}throw new $l("You must provide either an email or phone number and a type")}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<xc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await ua(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Cc()}if(this.storage.isServer&&a.user){let f=this.suppressGetSessionWarning;a=new Proxy(a,{get:(y,v,b)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,v,b))})}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:$n}):await this._useSession(async i=>{var l,c,d;const{data:f,error:m}=i;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:$n})})}catch(i){if(te(i))return Xp(i)&&(await this._removeSession(),await Hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Gn;const f=c.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await as(this.storage,this.storageKey));const{data:v,error:b}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:$n});if(b)throw b;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Gn;const i=Date.now()/1e3;let l=i,c=!0,d=null;const{payload:f}=Nc(a.access_token);if(f.exp&&(l=f.exp,c=l<=i),c){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)throw y;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(te(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:f,error:m}=i;if(m)throw m;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Gn;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(a,i){try{if(!jt())throw new Vl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Vl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Rg("No code detected.");const{data:L,error:G}=await this._exchangeCodeForSession(a.code);if(G)throw G;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:y,token_type:v}=a;if(!d||!m||!f||!v)throw new Vl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let j=b+w;y&&(j=parseInt(y));const _=j-b;_*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const O=j-w;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,j,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,j,b);const{data:x,error:D}=await this._getUser(d);if(D)throw D;const H={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:j,refresh_token:f,token_type:v,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:H,redirectType:a.type},error:null}}catch(l){if(te(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return{error:d};const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Qp(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return a!=="others"&&(await this._removeSession(),await Hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const i=nb(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,c;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await as(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(te(d))return{data:null,error:d};throw d}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:c}=await this._useSession(async d=>{var f,m,y,v,b;const{data:w,error:j}=d;if(j)throw j;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",_,{headers:this.headers,jwt:(b=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return jt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:a.provider,url:l?.url},error:null}}catch(l){if(te(l))return{data:{provider:a.provider,url:null},error:l};throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:f,provider:m,token:y,access_token:v,nonce:b}=a,w=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:y,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gt}),{data:j,error:_}=w;return _?{data:{user:null,session:null},error:_}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new ns}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),{data:j,error:_})}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:f}=i;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await lb(async c=>(c>0&&await ib(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Gt})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Oc(d)&&Date.now()+f-l<rs})}catch(l){if(this._debug(i,"error",l),te(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),jt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await ua(this.storage,this.storageKey);if(c&&this.userStorage){let f=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await os(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:Cc()}else if(c&&!c.user&&!c.user){const f=await ua(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await Hn(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,c)):c.user=Cc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<xc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${xc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Oc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Il;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Gn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),te(d)){const f={data:null,error:d};return Oc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(y){d.push(y)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await os(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=Mg(c);await os(this.storage,this.storageKey,d)}else{const c=Mg(i);await os(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Hn(this.storage,this.storageKey),await Hn(this.storage,this.storageKey+"-code-verifier"),await Hn(this.storage,this.storageKey+"-user"),this.userStorage&&await Hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${rs}ms, refresh threshold is ${$c} ticks`),c<=$c&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof qm)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await as(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?{data:null,error:d}:await ie(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:f}=i;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:v}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return{data:null,error:d};const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?zb(a.webauthn.credential_response):Mb(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:y})})}catch(i){if(te(i))return{data:null,error:i};throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return{data:null,error:d};const f=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:kb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ub(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(te(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?{data:null,error:l}:await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var i,l;const{data:{session:c},error:d}=a;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Nc(c.access_token);let m=null;f.aal&&(m=f.aal);let y=m;((l=(i=c.user.factors)===null||i===void 0?void 0:i.filter(w=>w.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=f.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(m=>m.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+Kp>c)return l;const{data:d,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:_,error:O}=await this.getSession();if(O||!_.session)return{data:null,error:O};l=_.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:y}}=Nc(l);i?.allowExpired||hb(d.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:d,header:c,signature:f},error:null}}const b=gb(c.alg),w=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,f,eb(`${m}.${y}`)))throw new Kc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}}mi.nextInstanceID=0;const Kb=mi;class Jb extends Kb{constructor(a){super(a)}}class Qb{constructor(a,i,l){var c,d,f;this.supabaseUrl=a,this.supabaseKey=i;const m=Hp(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const y=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:Dp,realtime:Up,auth:Object.assign(Object.assign({},kp),{storageKey:y}),global:Rp},b=qp(l??{},v);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=Bp(i,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Gy(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Op(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Dy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,l)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,i;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:l,storage:c,userStorage:d,storageKey:f,flowType:m,lock:y,debug:v},b,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jb({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),b),storageKey:f,autoRefreshToken:a,persistSession:i,detectSessionInUrl:l,storage:c,userStorage:d,flowType:m,lock:y,debug:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new sp(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l?.access_token)})}_handleTokenChanged(a,i,l){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $m=(o,a,i)=>new Qb(o,a,i);function Xb(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const a=o.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}Xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zb="https://jurwhwgtshyubmjaphnt.supabase.co",Ib="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1cndod2d0c2h5dWJtamFwaG50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNzgxNDQsImV4cCI6MjA3NjY1NDE0NH0.JS4p9u3t1AsK-0ZeCGXHFA4jj5TisTY1R5B5KAnj55M",ae=$m(Zb,Ib),Pb=Object.freeze(Object.defineProperty({__proto__:null,supabase:ae},Symbol.toStringTag,{value:"Module"}));function Wb({onLogin:o}){const[a,i]=J.useState(""),[l,c]=J.useState(""),[d,f]=J.useState(!1),[m,y]=J.useState(""),[v,b]=J.useState(!1),w=async j=>{j.preventDefault(),f(!0),y("");try{let _;if(v?_=await ae.auth.signUp({email:a,password:l}):_=await ae.auth.signInWithPassword({email:a,password:l}),_.error)throw _.error;_.data.user&&o(_.data.user)}catch(_){y(_.message)}finally{f(!1)}};return g.jsx("div",{className:"login-page",children:g.jsxs("div",{className:"login-container",children:[g.jsx("h1",{className:"login-title",children:"Speakeasy"}),g.jsx("p",{className:"login-subtitle",children:v?"Create your account":"Sign in to continue"}),m&&g.jsx("div",{className:"login-error",children:m}),g.jsxs("form",{onSubmit:w,className:"login-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{id:"email",type:"email",value:a,onChange:j=>i(j.target.value),required:!0,disabled:d})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{id:"password",type:"password",value:l,onChange:j=>c(j.target.value),required:!0,disabled:d})]}),g.jsx("button",{type:"submit",className:"login-button",disabled:d,children:d?"Loading...":v?"Sign Up":"Sign In"})]}),g.jsx("button",{type:"button",className:"toggle-mode-button",onClick:()=>b(!v),disabled:d,children:v?"Already have an account? Sign in":"Don't have an account? Sign up"})]})})}function Fb({user:o,userRole:a,onLogout:i}){return g.jsxs("header",{className:"header-banner",children:[g.jsx("h1",{className:"header-title",children:"SpeakEasy"}),o&&g.jsxs("div",{className:"header-user-info",children:[g.jsx("span",{className:"user-email",children:o.email}),g.jsxs("span",{className:"user-role",children:["(",a,")"]}),g.jsx("button",{className:"logout-button",onClick:i,children:"Sign Out"})]})]})}const e_=async o=>{try{console.log("=== DEEPGRAM DIRECT API TEST ==="),console.log("Testing direct API call with URL:",o);const a="e2b79a46099b935d786d9254cfa9d5f8d4738a38",i=await fetch("https://api.deepgram.com/v1/listen?model=nova-2&smart_format=true&filler_words=true&punctuate=true&language=en-US",{method:"POST",headers:{Authorization:`Token ${a}`,"Content-Type":"application/json"},body:JSON.stringify({url:o})});if(console.log("Deepgram response status:",i.status),!i.ok){const d=await i.text();throw console.error("Deepgram API error:",i.status,d),new Error(`Deepgram API failed: ${i.status} ${d}`)}const l=await i.json();console.log("Deepgram direct API success!",l);const c=l.results.channels[0].alternatives[0];return{text:c.transcript,duration:l.metadata?.duration||0,language:"en",confidence:c.confidence,words:c.words||[]}}catch(a){throw console.error("=== DEEPGRAM DIRECT API ERROR ==="),console.error("Error:",a.message),a}},t_=async(o,a="temp",i="temp")=>{console.log("=== DEEPGRAM TRANSCRIPTION WITH SUPABASE URL ===");try{console.log("Step 1: Uploading video to Supabase Storage...");const{supabase:l}=await va(async()=>{const{supabase:b}=await Promise.resolve().then(()=>Pb);return{supabase:b}},void 0),d=`temp/${Date.now()}.webm`,{data:f,error:m}=await l.storage.from("speech-videos").upload(d,o,{cacheControl:"3600",upsert:!1,contentType:"video/webm"});if(m)throw console.error("Storage upload error:",m),new Error(`Failed to upload video: ${m.message}`);const{data:y}=l.storage.from("speech-videos").getPublicUrl(d),v=y.publicUrl;return console.log("Step 2: Video uploaded successfully, URL:",v),console.log("Step 3: Transcribing with Deepgram..."),await e_(v)}catch(l){throw console.error("Transcription failed:",l.message),new Error(`Deepgram transcription failed: ${l.message}`)}},n_="https://jurwhwgtshyubmjaphnt.supabase.co",a_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1cndod2d0c2h5dWJtamFwaG50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNzgxNDQsImV4cCI6MjA3NjY1NDE0NH0.JS4p9u3t1AsK-0ZeCGXHFA4jj5TisTY1R5B5KAnj55M",s_=$m(n_,a_),i_=async(o,a)=>{try{console.log("Analyzing speech with AWS Bedrock Agent...",{transcriptLength:o.length,assignment:a});const{data:{session:i}}=await s_.auth.getSession();if(!i)throw new Error("User session not found. Please ensure you are authenticated.");const l="https://jurwhwgtshyubmjaphnt.supabase.co",c=`${l}/functions/v1/bedrock-agent`;console.log("Calling Bedrock Agent function...");const d=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1cndod2d0c2h5dWJtamFwaG50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNzgxNDQsImV4cCI6MjA3NjY1NDE0NH0.JS4p9u3t1AsK-0ZeCGXHFA4jj5TisTY1R5B5KAnj55M"},body:JSON.stringify({transcript:o,assignmentTitle:a})});if(!d.ok){const m=await d.text();throw console.error("Bedrock Agent API error:",d.status,m),new Error(`Bedrock Agent analysis failed: ${d.status} ${m}`)}const f=await d.json();return console.log("Bedrock Agent analysis successful:",{hasContent:!!f.speechContent,confidence:f.confidence,sourcesCount:f.sources?.length||0}),{speechContent:f.speechContent||"Analysis not available",confidence:f.confidence,sources:f.sources,overallScore:Vm(f.speechContent||""),bodyLanguage:"Focus on clear articulation, confident posture, and engaging delivery. Maintain eye contact and use purposeful gestures to enhance your message.",contentOrganization:f.speechContent||"Analysis not available"}}catch(i){return console.error("Bedrock Agent analysis error:",i),l_(o,a)}},l_=(o,a)=>{console.log("Using fallback analysis due to Bedrock Agent error");const i=o.split(" ").length,l=/for example|such as|for instance|specifically/i.test(o),c=/first|second|next|finally|in conclusion|however|furthermore/i.test(o),d=`Content Analysis for "${a}":

**Content Assessment:**
${i>150?" Appropriate speech length with good detail":" Consider expanding with additional supporting details"}
${l?" Good use of examples and specifics":" Add concrete examples to strengthen your points"}
${c?" Effective use of transition words":" Include transition words for smoother flow"}

**Recommendations:**
 Develop a clear thesis or main argument
 Support points with specific evidence or examples  
 Use signposting to guide your audience through your ideas
 Ensure each section connects to your overall message

**Strengths to Build On:**
 Clear communication style
 Focused on the assignment topic
 ${i>100?"Substantial content development":"Concise delivery"}

This analysis provides basic feedback. For more detailed, AI-powered insights, ensure your Bedrock Agent configuration is properly set up.`;return{speechContent:d,confidence:.6,sources:["Basic Analysis - Bedrock Agent Unavailable"],overallScore:Vm(d),bodyLanguage:"Delivery Analysis: Focus on maintaining clear articulation, appropriate volume, and confident posture. Practice using vocal variety to keep your audience engaged.",contentOrganization:"Structure: Organize your speech with a strong opening that captures attention, well-developed main points with supporting evidence, and a memorable conclusion."}},Vm=o=>{const a=o.toLowerCase(),i=["excellent","outstanding","exceptional","superb","masterful","compelling","sophisticated"],l=["good","strong","clear","well-organized","effective","appropriate","solid"],c=["adequate","satisfactory","basic","simple","consider"],d=["poor","weak","unclear","disorganized","needs improvement","lacks","confusing","difficult"];let f=2;i.some(w=>a.includes(w))?f=3:l.some(w=>a.includes(w))?f=2:c.some(w=>a.includes(w))?f=1:d.some(w=>a.includes(w))&&(f=0);const m=/example|specific|detail|evidence|support/i.test(o),y=/organized|structure|flow|transition|clear.*point/i.test(o),v=/clear|understand|coherent|focused/i.test(o),b=/substantial|develop|thorough|comprehensive/i.test(o);return m&&y&&v&&b&&f<3?f=Math.min(3,f+1):(m&&y||v&&b)&&(f=Math.min(3,f+.5)),Math.max(0,Math.min(3,Math.round(f*2)/2))},ga={basic:["um","uh","er","ah","eh","hmm","mhm","mm","mmm","uhm","erm"],discourse:["like","you know","i mean","sort of","kind of","basically","actually","literally","obviously","clearly","definitely","absolutely","totally","really","quite","rather","pretty much","more or less"],hesitation:["let me see","let me think","how do i put this","what i mean is","how should i say","you see","the thing is","what i'm trying to say","if you will","as it were","so to speak","in a sense","in a way"],transition:["so","well","okay","right","now","then","anyway","anyhow","moving on","next","furthermore","moreover","additionally","also"],confirmation:["right?","okay?","you know?","see?","understand?","make sense?","follow me?","with me?","yeah?","no?"]},Vg=[...ga.basic,...ga.discourse,...ga.hesitation,...ga.transition,...ga.confirmation],Yg={basic:1,discourse:.7,hesitation:.8,transition:.5,confirmation:.6},Kg=o=>{const a=o.toLowerCase().trim();for(const[i,l]of Object.entries(ga))if(l.includes(a))return i;return null},Jg=o=>{if(!o||typeof o!="string")return{totalCount:0,weightedScore:0,fillerWordsUsed:[],categoryBreakdown:{},analysis:"No transcript available for filler word analysis."};const i=o.toLowerCase().replace(/[^\w\s']/g," ").replace(/\s+/g," ").trim().split(" "),l=[],c={};Object.keys(ga).forEach(_=>{c[_]=0});for(let _=0;_<i.length;_++){const O=i[_];if(Vg.includes(O)){const x=Kg(O);x&&(l.push({word:O,category:x,position:_,weight:Yg[x]}),c[x]++)}for(let x=2;x<=Math.min(4,i.length-_);x++){const D=i.slice(_,_+x).join(" ");if(Vg.includes(D)){const H=Kg(D);if(H){l.push({word:D,category:H,position:_,weight:Yg[H]}),c[H]++;break}}}}const d=r_(l),f=d.length,m=d.reduce((_,O)=>_+O.weight,0),y={};d.forEach(_=>{y[_.word]=(y[_.word]||0)+1});const v=[...new Set(d.map(_=>_.word))].sort(),b=i.length/150,w=b>0?f/b:0,j=o_(f,w,c,y);return{totalCount:f,weightedScore:Math.round(m*10)/10,fillerWordsUsed:v,categoryBreakdown:c,fillersPerMinute:Math.round(w*10)/10,analysis:j,detections:d}},r_=o=>{const a=o.sort((l,c)=>l.position-c.position),i=[];for(let l=0;l<a.length;l++){const c=a[l];i.some(f=>{const m=c.position+c.word.split(" ").length-1,y=f.position+f.word.split(" ").length-1;return c.position<=y&&m>=f.position})||i.push(c)}return i},o_=(o,a,i,l)=>{if(o===0)return"Excellent! No filler words detected. Your speech was clear and confident.";const c=Math.max(0,20-o);let d=`Detected ${o} filler word${o>1?"s":""} in your speech.`;if(l&&Object.keys(l).length>0){const f=Object.keys(l).map(m=>`"${m}" (${l[m]}x)`).join(", ");d+=` Words used: ${f}.`}return d+=` Score: ${c}/20.`,o<=2?d+=" Good job! Just a few minor fillers to work on.":o<=5?d+=" Try to reduce filler words for clearer communication.":d+=" Focus on pausing instead of using filler words to improve your delivery.",d},c_=async(o,a=4)=>new Promise((i,l)=>{const c=document.createElement("video"),d=document.createElement("canvas"),f=d.getContext("2d"),m=[];c.src=URL.createObjectURL(o),c.muted=!0,c.playsInline=!0,c.onloadedmetadata=async()=>{try{d.width=c.videoWidth,d.height=c.videoHeight;const y=c.duration;console.log("Video metadata loaded:",{width:c.videoWidth,height:c.videoHeight,duration:y,frameCount:a});const b=Array.from({length:a},(w,j)=>(j+1)/(a+1)).map(w=>w*y);console.log("Extracting frames at timestamps:",b);for(let w=0;w<b.length;w++){const j=b[w];await u_(c,j),f.drawImage(c,0,0,d.width,d.height);const _=d.toDataURL("image/jpeg",.8);m.push(_),console.log(`Extracted frame ${w+1}/${a} at ${j.toFixed(2)}s`)}URL.revokeObjectURL(c.src),console.log(`Successfully extracted ${m.length} frames`),i(m)}catch(y){URL.revokeObjectURL(c.src),l(new Error(`Frame extraction failed: ${y.message}`))}},c.onerror=()=>{URL.revokeObjectURL(c.src),l(new Error("Failed to load video for frame extraction"))},setTimeout(()=>{m.length===0&&(URL.revokeObjectURL(c.src),l(new Error("Frame extraction timed out after 30 seconds")))},3e4)});function u_(o,a){return new Promise(i=>{o.currentTime=a,o.onseeked=()=>i()})}const d_=async o=>{try{console.log(" Analyzing body language with Gemini (direct API)...",{frameCount:o.length,frameSizes:o.map(y=>`${(y.length/1024).toFixed(1)}KB`)});const a="AIzaSyCcuNlq4zyCbXyu38zpQSSzj3t_OZREoBg",i=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${a}`,c=[{text:`You are an expert public speaking coach analyzing student presentations. Based on the video frames provided, evaluate the student's body language and non-verbal communication. Focus on:

1. Eye contact and gaze direction
2. Posture and stance
3. Hand gestures and their effectiveness
4. Facial expressions and engagement
5. Overall presence and confidence

Provide constructive, actionable feedback in 2-3 sentences that helps students improve their presentation skills. Be encouraging but specific about areas for improvement.`}];o.forEach(y=>{const v=y.replace(/^data:image\/jpeg;base64,/,"");c.push({inlineData:{mimeType:"image/jpeg",data:v}})}),c.push({text:"Based on these frames from the student's presentation, provide your body language feedback:"}),console.log(" Calling Gemini API directly...");const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:c}],generationConfig:{temperature:.4,maxOutputTokens:300,topP:.9}})});if(console.log(" Gemini API response status:",d.status),!d.ok){const y=await d.text();throw console.error(" Gemini API error:",d.status,y),new Error(`Gemini API failed: ${d.status} ${y}`)}const f=await d.json();console.log(" Gemini response data:",f);const m=f.candidates?.[0]?.content?.parts?.[0]?.text;if(!m)throw console.warn(" No feedback text in Gemini response"),new Error("No feedback in Gemini response");return console.log(" Gemini analysis successful!",{feedbackLength:m.length,feedbackPreview:m.substring(0,100)}),{bodyLanguageFeedback:m.trim(),confidence:.9}}catch(a){return console.error(" Gemini body language analysis error:",a.message||a),console.error("Full error:",a),{bodyLanguageFeedback:"Your presentation delivery shows engagement with your topic. Continue practicing maintaining eye contact and using confident facial expressions to connect with your audience.",confidence:.3}}},Dc=async o=>{const{data:a,error:i}=await ae.from("assignments").select(`
      *,
      classes!inner(name)
    `).eq("classes.name",o).order("due_date",{ascending:!0});return i?(console.error("Error fetching assignments:",i),[]):a.map(l=>({id:l.id,title:l.title,description:l.description,status:l.status||"",dueDate:new Date(l.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),rawDueDate:l.due_date}))},f_=async o=>{const{data:a,error:i}=await ae.from("students").select(`
      *,
      class_enrollments!inner(
        classes!inner(name)
      )
    `).eq("class_enrollments.classes.name",o).order("name");return i?(console.error("Error fetching students:",i),[]):await Promise.all(a.map(async c=>{const d=await T_(c.id);return{id:c.id,name:c.name,email:c.email,overallGrade:d.letterGrade,totalPoints:`${d.totalGrade}/100`,submissionCount:d.submissionCount,lastActivity:""}}))},h_=async o=>{const{data:a,error:i}=await ae.from("grades").select(`
      *,
      submissions!inner(
        student_id,
        assignments(id, title)
      )
    `).eq("submissions.student_id",o);return i?(console.error("Error fetching student grades:",i),[]):a.map(l=>({assignmentId:l.submissions.assignments.id,assignmentName:l.submissions.assignments.title,grade:Pl(l.total_score),points:l.total_score||0,status:"Graded"}))},g_=async o=>{const{data:a}=await ae.from("assignments").select("class_id").eq("id",o).single();if(!a)return[];const{data:i}=await ae.from("students").select(`
      id,
      name,
      email,
      class_enrollments!inner(class_id)
    `).eq("class_enrollments.class_id",a.class_id),{data:l}=await ae.from("submissions").select(`
      student_id,
      status,
      grades(total_score)
    `).eq("assignment_id",o);return i.map(c=>{const d=l?.find(m=>m.student_id===c.id),f=d?.grades?.[0];return{studentId:c.id,name:c.name,email:c.email,status:d?d.status==="graded"?"Finished":"In Progress":"Not Started",grade:f?Pl(f.total_score):"N/A",points:f?`${f.total_score}/100`:"0/100"}})},m_=async(o,a=null)=>{let i=ae.from("feedback").select(`
      *,
      grades!inner(
        submissions!inner(assignment_id, student_id, transcript, submitted_at)
      )
    `).eq("grades.submissions.assignment_id",o);a&&(i=i.eq("grades.submissions.student_id",a));const{data:l,error:c}=await i.limit(1);if(c||!l.length)return{fillerWords:"No feedback available yet.",speechContent:"No feedback available yet.",bodyLanguage:"No feedback available yet.",transcript:"No transcript available yet.",submittedAt:null};const d=l[0],f=d.grades.submissions;return{fillerWords:d.filler_words_feedback||"No feedback available yet.",speechContent:d.speech_content_feedback||"No feedback available yet.",bodyLanguage:d.body_language_feedback||"No feedback available yet.",transcript:f.transcript||"No transcript available yet.",submittedAt:f.submitted_at}},v_=async(o,a)=>{try{const{data:i,error:l}=await ae.from("submissions").select(`
        id,
        video_url,
        transcript,
        status,
        submitted_at,
        students(id, name, email),
        assignments(id, title, description),
        grades(
          id,
          total_score,
          speech_content_score,
          content_score_max,
          filler_word_count,
          filler_words_used,
          filler_words_per_minute,
          filler_category_breakdown,
          filler_word_score,
          filler_word_counts,
          graded_at,
          feedback(
            filler_words_feedback,
            speech_content_feedback,
            body_language_feedback
          )
        )
      `).eq("assignment_id",o).eq("student_id",a).single();if(l||!i)return null;const c=i,d=c.grades?.[0],f=d?.feedback?.[0];return{student:{id:c.students.id,name:c.students.name,email:c.students.email},assignment:{id:c.assignments.id,title:c.assignments.title,description:c.assignments.description},submission:{id:c.id,videoUrl:c.video_url,transcript:c.transcript,status:c.status,submittedAt:c.submitted_at},grade:d?{totalScore:d.total_score,speechContentScore:d.speech_content_score,contentScoreMax:d.content_score_max||3,fillerWordCount:d.filler_word_count,fillerWordsUsed:d.filler_words_used||[],fillersPerMinute:d.filler_words_per_minute||0,categoryBreakdown:d.filler_category_breakdown||{},fillerWordScore:d.filler_word_score||Math.max(0,20-(d.filler_word_count||0)),fillerWordCounts:d.filler_word_counts||{},gradedAt:d.graded_at,letterGrade:Pl(d.total_score)}:null,feedback:f?{fillerWords:f.filler_words_feedback,speechContent:f.speech_content_feedback,bodyLanguage:f.body_language_feedback}:null}}catch(i){return console.error("Error fetching detailed student feedback:",i),null}},Pl=o=>o>=97?"A+":o>=93?"A":o>=90?"A-":o>=87?"B+":o>=83?"B":o>=80?"B-":o>=77?"C+":o>=73?"C":o>=70?"C-":o>=67?"D+":o>=63?"D":o>=60?"D-":"F",y_=async o=>{const{data:a}=await ae.from("assignments").select("*").eq("id",o).single();return a?{id:a.id,title:a.title,description:a.description,status:a.status||"",dueDate:new Date(a.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),rawDueDate:a.due_date}:null},p_=async o=>await h_(o),b_=async(o,a)=>{const{data:i}=await ae.from("submissions").select("status").eq("student_id",o).eq("assignment_id",a).single();if(!i)return"Not Started";switch(i.status){case"graded":return"In Progress";case"processing":return"In Progress";default:return"Not Started"}},__=async(o,a,i)=>{try{const l=Date.now(),c=`${a}/${i}/${l}.webm`,{data:d,error:f}=await ae.storage.from("speech-videos").upload(c,o,{cacheControl:"3600",upsert:!1,contentType:"video/webm"});if(f)throw console.error("Storage upload error:",f),f;const{data:m}=ae.storage.from("speech-videos").getPublicUrl(c);return{path:d.path,publicUrl:m.publicUrl}}catch(l){throw console.error("Error uploading video:",l),l}},w_=async(o,a)=>{try{console.log("Starting AI analysis pipeline..."),console.log("Step 1: Transcribing audio...");const i=await t_(o);console.log("Step 2: Analyzing filler words...");const l=Jg(i.text);console.log("Step 3: Analyzing speech content with Bedrock Agent...");const c=await i_(i.text,a);console.log("Step 4: Analyzing body language with Gemini...");let d="Body language analysis will be available soon.";try{const m=await c_(o,4);console.log("Extracted frames for Gemini analysis:",m.length);const y=await d_(m);console.log("Gemini analysis result:",y),d=y.bodyLanguageFeedback,console.log("Body language feedback set to:",d)}catch(m){console.error("Body language analysis error:",m)}const f={...c,fillerWords:l.analysis,fillerWordData:l,bodyLanguage:d};return console.log("Enhanced analysis with Gemini body language:",f.bodyLanguage),{transcript:i.text,duration:i.duration,language:i.language,analysis:{...f,overallScore:f.overallScore||75},fillerWordAnalysis:l,aiProcessed:c.speechContent!=="We are fixing this."}}catch(i){console.error("AI processing failed:",i);const l=Jg("");return{transcript:"AI transcription temporarily unavailable. Please try again later.",duration:null,language:"en",analysis:{speechContent:"AI analysis temporarily unavailable. Your submission has been recorded.",fillerWords:"Filler word analysis will be available when AI processing is restored.",bodyLanguage:"Content analysis will be available when AI processing is restored.",overallScore:75},fillerWordAnalysis:l,aiProcessed:!1,error:i.message}}},S_=async o=>{try{const{data:a,error:i}=await ae.from("classes").select("id").eq("name",o.className).single();if(i||!a)throw new Error("Class not found");const{data:l,error:c}=await ae.from("assignments").insert([{class_id:a.id,title:o.title,description:o.description,max_duration_seconds:o.maxDuration||60,due_date:o.dueDate}]).select().single();if(c)throw c;return l}catch(a){throw console.error("Error creating assignment:",a),a}},E_=async o=>{try{console.log("Deleting assignment:",o);const{data:a,error:i}=await ae.from("submissions").select("id").eq("assignment_id",o);if(i)throw console.error("Error fetching submissions:",i),i;if(console.log("Found submissions:",a?.length||0),a&&a.length>0){const c=a.map(y=>y.id),{data:d,error:f}=await ae.from("grades").select("id").in("submission_id",c);if(f)throw console.error("Error fetching grades:",f),f;if(console.log("Found grades:",d?.length||0),d&&d.length>0){const y=d.map(w=>w.id),{error:v}=await ae.from("feedback").delete().in("grade_id",y);if(v)throw console.error("Error deleting feedback:",v),v;console.log("Feedback deleted");const{error:b}=await ae.from("grades").delete().in("submission_id",c);if(b)throw console.error("Error deleting grades:",b),b;console.log("Grades deleted")}const{error:m}=await ae.from("submissions").delete().eq("assignment_id",o);if(m)throw console.error("Error deleting submissions:",m),m;console.log("Submissions deleted")}const{error:l}=await ae.from("assignments").delete().eq("id",o);if(l)throw console.error("Error deleting assignment:",l),l;return console.log("Assignment deleted successfully"),{success:!0}}catch(a){throw console.error("Error deleting assignment:",a),a}},j_=async(o,a=null,i="Speech Assignment")=>{try{const{data:l,error:c}=await ae.from("submissions").select("id").eq("assignment_id",o.assignmentId).eq("student_id",o.studentId).single();let d;if(l){const{data:le,error:ke}=await ae.from("submissions").update({video_url:o.videoUrl,transcript:o.transcript,status:"graded",submitted_at:new Date().toISOString()}).eq("id",l.id).select().single();if(ke)throw ke;d=le}else{const{data:le,error:ke}=await ae.from("submissions").insert([{assignment_id:o.assignmentId,student_id:o.studentId,video_url:o.videoUrl,transcript:o.transcript,status:"graded"}]).select().single();if(ke)throw ke;d=le}let f=null,m=80;a?(console.log("Processing video with AI..."),f=await w_(a,i),m=f.analysis.overallScore,d.id&&f.transcript&&f.transcript!==o.transcript&&await ae.from("submissions").update({transcript:f.transcript}).eq("id",d.id)):m=Math.floor(Math.random()*31)+70;const y=f?.fillerWordAnalysis?.totalCount||Math.floor(Math.random()*10)+1,v=f?.fillerWordAnalysis?.fillerWordsUsed||[],b=f?.fillerWordAnalysis?.fillersPerMinute||0,w=f?.fillerWordAnalysis?.categoryBreakdown||{},j={};f?.fillerWordAnalysis?.detections?f.fillerWordAnalysis.detections.forEach(le=>{j[le.word]=(j[le.word]||0)+1}):v.length>0&&v.forEach(le=>{j[le]=Math.ceil(y/v.length)});const _=Math.max(0,20-y),O=f?.analysis?.overallScore||2,x=O/3*100,D=_/20*100,H=Math.round((x+D)/2),{data:L,error:G}=await ae.from("grades").select("id").eq("submission_id",d.id).single();let Q;if(L){const{data:le,error:ke}=await ae.from("grades").update({total_score:H,speech_content_score:O,filler_word_count:y,filler_words_used:v,filler_words_per_minute:b,filler_category_breakdown:w,filler_word_score:_,filler_word_counts:j,content_score_max:3,graded_at:new Date().toISOString()}).eq("id",L.id).select().single();if(ke)throw ke;Q=le}else{const{data:le,error:ke}=await ae.from("grades").insert([{submission_id:d.id,total_score:H,speech_content_score:O,filler_word_count:y,filler_words_used:v,filler_words_per_minute:b,filler_category_breakdown:w,filler_word_score:_,filler_word_counts:j,content_score_max:3}]).select().single();if(ke)throw ke;Q=le}let V;const $=()=>{if(y===0)return"Excellent! No filler words detected. Your speech was clear and confident.";let le=`Detected ${y} filler word${y>1?"s":""} in your speech.`;if(v&&v.length>0){const ke=v.map(at=>{const Qe=j[at]||1;return`"${at}" (${Qe}x)`}).join(", ");le+=` Words used: ${ke}.`}return le+=` Score: ${_}/20.`,y<=2?le+=" Good job! Just a few minor fillers to work on.":y<=5?le+=" Try to reduce filler words for clearer communication.":le+=" Focus on pausing instead of using filler words to improve your delivery.",le};f&&f.analysis?V={filler_words:f.analysis.fillerWords||$(),speech_content:f.analysis.speechContent||"Speech content analysis temporarily unavailable.",body_language:f.analysis.bodyLanguage||"Delivery analysis will be available when AI processing is restored."}:V={filler_words:$(),speech_content:"Speech content analysis temporarily unavailable. Please try submitting again.",body_language:"Delivery analysis will be available when AI processing is restored."};const{data:X,error:we}=await ae.from("feedback").select("id").eq("grade_id",Q.id).single();return X?await ae.from("feedback").update({filler_words_feedback:V.filler_words,speech_content_feedback:V.speech_content,body_language_feedback:V.body_language,created_at:new Date().toISOString()}).eq("id",X.id):await ae.from("feedback").insert([{grade_id:Q.id,filler_words_feedback:V.filler_words,speech_content_feedback:V.speech_content,body_language_feedback:V.body_language}]),{submission:d,grade:Q}}catch(l){throw console.error("Error creating submission:",l),l}},A_=async(o,a)=>{try{const{data:i,error:l}=await ae.from("assignments").select(`
        id,
        title,
        description,
        due_date,
        max_duration_seconds,
        classes!inner(
          id,
          name
        )
      `).eq("class_id",a).order("due_date",{ascending:!0});if(l)throw l;return await Promise.all(i.map(async d=>{const{data:f}=await ae.from("submissions").select("status").eq("assignment_id",d.id).eq("student_id",o).single();return{id:d.id,title:d.title,description:d.description,className:d.classes.name,dueDate:d.due_date?new Date(d.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null,rawDueDate:d.due_date,status:f?f.status==="completed"?"completed":"in_progress":"not_started",maxDuration:d.max_duration_seconds?Math.floor(d.max_duration_seconds/60):null}}))}catch(i){return console.error("Error fetching student assignments for class:",i),[]}},T_=async o=>{try{const{data:a,error:i}=await ae.from("grades").select(`
        total_score,
        submissions!inner(student_id)
      `).eq("submissions.student_id",o);if(i)throw i;if(!a||a.length===0)return{totalGrade:0,letterGrade:"N/A",submissionCount:0};const l=a.reduce((d,f)=>d+(f.total_score||0),0),c=Math.round(l/a.length);return{totalGrade:c,letterGrade:Pl(c),submissionCount:a.length}}catch(a){return console.error("Error calculating student total grade:",a),{totalGrade:0,letterGrade:"N/A",submissionCount:0}}},x_=async(o,a)=>{try{const{data:i,error:l}=await ae.from("teachers").select("id").eq("email",a).single();if(l||!i)throw new Error("Teacher not found");const{data:c,error:d}=await ae.from("classes").insert([{name:o.name,description:o.description||"",teacher_id:i.id}]).select("id, name, description, class_code, teacher_id, created_at").single();if(d)throw d;return c}catch(i){throw console.error("Error creating class:",i),i}},O_=async(o,a)=>{try{const{data:i,error:l}=await ae.from("students").select("id, name").eq("email",a).single();if(l||!i)throw new Error("Student not found");const{data:c,error:d}=await ae.from("classes").select("id, name, teacher_id").eq("class_code",o.toUpperCase()).single();if(d||!c)throw new Error("Class not found with that code");const{data:f,error:m}=await ae.from("class_enrollments").select("id").eq("student_id",i.id).eq("class_id",c.id).single();if(f)throw new Error("Student is already enrolled in this class");const{data:y,error:v}=await ae.from("class_enrollments").insert([{student_id:i.id,class_id:c.id}]).select().single();if(v)throw v;return{success:!0,className:c.name,enrollment:y}}catch(i){throw console.error("Error joining class:",i),i}},N_=async o=>{try{const{data:a,error:i}=await ae.from("teachers").select("id").eq("email",o).single();if(i||!a)throw new Error("Teacher not found");const{data:l,error:c}=await ae.from("classes").select(`
        id,
        name,
        description,
        class_code,
        created_at,
        class_enrollments(count)
      `).eq("teacher_id",a.id).order("created_at",{ascending:!1});if(c)throw c;return l.map(d=>({id:d.id,name:d.name,description:d.description,classCode:d.class_code,createdAt:d.created_at,studentCount:d.class_enrollments?.[0]?.count||0}))}catch(a){throw console.error("Error fetching classes with codes:",a),a}},C_=async o=>{try{const{data:a,error:i}=await ae.from("students").select("id").eq("email",o).single();if(i||!a)throw new Error("Student not found");const{data:l,error:c}=await ae.from("class_enrollments").select(`
        enrolled_at,
        classes(
          id,
          name,
          description,
          class_code,
          teachers(name, email)
        )
      `).eq("student_id",a.id).order("enrolled_at",{ascending:!1});if(c)throw c;return l.map(d=>({id:d.classes.id,name:d.classes.name,description:d.classes.description,classCode:d.classes.class_code,teacherName:d.classes.teachers?.name,teacherEmail:d.classes.teachers?.email,enrolledAt:d.enrolled_at}))}catch(a){throw console.error("Error fetching enrolled classes:",a),a}};function R_({onCreateClass:o,onCancel:a}){const[i,l]=J.useState({name:"",description:""}),[c,d]=J.useState(!1),[f,m]=J.useState(""),y=b=>{const{name:w,value:j}=b.target;l(_=>({..._,[w]:j}))},v=async b=>{if(b.preventDefault(),m(""),!i.name.trim()){m("Class name is required");return}d(!0);try{await o(i)}catch(w){console.error("Error creating class:",w),m("Failed to create class. Please try again.")}finally{d(!1)}};return g.jsx("div",{className:"modal-overlay",onClick:a,children:g.jsxs("div",{className:"modal-content class-creation-modal",onClick:b=>b.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h2",{children:"Create New Class"}),g.jsx("button",{className:"close-modal-btn",onClick:a,children:""})]}),g.jsxs("form",{onSubmit:v,className:"class-creation-form",children:[f&&g.jsx("div",{className:"error-message",children:f}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"className",children:"Class Name *"}),g.jsx("input",{type:"text",id:"className",name:"name",value:i.name,onChange:y,placeholder:"e.g., Public Speaking 101",required:!0,disabled:c})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"classDescription",children:"Description"}),g.jsx("textarea",{id:"classDescription",name:"description",value:i.description,onChange:y,placeholder:"Brief description of the class (optional)",rows:"3",disabled:c})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"button",onClick:a,className:"btn-secondary",disabled:c,children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Creating...":"Create Class"})]})]})]})})}const D_=({user:o,onClassSelect:a})=>{const[i,l]=J.useState([]),[c,d]=J.useState(!0),[f,m]=J.useState(""),[y,v]=J.useState(!1);J.useEffect(()=>{b()},[o?.id]);const b=async()=>{try{d(!0);const x=await N_(o.email);l(x||[])}catch(x){m("Failed to load classes"),console.error(x)}finally{d(!1)}},w=async x=>{try{await x_(x,o.email),v(!1),await b()}catch(D){throw console.error("Error creating class:",D),D}},j=async x=>{try{await navigator.clipboard.writeText(x),alert(`Class code ${x} copied to clipboard!`)}catch(D){console.error("Failed to copy class code:",D),prompt("Class code (copy with Ctrl+C):",x)}},_=x=>{const D=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #30cfd0 0%, #330867 100%)"];return D[x%D.length]},O=x=>{const D=[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),g.jsx("path",{d:"M2 17l10 5 10-5"}),g.jsx("path",{d:"M2 12l10 5 10-5"})]}),g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M12 16v-4"}),g.jsx("path",{d:"M12 8h.01"})]}),g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),g.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),g.jsx("polyline",{points:"10 9 9 9 8 9"})]})];return D[x%D.length]};return c?g.jsxs("div",{className:"teacher-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:"My Classes"})}),g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Loading your classes..."})]})]}):f?g.jsxs("div",{className:"teacher-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:"My Classes"})}),g.jsxs("div",{className:"error-container",children:[g.jsxs("svg",{className:"error-icon-large",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),g.jsx("p",{children:f}),g.jsx("button",{className:"btn btn-primary",onClick:b,children:"Try Again"})]})]}):g.jsxs("div",{className:"teacher-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsxs("div",{className:"header-content",children:[g.jsxs("div",{className:"header-text",children:[g.jsx("h1",{children:"My Classes"}),g.jsx("p",{className:"header-subtitle",children:"Manage your classes and assignments"})]}),g.jsxs("div",{className:"header-actions",children:[g.jsx("div",{className:"header-stats",children:g.jsxs("div",{className:"stat-card",children:[g.jsx("span",{className:"stat-value",children:i.length}),g.jsx("span",{className:"stat-label",children:"Total Classes"})]})}),g.jsxs("button",{className:"create-class-btn",onClick:()=>v(!0),children:[g.jsx("svg",{className:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M12 5v14M5 12h14"})}),"Create Class"]})]})]})}),g.jsx("div",{className:"container",children:i.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("svg",{className:"empty-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),g.jsx("h2",{children:"No Classes Yet"}),g.jsx("p",{children:"Classes assigned to you will appear here"})]}):g.jsx("div",{className:"classes-grid",children:i.map((x,D)=>g.jsxs("div",{className:"class-card",onClick:()=>a(x),style:{"--card-delay":`${D*.1}s`},children:[g.jsx("div",{className:"class-card-background",style:{background:_(D)}}),g.jsxs("div",{className:"class-card-content",children:[g.jsx("div",{className:"class-icon",children:O(D)}),g.jsx("h3",{className:"class-name",children:x.name}),g.jsxs("div",{className:"class-code-section",children:[g.jsx("span",{className:"class-code-label",children:"Class Code:"}),g.jsxs("button",{className:"class-code-display",onClick:H=>{H.stopPropagation(),j(x.classCode)},title:"Click to copy class code",children:[x.classCode,g.jsxs("svg",{className:"copy-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),g.jsx("path",{d:"m5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})]})]}),g.jsx("div",{className:"class-meta",children:g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),x.studentCount||0," Students"]})}),g.jsxs("button",{className:"enter-class-btn",children:["Enter Class",g.jsx("svg",{className:"btn-arrow",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]},x.id))})}),y&&g.jsx(R_,{onCreateClass:w,onCancel:()=>v(!1)})]})},k_=({user:o,selectedClass:a,onAssignmentSelect:i,onBackToClasses:l})=>{const[c,d]=J.useState([]),[f,m]=J.useState(!0),[y,v]=J.useState(""),[b,w]=J.useState("all");J.useEffect(()=>{a&&j()},[o.id,a?.id]);const j=async()=>{try{m(!0);const L=await A_(o.id,a.id);d(L||[])}catch(L){v("Failed to load assignments"),console.error(L)}finally{m(!1)}},_=L=>{if(L.status==="completed")return"completed";if(L.status==="in_progress"||!L.rawDueDate)return"pending";const G=new Date,Q=new Date(L.rawDueDate);return G>Q?"overdue":"pending"},O=L=>{switch(L){case"completed":return g.jsxs("span",{className:"badge badge-success",children:[g.jsx("svg",{className:"badge-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]});case"overdue":return g.jsxs("span",{className:"badge badge-danger",children:[g.jsx("svg",{className:"badge-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Overdue"]});default:return g.jsxs("span",{className:"badge badge-warning",children:[g.jsx("svg",{className:"badge-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Pending"]})}},x=L=>{if(!L)return null;const G=new Date,V=new Date(L)-G,$=Math.ceil(V/(1e3*60*60*24));return $<0?`${Math.abs($)} days overdue`:$===0?"Due today":$===1?"Due tomorrow":`Due in ${$} days`},D=c.filter(L=>{const G=_(L);return b==="all"?!0:G===b}),H={total:c.length,pending:c.filter(L=>_(L)==="pending").length,completed:c.filter(L=>_(L)==="completed").length,overdue:c.filter(L=>_(L)==="overdue").length};return f?g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:a?.name||"Assignments"})}),g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Loading your assignments..."})]})]}):y?g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:a?.name||"Assignments"})}),g.jsxs("div",{className:"error-container",children:[g.jsxs("svg",{className:"error-icon-large",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),g.jsx("p",{children:y}),g.jsx("button",{className:"btn btn-primary",onClick:j,children:"Try Again"})]})]}):g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsxs("div",{className:"header-content",children:[g.jsxs("div",{className:"header-text",children:[g.jsx("h1",{children:a?.name||"Assignments"}),g.jsxs("p",{className:"header-subtitle",children:[a?.description||"Practice your speech and get AI feedback",a?.teacherName&&`  Taught by ${a.teacherName}`]})]}),g.jsxs("div",{className:"header-actions",children:[g.jsxs("div",{className:"header-stats",children:[g.jsxs("div",{className:"stat-card",children:[g.jsx("span",{className:"stat-value",children:H.total}),g.jsx("span",{className:"stat-label",children:"Total"})]}),g.jsxs("div",{className:"stat-card stat-pending",children:[g.jsx("span",{className:"stat-value",children:H.pending}),g.jsx("span",{className:"stat-label",children:"Pending"})]}),g.jsxs("div",{className:"stat-card stat-completed",children:[g.jsx("span",{className:"stat-value",children:H.completed}),g.jsx("span",{className:"stat-label",children:"Completed"})]}),H.overdue>0&&g.jsxs("div",{className:"stat-card stat-overdue",children:[g.jsx("span",{className:"stat-value",children:H.overdue}),g.jsx("span",{className:"stat-label",children:"Overdue"})]})]}),g.jsxs("button",{className:"back-to-classes-btn",onClick:l,children:[g.jsxs("svg",{className:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M19 12H5"}),g.jsx("path",{d:"m12 19-7-7 7-7"})]}),"Back to Classes"]})]})]})}),g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"filter-tabs",children:[g.jsxs("button",{className:`filter-tab ${b==="all"?"active":""}`,onClick:()=>w("all"),children:["All (",H.total,")"]}),g.jsxs("button",{className:`filter-tab ${b==="pending"?"active":""}`,onClick:()=>w("pending"),children:["Pending (",H.pending,")"]}),g.jsxs("button",{className:`filter-tab ${b==="completed"?"active":""}`,onClick:()=>w("completed"),children:["Completed (",H.completed,")"]}),H.overdue>0&&g.jsxs("button",{className:`filter-tab ${b==="overdue"?"active":""}`,onClick:()=>w("overdue"),children:["Overdue (",H.overdue,")"]})]}),D.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("svg",{className:"empty-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g.jsxs("h2",{children:["No ",b!=="all"?b:""," Assignments"]}),g.jsx("p",{children:b==="all"?"Assignments from your teacher will appear here":`You have no ${b} assignments`})]}):g.jsx("div",{className:"assignments-list",children:D.map((L,G)=>{const Q=_(L);return g.jsxs("div",{className:`assignment-card status-${Q}`,onClick:()=>i(L),style:{"--card-delay":`${G*.05}s`},children:[g.jsxs("div",{className:"assignment-card-left",children:[g.jsx("div",{className:"assignment-icon",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})})}),g.jsxs("div",{className:"assignment-info",children:[g.jsx("h3",{className:"assignment-title",children:L.title}),g.jsxs("div",{className:"assignment-meta",children:[g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),L.className]}),L.maxDuration&&g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),L.maxDuration," min"]}),L.rawDueDate&&g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),x(L.rawDueDate)]})]})]})]}),g.jsxs("div",{className:"assignment-card-right",children:[O(Q),g.jsx("svg",{className:"assignment-arrow",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]},L.id)})})]})]})};function U_({onJoinClass:o,onCancel:a}){const[i,l]=J.useState(""),[c,d]=J.useState(!1),[f,m]=J.useState(""),[y,v]=J.useState(""),b=async j=>{j.preventDefault(),m(""),v("");const _=i.trim().toUpperCase();if(!_){m("Please enter a class code");return}if(_.length!==8){m("Class code must be 8 characters");return}d(!0);try{const O=await o(_);O.success&&(v(`Successfully joined class: ${O.className}`),setTimeout(()=>{a()},2e3))}catch(O){console.error("Error joining class:",O),O.message.includes("already enrolled")?m("You are already enrolled in this class"):O.message.includes("not found")?m("Invalid class code. Please check and try again."):m("Failed to join class. Please try again.")}finally{d(!1)}},w=j=>{const _=j.target.value.toUpperCase().slice(0,8);l(_)};return g.jsx("div",{className:"modal-overlay",onClick:a,children:g.jsxs("div",{className:"modal-content join-class-modal",onClick:j=>j.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h2",{children:"Join Class"}),g.jsx("button",{className:"close-modal-btn",onClick:a,children:""})]}),g.jsxs("form",{onSubmit:b,className:"join-class-form",children:[f&&g.jsx("div",{className:"error-message",children:f}),y&&g.jsx("div",{className:"success-message",children:y}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"classCode",children:"Class Code"}),g.jsx("input",{type:"text",id:"classCode",value:i,onChange:w,placeholder:"Enter 8-character class code",maxLength:"8",required:!0,disabled:c,style:{fontFamily:"monospace",fontSize:"1.2rem",textAlign:"center",letterSpacing:"2px"}}),g.jsx("p",{className:"input-help",children:"Ask your teacher for the 8-character class code"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"button",onClick:a,className:"btn-secondary",disabled:c,children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-primary",disabled:c||i.length!==8,children:c?"Joining...":"Join Class"})]})]})]})})}const z_=({user:o,onClassSelect:a})=>{const[i,l]=J.useState([]),[c,d]=J.useState(!0),[f,m]=J.useState(""),[y,v]=J.useState(!1);J.useEffect(()=>{b()},[o.email]);const b=async()=>{try{d(!0);const O=await C_(o.email);l(O||[])}catch(O){m("Failed to load classes"),console.error(O)}finally{d(!1)}},w=async O=>{try{const x=await O_(O,o.email);return v(!1),await b(),x}catch(x){throw console.error("Error joining class:",x),x}},j=O=>{const x=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #30cfd0 0%, #330867 100%)"];return x[O%x.length]},_=O=>{const x=[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),g.jsx("path",{d:"M2 17l10 5 10-5"}),g.jsx("path",{d:"M2 12l10 5 10-5"})]}),g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M12 16v-4"}),g.jsx("path",{d:"M12 8h.01"})]}),g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g.jsx("polyline",{points:"14 2 14 8 20 8"}),g.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),g.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),g.jsx("polyline",{points:"10 9 9 9 8 9"})]})];return x[O%x.length]};return c?g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:"My Classes"})}),g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Loading your classes..."})]})]}):f?g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsx("h1",{children:"My Classes"})}),g.jsxs("div",{className:"error-container",children:[g.jsxs("svg",{className:"error-icon-large",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),g.jsx("p",{children:f}),g.jsx("button",{className:"btn btn-primary",onClick:b,children:"Try Again"})]})]}):g.jsxs("div",{className:"student-dashboard",children:[g.jsx("div",{className:"dashboard-header",children:g.jsxs("div",{className:"header-content",children:[g.jsxs("div",{className:"header-text",children:[g.jsx("h1",{children:"My Classes"}),g.jsx("p",{className:"header-subtitle",children:"Select a class to view assignments"})]}),g.jsxs("div",{className:"header-actions",children:[g.jsx("div",{className:"header-stats",children:g.jsxs("div",{className:"stat-card",children:[g.jsx("span",{className:"stat-value",children:i.length}),g.jsx("span",{className:"stat-label",children:"Enrolled Classes"})]})}),g.jsxs("button",{className:"join-class-btn",onClick:()=>v(!0),children:[g.jsxs("svg",{className:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"m22 2-5 5"}),g.jsx("path",{d:"m17 2 5 5"})]}),"Join Class"]})]})]})}),g.jsx("div",{className:"container",children:i.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("svg",{className:"empty-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),g.jsx("h2",{children:"No Classes Yet"}),g.jsx("p",{children:"Join a class using the class code from your teacher"})]}):g.jsx("div",{className:"classes-grid",children:i.map((O,x)=>g.jsxs("div",{className:"class-card",onClick:()=>a(O),style:{"--card-delay":`${x*.1}s`},children:[g.jsx("div",{className:"class-card-background",style:{background:j(x)}}),g.jsxs("div",{className:"class-card-content",children:[g.jsx("div",{className:"class-icon",children:_(x)}),g.jsx("h3",{className:"class-name",children:O.name}),O.description&&g.jsx("p",{className:"class-description",children:O.description}),g.jsxs("div",{className:"class-meta",children:[g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),O.teacherName]}),g.jsxs("span",{className:"meta-item",children:[g.jsx("svg",{className:"meta-icon",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Joined ",new Date(O.enrolledAt).toLocaleDateString()]})]}),g.jsxs("button",{className:"enter-class-btn",children:["View Assignments",g.jsx("svg",{className:"btn-arrow",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]},O.id))})}),y&&g.jsx(U_,{onJoinClass:w,onCancel:()=>v(!1)})]})};function M_({isOpen:o,onClose:a,onSubmit:i}){const[l,c]=J.useState({title:"",description:"",startDate:"",dueDate:""}),d=y=>{const{name:v,value:b}=y.target;c(w=>({...w,[v]:b}))},f=y=>{y.preventDefault(),i(l),c({title:"",description:"",startDate:"",dueDate:""}),a()},m=()=>{c({title:"",description:"",startDate:"",dueDate:""}),a()};return o?g.jsx("div",{className:"modal-overlay",onClick:m,children:g.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[g.jsx("h2",{className:"modal-title",children:"New Assignment"}),g.jsxs("form",{onSubmit:f,className:"assignment-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),g.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:d,className:"form-input",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),g.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:d,className:"form-textarea",rows:"4",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"startDate",className:"form-label",children:"Start Date"}),g.jsx("input",{type:"datetime-local",id:"startDate",name:"startDate",value:l.startDate,onChange:d,className:"form-input",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"dueDate",className:"form-label",children:"Due Date"}),g.jsx("input",{type:"datetime-local",id:"dueDate",name:"dueDate",value:l.dueDate,onChange:d,className:"form-input",required:!0})]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"button",onClick:m,className:"btn-cancel",children:"Cancel"}),g.jsx("button",{type:"submit",className:"btn-submit",children:"Create Assignment"})]})]})]})}):null}function B_({className:o,onBack:a,onViewAssignment:i,onViewStudent:l}){const[c,d]=J.useState("assignments"),[f,m]=J.useState(!1),[y,v]=J.useState({}),[b,w]=J.useState([]),[j,_]=J.useState([]),[O,x]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const[$,X]=await Promise.all([Dc(o),f_(o)]);w($),_(X)}catch($){console.error("Error fetching class data:",$)}finally{x(!1)}})()},[o]);const D=()=>{m(!0)},H=()=>{m(!1)},L=async V=>{try{const $=await S_({...V,className:o,dueDate:V.dueDate?new Date(V.dueDate).toISOString():null});console.log("New assignment created:",$);const X=await Dc(o);w(X)}catch($){console.error("Error creating assignment:",$),alert("Failed to create assignment. Please try again.")}},G=async(V,$)=>{if(window.confirm(`Are you sure you want to delete "${$}"?

This will permanently delete:
 The assignment
 All student submissions
 All grades and feedback

This action cannot be undone.`))try{await E_(V);const we=await Dc(o);w(we),alert("Assignment deleted successfully")}catch(we){console.error("Error deleting assignment:",we),alert("Failed to delete assignment. Please try again.")}},Q=V=>{v($=>({...$,[V]:!$[V]}))};return O?g.jsx("div",{className:"class-page",children:"Loading..."}):g.jsxs("div",{className:"class-page",children:[g.jsxs("div",{className:"class-header",children:[g.jsx("h2",{className:"class-title",children:o}),g.jsx("button",{className:"new-assignment-btn",onClick:D,children:"New Assignment"})]}),g.jsxs("div",{className:"class-tabs",children:[g.jsx("button",{className:`tab-button ${c==="assignments"?"active":""}`,onClick:()=>d("assignments"),children:"Assignments"}),g.jsx("button",{className:`tab-button ${c==="students"?"active":""}`,onClick:()=>d("students"),children:"Students"})]}),g.jsxs("div",{className:"tab-content",children:[c==="assignments"&&g.jsx("div",{className:"assignments-tab",children:b.map(V=>g.jsxs("div",{className:"assignment-card",children:[g.jsxs("div",{className:"assignment-content",onClick:()=>i(V),children:[g.jsxs("div",{className:"assignment-info",children:[g.jsx("h3",{className:"assignment-title",children:V.title}),g.jsx("p",{className:"assignment-description",children:V.description})]}),g.jsxs("div",{className:"assignment-details",children:[g.jsx("span",{className:`assignment-status ${V.status.toLowerCase()}`,children:V.status}),g.jsxs("span",{className:"assignment-due",children:["Due: ",V.dueDate]})]})]}),g.jsx("button",{className:"delete-assignment-btn",onClick:$=>{$.stopPropagation(),G(V.id,V.title)},title:"Delete Assignment",children:""})]},V.id))}),c==="students"&&g.jsx("div",{className:"students-tab",children:j.map(V=>g.jsxs("div",{className:"student-card",children:[g.jsxs("div",{className:"student-info",onClick:()=>l(V),children:[g.jsx("h3",{className:"student-name",children:V.name}),g.jsx("p",{className:"student-email",children:V.email})]}),g.jsxs("div",{className:"student-details",children:[g.jsxs("span",{className:"student-activity",children:["Last active: ",V.lastActivity]}),g.jsxs("div",{className:"student-grade-section",children:[g.jsx("button",{className:"student-grade-reveal-btn",onClick:()=>Q(V.id),children:y[V.id]?"Hide Grade":"Show Grade"}),y[V.id]&&g.jsxs("div",{className:"student-overall-grade",children:[g.jsxs("span",{children:["Overall: ",V.overallGrade," (",V.totalPoints,")"]}),g.jsxs("span",{className:"submission-count",children:[V.submissionCount," submissions"]})]})]})]})]},V.id))})]}),g.jsx("button",{className:"back-btn",onClick:a,children:"Back to Dashboard"}),g.jsx(M_,{isOpen:f,onClose:H,onSubmit:L})]})}function L_({videoUrl:o,className:a=""}){const[i,l]=J.useState(!0),[c,d]=J.useState(!1);J.useEffect(()=>{l(!0),d(!1)},[o]);const f=()=>{l(!1),d(!1)},m=()=>{l(!1),d(!0)};return o?g.jsxs("div",{className:`video-player-container ${a}`,children:[i&&g.jsx("div",{className:"video-loading",children:g.jsx("p",{children:"Loading video..."})}),c&&g.jsx("div",{className:"video-error",children:g.jsx("p",{children:"Failed to load video"})}),g.jsx("video",{src:o,controls:!0,className:"video-player",onLoadedData:f,onError:m,style:{display:i||c?"none":"block"},children:"Your browser does not support the video tag."})]}):g.jsx("div",{className:`video-player-container ${a}`,children:g.jsx("div",{className:"video-placeholder",children:g.jsx("p",{children:"No video submitted yet"})})})}function q_({assignment:o,onBack:a,onViewStudent:i}){const[l,c]=J.useState({}),[d,f]=J.useState([]),[m,y]=J.useState(!0),[v,b]=J.useState(null),[w,j]=J.useState(!1);J.useEffect(()=>{o?(async()=>{try{if(!o?.id){y(!1);return}const L=(await g_(o.id)).map(G=>({id:G.studentId,name:G.name,email:G.email,status:G.status,grade:G.grade}));f(L)}catch(H){console.error("Error fetching student progress:",H)}finally{y(!1)}})():y(!1)},[o]);const _=D=>{c(H=>({...H,[D]:!H[D]}))},O=async D=>{j(!0);try{const H=await v_(o.id,D);b(H)}catch(H){console.error("Error fetching student feedback:",H),alert("Failed to load student feedback")}finally{j(!1)}},x=()=>{b(null)};return m?g.jsx("div",{className:"assignment-detail-page",children:"Loading..."}):o?g.jsxs("div",{className:"assignment-detail-page",children:[g.jsxs("div",{className:"assignment-detail-header",children:[g.jsx("h2",{className:"assignment-detail-title",children:o.title}),g.jsx("p",{className:"assignment-detail-description",children:o.description}),g.jsxs("p",{className:"assignment-detail-due",children:["Due: ",o.dueDate]})]}),g.jsxs("div",{className:"student-progress-section",children:[g.jsx("h3",{className:"section-title",children:"Student Progress"}),g.jsx("div",{className:"student-progress-list",children:d.map(D=>g.jsxs("div",{className:"student-progress-card",children:[g.jsxs("div",{className:"student-progress-info",onClick:()=>i(D),children:[g.jsx("h4",{className:"student-progress-name",children:D.name}),g.jsx("p",{className:"student-progress-email",children:D.email})]}),g.jsxs("div",{className:"student-progress-details",children:[g.jsx("span",{className:`progress-status ${D.status.toLowerCase().replace(" ","-")}`,children:D.status}),g.jsxs("div",{className:"assignment-grade-section",children:[g.jsx("button",{className:"assignment-grade-reveal-btn",onClick:()=>_(D.id),children:l[D.id]?"Hide Grade":"Show Grade"}),l[D.id]&&g.jsxs("span",{className:"assignment-student-grade",children:["Grade: ",D.grade]})]}),D.status!=="Not Started"&&g.jsx("button",{className:"view-feedback-btn",onClick:()=>O(D.id),disabled:w,children:w?"Loading...":"View Feedback"})]})]},D.id))})]}),g.jsx("button",{className:"back-btn",onClick:a,children:"Back to Class"}),v&&g.jsx("div",{className:"modal-overlay",onClick:x,children:g.jsxs("div",{className:"modal-content teacher-feedback-modal",onClick:D=>D.stopPropagation(),children:[g.jsxs("div",{className:"teacher-feedback-header",children:[g.jsxs("h2",{children:["Detailed Feedback: ",v.student.name]}),g.jsx("button",{className:"close-modal-btn",onClick:x,children:""})]}),g.jsxs("div",{className:"teacher-feedback-content",children:[g.jsxs("div",{className:"grade-summary",children:[g.jsx("h3",{children:"Grade Summary"}),g.jsxs("div",{className:"grade-details",children:[g.jsxs("span",{className:"grade-score",children:[v.grade?.letterGrade||"N/A","(",v.grade?.totalScore||"N/A","/100)"]}),v.grade?.gradedAt&&g.jsxs("span",{className:"grade-date",children:["Graded: ",new Date(v.grade.gradedAt).toLocaleString()]})]}),v.grade&&g.jsxs("div",{className:"component-scores",children:[g.jsx("h4",{children:"Score Breakdown (Simple Average)"}),g.jsxs("div",{className:"score-components",children:[g.jsxs("div",{className:"score-component",children:[g.jsx("span",{className:"component-label",children:"Speech Content (50%):"}),g.jsxs("span",{className:"component-score",children:[v.grade.speechContentScore||"N/A","/",v.grade.contentScoreMax||3]})]}),g.jsxs("div",{className:"score-component",children:[g.jsx("span",{className:"component-label",children:"Filler Words (50%):"}),g.jsxs("span",{className:"component-score",children:[v.grade.fillerWordScore||"N/A","/20"]})]})]})]})]}),g.jsxs("div",{className:"teacher-transcript-section",children:[g.jsx("h3",{children:"Speech Transcript"}),g.jsx("div",{className:"teacher-transcript-content",children:v.submission?.transcript?g.jsx("p",{className:"transcript-text",children:v.submission.transcript}):g.jsx("p",{className:"no-transcript",children:"No transcript available"})}),v.submission?.submittedAt&&g.jsxs("p",{className:"submission-info",children:["Submitted: ",new Date(v.submission.submittedAt).toLocaleString()]})]}),v.feedback&&g.jsxs("div",{className:"teacher-feedback-analysis",children:[g.jsx("h3",{children:"AI Analysis & Feedback"}),g.jsxs("div",{className:"feedback-category",children:[g.jsx("h4",{children:"Filler Words Analysis"}),g.jsx("p",{children:v.feedback.fillerWords}),v.grade&&g.jsxs("div",{className:"filler-word-details",children:[g.jsxs("div",{className:"filler-stats",children:[g.jsxs("span",{className:"filler-count",children:["Count: ",v.grade.fillerWordCount||0]}),g.jsxs("span",{className:"filler-score",children:["Score: ",v.grade.fillerWordScore||Math.max(0,20-(v.grade.fillerWordCount||0)),"/20"]})]}),v.grade.fillerWordsUsed&&v.grade.fillerWordsUsed.length>0&&g.jsxs("div",{className:"filler-words-used",children:[g.jsx("strong",{children:"Detected filler words:"}),g.jsx("div",{className:"filler-word-tags",children:v.grade.fillerWordsUsed.map((D,H)=>{const L=v.grade.fillerWordCounts?.[D]||1;return g.jsxs("span",{className:"filler-word-tag",children:[D," (",L,"x)"]},H)})})]})]})]}),g.jsxs("div",{className:"feedback-category",children:[g.jsx("h4",{children:"Speech Content Analysis"}),g.jsx("p",{children:v.feedback.speechContent})]}),g.jsxs("div",{className:"feedback-category",children:[g.jsx("h4",{children:"Delivery & Language Analysis"}),g.jsx("p",{children:v.feedback.bodyLanguage})]})]}),v.submission?.videoUrl&&g.jsxs("div",{className:"teacher-video-section",children:[g.jsx("h3",{children:"Student Video"}),g.jsx(L_,{videoUrl:v.submission.videoUrl,className:"teacher-video-player"})]})]})]})})]}):g.jsxs("div",{className:"assignment-detail-page",children:[g.jsx("h2",{children:"Assignment not found"}),g.jsx("button",{className:"back-btn",onClick:a,children:"Back to Class"})]})}function H_({student:o,onBack:a}){const[i,l]=J.useState([]),[c,d]=J.useState(!0);if(J.useEffect(()=>{(async()=>{try{const O=await p_(o.id);l(O)}catch(O){console.error("Error fetching student data:",O)}finally{d(!1)}})()},[o.id]),c)return g.jsx("div",{className:"student-detail-page",children:"Loading..."});const f=i.map(_=>({id:_.assignmentId,assignmentName:_.assignmentName,grade:_.grade,points:_.points,maxPoints:100,status:_.status})),m=f.filter(_=>_.status==="Graded"),y=m.reduce((_,O)=>_+O.points,0),v=m.reduce((_,O)=>_+O.maxPoints,0),b=v>0?Math.round(y/v*100):0,j=(_=>_>=97?"A+":_>=93?"A":_>=90?"A-":_>=87?"B+":_>=83?"B":_>=80?"B-":_>=77?"C+":_>=73?"C":_>=70?"C-":_>=67?"D+":_>=63?"D":_>=60?"D-":"F")(b);return g.jsxs("div",{className:"student-detail-page",children:[g.jsxs("div",{className:"student-detail-header",children:[g.jsx("h2",{className:"student-detail-title",children:o.name}),g.jsx("p",{className:"student-detail-email",children:o.email})]}),g.jsxs("div",{className:"assignments-grades-section",children:[g.jsx("h3",{className:"section-title",children:"Assignment Grades"}),g.jsx("div",{className:"assignments-grades-list",children:f.map(_=>g.jsxs("div",{className:"assignment-grade-card",children:[g.jsxs("div",{className:"assignment-grade-info",children:[g.jsx("h4",{className:"assignment-grade-name",children:_.assignmentName}),g.jsx("span",{className:`assignment-grade-status ${_.status.toLowerCase().replace(" ","-")}`,children:_.status})]}),g.jsxs("div",{className:"assignment-grade-details",children:[g.jsx("span",{className:"assignment-grade-value",children:_.grade}),g.jsxs("span",{className:"assignment-grade-points",children:[_.points,"/",_.maxPoints]})]})]},_.id))})]}),g.jsx("div",{className:"total-grade-section",children:g.jsxs("div",{className:"total-grade-card",children:[g.jsx("h3",{className:"total-grade-title",children:"Total Grade"}),g.jsxs("div",{className:"total-grade-info",children:[g.jsx("span",{className:"total-grade-letter",children:j}),g.jsxs("span",{className:"total-grade-percentage",children:[b,"%"]}),g.jsxs("span",{className:"total-grade-points",children:[y,"/",v," points"]})]})]})}),g.jsx("button",{className:"back-btn",onClick:a,children:"Back"})]})}function G_({assignment:o,studentId:a,onBack:i,onViewRecording:l}){const[c,d]=J.useState(null),[f,m]=J.useState("Not Started"),[y,v]=J.useState(null),[b,w]=J.useState(!0);J.useEffect(()=>{(async()=>{try{if(!o?.id||!a){w(!1);return}const[D,H,L]=await Promise.all([y_(o.id),b_(a,o.id),m_(o.id,a)]);d(D),m(H),v(L)}catch(D){console.error("Error fetching assignment data:",D)}finally{w(!1)}})()},[o?.id,a]);const j=f==="In Progress",O=!(c?new Date>new Date(c.rawDueDate):!1);return b?g.jsx("div",{className:"student-assignment-page",children:"Loading..."}):c?g.jsxs("div",{className:"student-assignment-page",children:[g.jsxs("div",{className:"student-assignment-header",children:[g.jsx("h2",{className:"student-assignment-title",children:c.title}),g.jsx("p",{className:"student-assignment-description",children:c.description})]}),g.jsxs("div",{className:"feedback-section",children:[g.jsx("h3",{className:"feedback-title",children:"Your Speech Analysis:"}),g.jsx("div",{className:"transcript-section",children:g.jsxs("div",{className:"feedback-category transcript-category",children:[g.jsx("h4",{className:"feedback-category-title",children:"Speech Transcript"}),g.jsx("div",{className:"transcript-content",children:j&&y&&y.transcript&&y.transcript!=="No transcript available yet."?g.jsx("p",{className:"transcript-text",children:y.transcript}):g.jsx("p",{className:"transcript-placeholder",children:j?"Transcript processing...":"Submit your speech to see the transcript"})}),j&&y?.submittedAt&&g.jsxs("p",{className:"submission-timestamp",children:["Submitted: ",new Date(y.submittedAt).toLocaleString()]})]})}),g.jsxs("div",{className:"feedback-categories",children:[g.jsxs("div",{className:"feedback-category filler-words-category",children:[g.jsx("h4",{className:"feedback-category-title",children:"Filler Words Analysis"}),g.jsx("div",{className:"feedback-content filler-words-content",children:j&&y?g.jsx("div",{className:"filler-analysis-text",dangerouslySetInnerHTML:{__html:y.fillerWords.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>").replace(//g,"&bull;")}}):g.jsx("p",{className:"no-feedback",children:"N/A"})})]}),g.jsxs("div",{className:"feedback-category",children:[g.jsx("h4",{className:"feedback-category-title",children:"Speech Content Analysis"}),g.jsx("div",{className:"feedback-content speech-content",children:j&&y?g.jsx("div",{className:"speech-analysis-text",dangerouslySetInnerHTML:{__html:y.speechContent.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>").replace(//g,"&bull;")}}):g.jsx("p",{className:"no-feedback",children:"N/A"})})]}),g.jsxs("div",{className:"feedback-category",children:[g.jsx("h4",{className:"feedback-category-title",children:"Delivery & Language Analysis"}),g.jsx("div",{className:"feedback-content",children:j&&y?g.jsx("div",{className:"delivery-analysis-text",dangerouslySetInnerHTML:{__html:y.bodyLanguage.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>").replace(//g,"&bull;")}}):g.jsx("p",{className:"no-feedback",children:"N/A"})})]})]})]}),O&&g.jsx("div",{className:"record-button-container",children:g.jsx("button",{className:"record-btn",onClick:()=>l(o),children:j?"Re-record":"Record"})}),!O&&g.jsx("div",{className:"record-button-container",children:g.jsx("p",{className:"due-date-passed",children:"Assignment due date has passed. Recording is no longer available."})}),g.jsx("button",{className:"back-btn",onClick:i,children:"Back to Dashboard"})]}):g.jsxs("div",{className:"student-assignment-page",children:[g.jsx("h2",{children:"Assignment not found"}),g.jsx("button",{className:"back-btn",onClick:i,children:"Back to Dashboard"})]})}function $_({assignment:o,studentId:a,onBack:i}){const[l,c]=J.useState(!1),[d,f]=J.useState(!1),[m,y]=J.useState(!1),[v,b]=J.useState(null),[w,j]=J.useState(null),_=J.useRef(null),O=J.useRef(null),x=J.useRef([]);J.useEffect(()=>(D(),()=>{H()}),[]);const D=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});b($),_.current&&(_.current.srcObject=$)}catch($){console.error("Error accessing camera:",$),alert("Camera access denied. Please allow camera access to record.")}},H=()=>{v&&(v.getTracks().forEach($=>$.stop()),b(null))},L=()=>{v&&(x.current=[],O.current=new MediaRecorder(v,{mimeType:"video/webm;codecs=vp9"}),O.current.ondataavailable=$=>{$.data.size>0&&x.current.push($.data)},O.current.onstop=()=>{const $=new Blob(x.current,{type:"video/webm"});j($),f(!0)},O.current.start(),c(!0))},G=()=>{O.current&&l&&(O.current.stop(),c(!1))},Q=()=>{f(!1),j(null),x.current=[]},V=async()=>{if(w){y(!0);try{console.log("Uploading video to storage...");const $=await __(w,a,o.id);console.log("Video uploaded successfully:",$);const X=await j_({assignmentId:o.id,studentId:a,videoUrl:$.publicUrl,transcript:null},w,o.title);console.log("Submission created:",X),alert("Video submitted successfully! You will receive feedback shortly."),i()}catch($){console.error("Error submitting video:",$),alert(`Failed to submit video: ${$.message}. Please try again.`)}finally{y(!1)}}};return g.jsxs("div",{className:"recording-page",children:[g.jsxs("div",{className:"recording-header",children:[g.jsxs("h2",{className:"recording-title",children:["Record Assignment: ",o.title]}),g.jsx("p",{className:"recording-description",children:"Record your presentation for analysis"})]}),g.jsx("div",{className:"camera-section",children:g.jsxs("div",{className:"camera-container",children:[g.jsx("video",{ref:_,className:"camera-preview",autoPlay:!0,playsInline:!0,muted:!0}),l&&g.jsxs("div",{className:"recording-indicator",children:[g.jsx("div",{className:"recording-dot"}),g.jsx("span",{children:"Recording..."})]})]})}),g.jsx("div",{className:"recording-controls",children:d?g.jsxs("div",{className:"post-recording-controls",children:[g.jsx("button",{className:"re-record-btn",onClick:Q,children:"Re-record"}),g.jsx("button",{className:"send-analysis-btn",onClick:V,disabled:m,children:m?"Processing with AI...":"Send for Analysis"})]}):g.jsx("div",{className:"initial-controls",children:l?g.jsx("button",{className:"record-stop-btn",onClick:G,children:"Stop Recording"}):g.jsx("button",{className:"record-start-btn",onClick:L,disabled:!v,children:"Start Recording"})})}),g.jsx("button",{className:"back-btn",onClick:i,children:"Back to Assignment"})]})}function V_(){const[o,a]=J.useState(null),[i,l]=J.useState(null),[c,d]=J.useState(!0),[f,m]=J.useState("dashboard"),[y,v]=J.useState(null),[b,w]=J.useState(null),[j,_]=J.useState(null),[O,x]=J.useState(null),[D,H]=J.useState(null),[L,G]=J.useState(null);J.useEffect(()=>{(async()=>{const{data:{session:ve}}=await ae.auth.getSession();ve?.user&&await Q(ve.user),d(!1)})();const{data:{subscription:ye}}=ae.auth.onAuthStateChange((ve,A)=>{ve==="SIGNED_OUT"&&(a(null),l(null),H(null),m("dashboard"))});return()=>ye.unsubscribe()},[]);const Q=async Z=>{a(Z);const{data:ye}=await ae.from("students").select("id").eq("email",Z.email).single();if(ye)l("student"),H(ye.id),m("dashboard");else{const{data:ve}=await ae.from("teachers").select("id").eq("email",Z.email).single();ve?(l("teacher"),m("dashboard")):(l("student"),m("dashboard"))}},V=async()=>{await ae.auth.signOut()},$=()=>{v(null),w(null),_(null),G(null),m("dashboard")},X=Z=>{v(Z),m("class")},we=Z=>{w(Z),m("assignment")},le=()=>{w(null),_(null),m("class")},ke=Z=>{_(Z),m("studentDetail")},at=()=>{_(null),m(b?"assignment":"class")},Qe=Z=>{x(Z),m("studentAssignment")},Xt=()=>{x(null),m(L?"studentAssignments":"dashboard")},Bt=Z=>{x(Z),m("recording")},ht=Z=>{G(Z),m("studentAssignments")},z=()=>{G(null),m("dashboard")},Y=()=>{m("studentAssignment")};return c?g.jsx("div",{className:"loading-container",children:g.jsx("div",{children:"Loading..."})}):o?g.jsxs(g.Fragment,{children:[g.jsx(Fb,{user:o,userRole:i,onLogout:V}),f==="dashboard"&&i==="teacher"&&g.jsx(D_,{user:o,onClassSelect:Z=>X(Z.name)}),f==="dashboard"&&i==="student"&&D&&g.jsx(z_,{user:{id:D,email:o.email},onClassSelect:ht}),f==="studentAssignments"&&L&&g.jsx(k_,{user:{id:D,email:o.email},selectedClass:L,onAssignmentSelect:Qe,onBackToClasses:z}),f==="class"&&g.jsx(B_,{className:y,onBack:$,onViewAssignment:we,onViewStudent:ke}),f==="assignment"&&g.jsx(q_,{assignment:b,onBack:le,onViewStudent:ke}),f==="studentDetail"&&g.jsx(H_,{student:j,onBack:at}),f==="studentAssignment"&&g.jsx(G_,{assignment:O,studentId:D,onBack:Xt,onViewRecording:Bt}),f==="recording"&&g.jsx($_,{assignment:O,studentId:D,onBack:Y})]}):g.jsx(Wb,{onLogin:Q})}jy.createRoot(document.getElementById("root")).render(g.jsx(J.StrictMode,{children:g.jsx(V_,{})}));
